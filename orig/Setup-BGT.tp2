///////////////////////////////////////////////////////
// BGT-WeiDU installation tp2 file
///////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////
// Compatibility
///////////////////////////////////////////////////////////////////////////////////////////
// BG2 Fixpack - checks for cdbehbla.pro in game
// CtB - checks for data\CTB-RULE.BIF
// NeJ: Continuous and Custom Imoen Kit - checks for CLABCHRG.2DA
// NeJ: Priest of Sylvanus (Druid) Kit and Improved Character Jaheira - checks for CLABSYPR.2DA
// NeJ: Minsc's Familiar - checks for BOO.ITM
// NeJ: Part 1 - checks for Bag02NeJ.ITM
// NeJ: Part 2 - checks for EyeBite.itm
// SoS - checks for data\SOS-RULE.BIF
// TDD - checks for data\TDD-RULE.BIF
// TS - checks for Kachi01.wav
///////////////////////////////////////////////////////////////////////////////////////////

BACKUP ~BGT/Backup~

AUTHOR ~http://forums.spellholdstudios.net/index.php?showforum=261~

VERSION ~1.10 (28 August 10)~

README ~BGT/Help/[%LANGUAGE%]BGTReadme.htm~

LANGUAGE ~English~
         ~English~
         ~BGT/Language/English/prompts.tra~
         ~BGT/Language/English/setup.tra~
         ~BGT/Language/English/dialog.tra~
         ~BGT/Language/English/journal.tra~
         ~BGT/Language/English/scripts.tra~
LANGUAGE ~International English~
         ~International~
         ~BGT/Language/English/prompts.tra~
         ~BGT/Language/English/setup.tra~
         ~BGT/Language/English/dialog.tra~
         ~BGT/Language/English/journal.tra~
         ~BGT/Language/English/scripts.tra~
LANGUAGE ~Castellano (Castilian/Spanish)~
         ~Castilian~
         ~BGT/Language/Castilian/prompts.tra~
         ~BGT/Language/Castilian/setup.tra~
         ~BGT/Language/Castilian/dialog.tra~
         ~BGT/Language/Castilian/journal.tra~
         ~BGT/Language/Castilian/scripts.tra~
LANGUAGE ~Francais (French)~
         ~French~
         ~BGT/Language/French/prompts.tra~
         ~BGT/Language/French/setup.tra~
         ~BGT/Language/French/dialog.tra~
         ~BGT/Language/French/journal.tra~
         ~BGT/Language/French/scripts.tra~
LANGUAGE ~Deutsch (German)~
         ~German~
         ~BGT/Language/German/prompts.tra~
         ~BGT/Language/German/setup.tra~
         ~BGT/Language/German/dialog.tra~
         ~BGT/Language/German/journal.tra~
         ~BGT/Language/German/scripts.tra~
LANGUAGE ~Italiano (Italian)~
         ~Italian~
         ~BGT/Language/Italian/prompts.tra~
         ~BGT/Language/Italian/setup.tra~
         ~BGT/Language/Italian/dialog.tra~
         ~BGT/Language/Italian/journal.tra~
         ~BGT/Language/Italian/scripts.tra~
LANGUAGE ~«—±πæÓ (Korean)~
         ~Korean~
         ~BGT/Language/Korean/prompts.tra~
         ~BGT/Language/Korean/setup.tra~
         ~BGT/Language/Korean/dialog.tra~
         ~BGT/Language/Korean/journal.tra~
         ~BGT/Language/Korean/scripts.tra~
LANGUAGE ~Polski (Polish)~
         ~Polish~
         ~BGT/Language/Polish/prompts.tra~
         ~BGT/Language/Polish/setup.tra~
         ~BGT/Language/Polish/dialog.tra~
         ~BGT/Language/Polish/journal.tra~
         ~BGT/Language/Polish/scripts.tra~
LANGUAGE ~ê„··™®© (Russian)~
         ~Russian~
         ~BGT/Language/Russian/prompts.tra~
         ~BGT/Language/Russian/setup.tra~
         ~BGT/Language/Russian/dialog.tra~
         ~BGT/Language/Russian/journal.tra~
         ~BGT/Language/Russian/scripts.tra~
LANGUAGE ~ºÚÃÂ÷–Œƒ (Chinese - Simplified)~
         ~SChinese~
         ~BGT/Language/SChinese/prompts.tra~
         ~BGT/Language/SChinese/setup.tra~
         ~BGT/Language/SChinese/dialog.tra~
         ~BGT/Language/SChinese/journal.tra~
         ~BGT/Language/SChinese/scripts.tra~
LANGUAGE %¡c≈È§§§Â (Chinese - Traditional)%
         ~TChinese~
         ~BGT/Language/TChinese/prompts.tra~
         ~BGT/Language/TChinese/setup.tra~
         ~BGT/Language/TChinese/dialog.tra~
         ~BGT/Language/TChinese/journal.tra~
         ~BGT/Language/TChinese/scripts.tra~

BEGIN @100000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~XNEWAREA.2DA~ @100021

///////////////////////////////////////////////////////
// initialise installation
///////////////////////////////////////////////////////

MKDIR ~BG1CRE~

<<<<<<<<BGT/Place.txt
>>>>>>>>

COPY + ~Setup-BGT.exe~ ~_WeiDU.exe~

<<<<<<<<BGT/PreLanguage.txt
aaa>>>>>>>>

COPY + ~BGT/PreLanguage.txt~ ~BGT/Language.txt~
 PATCH_IF ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~International~ ) = 0 BEGIN
  REPLACE_TEXTUALLY ~aaa~ ~English~
 END ELSE BEGIN
   REPLACE_TEXTUALLY ~aaa~ ~%LANGUAGE%~
 END

ACTION_IF (~%argv[0]%~ STRING_CONTAINS_REGEXP ~[Pp]~) = 0 THEN BEGIN
  COPY ~BGT/PreLanguage.txt~ ~BGT/Autopath.txt~
    REPLACE_TEXTUALLY ~aaa~ ~%argv[1]%~
END

COPY ~BGT/Place.txt~ ~BGT/Input.txt~

AT_NOW ~BGT/Install/PreInit.bat~

///////////////////////////////////////////////////////
// making empty files for easy uninstall later
///////////////////////////////////////////////////////

COPY ~BGT/Place.txt~ ~characters/BGcleric.chr~
COPY ~BGT/Place.txt~ ~characters/BGfighte.chr~
COPY ~BGT/Place.txt~ ~characters/BGmage.chr~
COPY ~BGT/Place.txt~ ~characters/BGmulti.chr~
COPY ~BGT/Place.txt~ ~characters/BGthief.chr~

///////////////////////////////////////////////////////
// chitin.key and override backup
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100002

COPY ~chitin.key~ ~chitin.key~

MKDIR ~BGT/over.bak~
COPY_LARGE + ~override~ ~BGT/over.bak~

///////////////////////////////////////////////////////
// now check to prevent override directory being empty
///////////////////////////////////////////////////////

ACTION_IF (NOT FILE_EXISTS ~BGT/Input.txt~)
       OR (NOT FILE_EXISTS ~BGT/bg1.tra~)
       OR (NOT FILE_EXISTS ~BG1CRE/D2ISL.CRE~)
THEN BEGIN
  FAIL @100015
END

///////////////////////////////////////////////////////
// dialog.tlk patches
///////////////////////////////////////////////////////
PRINT ~~
PRINT @100003

MKDIR ~BGT/dialog.bak~

COPY_LARGE + ~dialog.tlk~ ~BGT/dialog.bak/dialog.tlk~

//For foreign versions
ACTION_IF
  FILE_EXISTS ~dialogF.tlk~
THEN BEGIN
  COPY_LARGE + ~dialogF.tlk~ ~BGT/dialog.bak/dialogF.tlk~
END

///////////////////////////////////////////////////////
// journal, sound, and [] update of bg1.tra
///////////////////////////////////////////////////////
OUTER_SET tra_updated = 0

ACTION_IF
  ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~English~ ) = 0
THEN BEGIN
  COPY ~BGT/Install/English/bg1.tra~ ~BGT/Install/English/bg1.tra~
    PATCH_INCLUDE ~BGT/Include/tra_update.tpp~
    SET tra_updated = 1
  LOAD_TRA ~BGT/Install/English/bg1.tra~
END

ACTION_IF
  ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Russian~ ) = 0
THEN BEGIN
  COPY ~BGT/Install/Russian/bg1.tra~ ~BGT/Install/Russian/bg1.tra~
    PATCH_INCLUDE ~BGT/Include/tra_update.tpp~
    SET tra_updated = 1
  LOAD_TRA ~BGT/Install/Russian/bg1.tra~
END

ACTION_IF
  "%tra_updated%" = 0
THEN BEGIN
  COPY ~BGT/bg1.tra~ ~BGT/bg1.tra~
    PATCH_INCLUDE ~BGT/Include/tra_update.tpp~
    PATCH_IF (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~French~ ) = 0) BEGIN
      REPLACE_TEXTUALLY "\(@14837[ ]*=[ ]*\)\(~[^~]*~\)[ ]*~[^~]*~" "\1\2 \2" //fix for female "Fumier d'assassin ! Le Poing EnflammÈ ne vous ratera pas !"
    END
    PATCH_IF (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Korean~ ) = 0) BEGIN
      REPLACE_TEXTUALLY "\(@4101.*\[\)BGMNSC19\(\]\)" "\1BGMNSC20\2" //correct Minsc soundset sound
      REPLACE_TEXTUALLY "\(@4112.*\[\)BGMNSC30\(\]\)" "\1BGMNSC31\2" //correct Minsc soundset sound
    END
  LOAD_TRA ~BGT/bg1.tra~
END

//////////////////////
// Soundset changes
//////////////////////

//Black Lily -- BLACK## to BLACKL##
STRING_SET ~4798~ @4798
STRING_SET ~4799~ @4799
STRING_SET ~12493~ @12493
STRING_SET ~12494~ @12494

//Priestess of Umberlee -- UMBER## (actually no sound in BG2) to PUMBER##
STRING_SET ~4973~ @4973
STRING_SET ~4975~ @4975
STRING_SET ~5467~ @5467
STRING_SET ~5468~ @5468
STRING_SET ~12600~ @12600
STRING_SET ~12601~ @12601

///////////////////////////////////////////////////
// Soundsets: Incorrect sound entry/No entry at all
///////////////////////////////////////////////////

STRING_SET ~3437~ @3437
STRING_SET ~3665~ @3665
STRING_SET ~4898~ @4898
STRING_SET ~4986~ @4986
STRING_SET ~11109~ @11109
STRING_SET ~11618~ @11618
STRING_SET ~11725~ @11725
STRING_SET ~11856~ @11856
STRING_SET ~23804~ @23804
STRING_SET ~23805~ @23805
STRING_SET ~23806~ @23806
STRING_SET ~23807~ @23807
STRING_SET ~23808~ @23808
STRING_SET ~23814~ @23814
STRING_SET ~23815~ @23815
STRING_SET ~23816~ @23816
STRING_SET ~23817~ @23817
STRING_SET ~23818~ @23818
STRING_SET ~23819~ @23819
STRING_SET ~23820~ @23820
STRING_SET ~23822~ @23822
STRING_SET ~23823~ @23823
STRING_SET ~23824~ @23824
STRING_SET ~23825~ @23825
STRING_SET ~23826~ @23826
STRING_SET ~23827~ @23827
STRING_SET ~23828~ @23828
STRING_SET ~23829~ @23829
STRING_SET ~23830~ @23830
STRING_SET ~23831~ @23831
STRING_SET ~23832~ @23832
STRING_SET ~23833~ @23833
STRING_SET ~23834~ @23834
STRING_SET ~23835~ @23835
STRING_SET ~23836~ @23836
STRING_SET ~23837~ @23837
STRING_SET ~23840~ @23840
STRING_SET ~23841~ @23841
STRING_SET ~23842~ @23842
STRING_SET ~23843~ @23843
STRING_SET ~23844~ @23844
STRING_SET ~23846~ @23846
STRING_SET ~23847~ @23847
STRING_SET ~23848~ @23848
STRING_SET ~23849~ @23849
STRING_SET ~23850~ @23850
STRING_SET ~23852~ @23852
STRING_SET ~23853~ @23853
STRING_SET ~23854~ @23854
STRING_SET ~23855~ @23855
STRING_SET ~23856~ @23856
STRING_SET ~23857~ @23857
STRING_SET ~23858~ @23858
STRING_SET ~23859~ @23859
STRING_SET ~23860~ @23860
STRING_SET ~23861~ @23861
STRING_SET ~23862~ @23862
STRING_SET ~23863~ @23863
STRING_SET ~23864~ @23864
STRING_SET ~23865~ @23865
STRING_SET ~23866~ @23866
STRING_SET ~23867~ @23867
STRING_SET ~23868~ @23868
STRING_SET ~23870~ @23870
STRING_SET ~23871~ @23871
STRING_SET ~23872~ @23872
STRING_SET ~23873~ @23873
STRING_SET ~23880~ @23880
STRING_SET ~23881~ @23881
STRING_SET ~23882~ @23882
STRING_SET ~23883~ @23883
STRING_SET ~23884~ @23884
STRING_SET ~23885~ @23885
STRING_SET ~23886~ @23886
STRING_SET ~23888~ @23888
STRING_SET ~23889~ @23889
STRING_SET ~23890~ @23890
STRING_SET ~23891~ @23891
STRING_SET ~23892~ @23892
STRING_SET ~23893~ @23893
STRING_SET ~23894~ @23894
STRING_SET ~23895~ @23895
STRING_SET ~23896~ @23896
STRING_SET ~23897~ @23897
STRING_SET ~23898~ @23898
STRING_SET ~23899~ @23899
STRING_SET ~23900~ @23900
STRING_SET ~23901~ @23901
STRING_SET ~23902~ @23902
STRING_SET ~23903~ @23903
STRING_SET ~23904~ @23904
STRING_SET ~23905~ @23905
STRING_SET ~23907~ @23907
STRING_SET ~23908~ @23908
STRING_SET ~23909~ @23909
STRING_SET ~23910~ @23910
STRING_SET ~23911~ @23911
STRING_SET ~23912~ @23912
STRING_SET ~23913~ @23913
STRING_SET ~23914~ @23914
STRING_SET ~23915~ @23915
STRING_SET ~23916~ @23916
STRING_SET ~23918~ @23918
STRING_SET ~23919~ @23919
STRING_SET ~23920~ @23920
STRING_SET ~23921~ @23921
STRING_SET ~23922~ @23922
STRING_SET ~23924~ @23924
STRING_SET ~23925~ @23925
STRING_SET ~23926~ @23926
STRING_SET ~23927~ @23927
STRING_SET ~23928~ @23928
STRING_SET ~23929~ @23929
STRING_SET ~23930~ @23930
STRING_SET ~23931~ @23931
STRING_SET ~23932~ @23932
STRING_SET ~23933~ @23933
STRING_SET ~23934~ @23934
STRING_SET ~23935~ @23935
STRING_SET ~23936~ @23936
STRING_SET ~23937~ @23937
STRING_SET ~23938~ @23938
STRING_SET ~23939~ @23939
STRING_SET ~23944~ @23944
STRING_SET ~23945~ @23945
STRING_SET ~23946~ @23946
STRING_SET ~23947~ @23947
STRING_SET ~23948~ @23948
STRING_SET ~23949~ @23949
STRING_SET ~23987~ @23987
STRING_SET ~23988~ @23988
STRING_SET ~23989~ @23989
STRING_SET ~23990~ @23990
STRING_SET ~23991~ @23991
STRING_SET ~23992~ @23992
STRING_SET ~23993~ @23993
STRING_SET ~23994~ @23994
STRING_SET ~23995~ @23995
STRING_SET ~23996~ @23996
//cannot do these three since they overwrite Mazzy strings
//STRING_SET ~24002~ @24002
//STRING_SET ~24003~ @24003
//STRING_SET ~24004~ @24004

/////////////////////////////////////////////////
// Soundset: Biography additions to empty strings
/////////////////////////////////////////////////

STRING_SET ~10171~ @10171
STRING_SET ~10172~ @10172
STRING_SET ~10181~ @10181
STRING_SET ~10183~ @10183
STRING_SET ~10192~ @10192
STRING_SET ~10195~ @10195
STRING_SET ~10196~ @10196
STRING_SET ~10197~ @10197
STRING_SET ~10198~ @10198
STRING_SET ~10200~ @10200
STRING_SET ~10201~ @10201
STRING_SET ~10202~ @10202
STRING_SET ~10204~ @10204
STRING_SET ~10207~ @10207
STRING_SET ~10208~ @10208
STRING_SET ~10213~ @10213
STRING_SET ~10214~ @10214
STRING_SET ~10215~ @10215

///////////////////
// GUI text changes
///////////////////

STRING_SET ~33093~ @900039  /* Changes TUTORIAL button */
STRING_SET ~44200~ @900040  /* Changes message after clicking TUTORIAL button */
STRING_SET ~73247~ @900042  /* Changes SHADOWS OF AMN button at the start screen */

//Changes description under the SHADOWS OF AMN button  ************************************
COPY_EXISTING ~BGT/title.tr~ ~BGT/title.tra~
 SPRINT str ""
 SPRINT bgt ""
 SPRINT tdd ""
 SPRINT sos ""
 SPRINT ts ""
 SPRINT nej ""
 SPRINT rot ""
 SPRINT ctb ""
 SPRINT bp ""
 SPRINT separator " "
 SPRINT namets  @900043
 SPRINT nametdd @900044
 SPRINT namesos @900045
 SPRINT namenej @900046
 SPRINT namerot @900047
 SPRINT namebp  @900048
 SPRINT namectb @900049
 SPRINT namestr1 @900050
 SPRINT namestr2 @900051
 SPRINT bgt @900052
 SPRINT namestr3 ""
 PATCH_IF (FILE_EXISTS_IN_GAME ~Kachi01.wav~) BEGIN
   SPRINT ts ~%separator%%namets%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS ~data/TDD-RULE.BIF~) BEGIN
   SPRINT tdd ~%separator%%nametdd%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS ~data/SoS-RULE.BIF~) BEGIN
   SPRINT sos ~%separator%%namesos%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS_IN_GAME ~Bag02NeJ.ITM~) OR
          (FILE_EXISTS_IN_GAME ~EyeBite.itm~) BEGIN
   SPRINT nej ~%separator%%namenej%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS ~data/ROT-RULE.BIF~) BEGIN
   SPRINT rot ~%separator%%namerot%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS ~data/BP-RULE.BIF~) BEGIN
   SPRINT bp ~%separator%%namebp%~
   SPRINT namestr3 @900053
 END
 PATCH_IF (FILE_EXISTS ~data/CTB-RULE.BIF~) BEGIN
   SPRINT ctb ~%separator%%namectb%~
   SPRINT namestr3 @900053
 END
 SPRINT str ~%namestr1%%bgt%%namestr2%%namestr3%%ts%%tdd%%sos%%nej%%rot%%bp%%ctb%~
 REPLACE_TEXTUALLY ~game prompt~ "%str%"

 STRING_SET ~73245~ @123456789 USING ~BGT/title.tra~

////////////////////////////
// Chapters: Textscreen text
////////////////////////////

//STRING_SET ~11898~ Exists:'The dawn is especially cool...'
//STRING_SET ~11899~ Exists:'You will not last long...'
STRING_SET ~15836~ @15836
STRING_SET ~15837~ @15837
STRING_SET ~15838~ @15838
//STRING_SET ~15839~ Exists:'You have dealt a great blow...'
STRING_SET ~15840~ @15840
STRING_SET ~15841~ @15841
//STRING_SET ~15879~ See foreign language compatibility section
//STRING_SET ~15880~ See foreign language compatibility section
STRING_SET ~15896~ @15896
STRING_SET ~15898~ @15898
STRING_SET ~16190~ @16190
STRING_SET ~16214~ @16214 /* Welcome to Candlekeep text */

//////////////////////////
// Dreams: Textscreen text
//////////////////////////

STRING_SET ~19267~ @19267
STRING_SET ~19268~ @19268
STRING_SET ~19269~ @19269
STRING_SET ~19270~ @19270
STRING_SET ~19271~ @19271
STRING_SET ~19273~ @19273
STRING_SET ~19274~ @19274
STRING_SET ~19275~ @19275
STRING_SET ~19276~ @19276
STRING_SET ~19278~ @19278
STRING_SET ~19279~ @19279
STRING_SET ~19280~ @19280

////////////////////////
// Miscellaneous changes
////////////////////////

STRING_SET ~23809~ @23809 /* Die! + sound */
STRING_SET ~23810~ @23810 /* Stun! + sound */
STRING_SET ~23811~ @23811 /* Pain! + sound */
STRING_SET ~23812~ @23812 /* Fear! + sound */
STRING_SET ~23972~ @23972 /* Crypt Crawler Name 1 */
STRING_SET ~23973~ @23973 /* Crypt Crawler Name 2 */

////////////////////////
// Protagonist biography
////////////////////////

OUTER_INNER_PATCH "1234" BEGIN

  //initialize special characters
  WRITE_BYTE 0x0 0xD
  WRITE_BYTE 0x1 0xA
  READ_ASCII 0x0 CHAR_LINERETURN (2)

  //store and retrieve separate paragraphs
  SAY 0x0 @15881 //FIGHTER_ALL
  READ_LONG 0x0 index_0
  SAY 0x0 @15888 //RANGER_ALL
  READ_LONG 0x0 index_1
  SAY 0x0 @15887 //PALADIN_ALL
  READ_LONG 0x0 index_2
  SAY 0x0 @15884 //CLERIC_ALL
  READ_LONG 0x0 index_3
  SAY 0x0 @15885 //DRUID_ALL
  READ_LONG 0x0 index_4
  SAY 0x0 @15882 //MAGE_ALL
  READ_LONG 0x0 index_5
  SAY 0x0 @15883 //THIEF_ALL
  READ_LONG 0x0 index_6
  SAY 0x0 @15886 //BARD_ALL
  READ_LONG 0x0 index_7
  SAY 0x0 @15884 //MONK
  READ_LONG 0x0 index_8
  SAY 0x0 @15889 //CLERIC_RANGER; CLERIC_MAGE; CLERIC_THIEF; FIGHTER_CLERIC; FIGHTER_DRUID; FIGHTER_MAGE; FIGHTER_MAGE_CLERIC; FIGHTER_MAGE_THIEF; FIGHTER_THIEF; MAGE_THIEF
  READ_LONG 0x0 index_9
  SAY 0x0 @15895 //HUMAN
  READ_LONG 0x0 index_10
  SAY 0x0 @15891 //ELF
  READ_LONG 0x0 index_11
  SAY 0x0 @15892 //HALF-ELF
  READ_LONG 0x0 index_12
  SAY 0x0 @15894 //GNOME
  READ_LONG 0x0 index_13
  SAY 0x0 @15893 //HALFLING
  READ_LONG 0x0 index_14
  SAY 0x0 @15890 //DWARF
  READ_LONG 0x0 index_15
  SAY 0x0 @900000 //HALF-ORC
  READ_LONG 0x0 index_16

  //concatenate and store strings
  INNER_ACTION BEGIN
    COPY ~BGT/Modify/BAF/A6BIO.baf~ ~BGT/Base/BAF/A6BIO.baf~
      FOR (i = 0; i < 10; i += 1 ) BEGIN
        SPRINT index_par1 ~index_~^~%i%~
        SET index_par1 = EVALUATE_BUFFER ~%index_par1%~
        GET_STRREF %index_par1% string_par1

        FOR (j = 10; j < 17; j +=1 ) BEGIN
          SPRINT index_par2 ~index_~^~%j%~
          SET index_par2 = EVALUATE_BUFFER ~%index_par2%~
          GET_STRREF %index_par2% string_par2
          SPRINT string_full ~%string_par1%~^~%CHAR_LINERETURN%~^~%CHAR_LINERETURN%~^~%string_par2%~

          SET location = (%i% * 7) + (%j% - 10)
          REPLACE ~,A6#%location%,~ ~%string_full%~
          REPLACE_TEXTUALLY ~\(Myself\)\([0-9]*\)\(EXISTANCE5\)~ ~\1,\2,\3~
        END
      END

      GET_STRREF 33347 string_bg2
  END
END

COPY ~BGT/title.tr~ ~BGT/bio.tra~
  REPLACE_TEXTUALLY ~game prompt~ ~%string_bg2%~

STRING_SET ~15881~ @123456789 USING ~BGT/bio.tra~
STRING_SET ~33347~ ~~

/////////////////////////////////
// Foreign language compatibility
/////////////////////////////////

ACTION_IF
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Castilian~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~English~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~International~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Italian~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Korean~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Polish~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Russian~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~SChinese~ ) = 0) OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~TChinese~ ) = 0)
THEN BEGIN
  STRING_SET ~15879~ @15879
  STRING_SET ~15880~ @15880
END

ACTION_IF
  ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~French~ ) = 0
THEN BEGIN
  STRING_SET ~10898~ @10898 //Warder
  STRING_SET ~11026~ @11026 //Warder
  STRING_SET ~15879~ @300000
  STRING_SET ~15880~ @300001
END

ACTION_IF
  ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~German~ ) = 0
THEN BEGIN
  STRING_SET ~15879~ @300000
  STRING_SET ~15880~ @300001
  STRING_SET ~8918~ @300029
END

ACTION_IF
  ( ~%LANGUAGE%~ STRING_COMPARE_CASE ~Russian~ ) = 0
THEN BEGIN
  COPY ~BGT/Language/%LANGUAGE%/Fonts~ ~override~
END

///////////////////////////////////////////////////////
// Ruleset Changes
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100005

COPY_EXISTING ~AREALINK.2DA~ ~override~
  APPEND ~AREALINK.2DA~
~AREA3100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3200              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3499              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3498              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3800              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA3900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4200              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4600              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4800              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA4900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA5100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA5300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA5400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA6600              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA6700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA6800              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA6900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7200              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7500              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7600              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7800              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA7900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8200              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8500              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8600              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8800              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA8900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9200              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9300              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9400              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9500              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9600              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9700              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9799              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREA9900              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAA000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAA100              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAAM00              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAD000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAU000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAW000              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA
AREAW500              0           NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA      NO_AREA~

COPY_EXISTING ~INTERDIA.2DA~ ~override~
  APPEND ~INTERDIA.2DA~
~KAGAIN      BKAGAI        NONE
KIVAN       BKIVAN        NONE
SHARTEEL    BSHART        NONE
YESLICK     BYESLI        NONE
XZAR        BXZAR         NONE
MONTARON    BMONTA        NONE
CORAN       BCORAN        NONE
DYNAHEIR    BDYNA         NONE
ALORA       BALORA        NONE
AJANTIS     BAJANT        NONE
KHALID      BKHALI        NONE
GARRICK     BGARRI        NONE
SAFANA      BSAFAN        NONE
FALDORN     BFALDO        NONE
BRANWEN     BBRANW        NONE
QUAYLE      BQUAYL        NONE
XAN         BXANNN        NONE
SKIE        BSKIE         NONE
ELDOTH      BELDOT        NONE
TIAX        BTIAX         NONE~

COPY_EXISTING ~HATERACE.2DA~ ~override~
  APPEND ~HATERACE.2DA~
~GNOLL                    6627       110      6627~
  UNLESS ~GNOLL~

COPY_EXISTING ~ITEMEXCL.2DA~ ~override~
  APPEND ~ITEMEXCL.2DA~
~PLAT08  1~
  UNLESS ~PLAT08~

COPY_EXISTING ~MASTAREA.2DA~ ~override~
  APPEND ~MASTAREA.2DA~
~AR7200  value
AR7300  value
AR7400  value
AR7500  value
ARD000  value
ARD011  value
ARD012  value
ARD013  value
ARD014  value
ARD015  value
ARD016  value
AR7600  value
AR7700  value
AR7800  value
AR7900  value
ARU000  value
AR8000  value
AR8100  value
AR8200  value
AR8300  value
ARW500  value
AR8400  value
AR8500  value
AR8600  value
AR8700  value
ARW000  value
AR8800  value
AR7000  value
AR6800  value
AR8900  value
AR0015  value
AR6526  value
AR6600  value
AR6900  value
AR9000  value
AR9100  value
AR9200  value
AR9100  value
AR6700  value
AR9300  value
AR9400  value
AR9500  value
AR9600  value
AR9700  value
AR9799  value
AR9900  value
ARA100  value
AR3100  value
AR3200  value
AR3300  value
AR3400  value
AR3499  value
AR3498  value
AR3700  value
AR3800  value
AR3900  value
AR4100  value
AR4200  value
AR4300  value
AR4400  value
AR4600  value
AR7326  value
AR7325  value
AR7324  value
AR7223  value
AR7225  value
AR7246  value
AR8601  value
AR8602  value
AR8603  value
AR8604  value
AR6515  value
AR6519  value
AR6804  value
AR6805  value
AR6806  value
AR6508  value
AR6509  value
AR6510  value
AR6511  value
AR6512  value
AR6513  value
AR6514  value
AR4401  value
AR4402  value
AR4403  value
AR4404  value
AR4405  value~
//AR5506  value -unused, but has equivalent BG1AR2660 (BGTAR6560)
//AR2500  value -does not exist

COPY_EXISTING ~MOVIDESC.2DA~ ~override~
  REPLACE_TEXTUALLY ~Intro15f~ ~SoAIntro~
  APPEND ~MOVIDESC.2DA~
~BEREGOST       19659
BGENTER         19660
BHAAL           19661
CAMP            19662
CNDLKEEP        19663
DUNGEON         19664
ELDRCITY        19665
ENDMOVIE        19666
FRARMINN        19667
GNOLL           19668
BGINTRO         19669
IRONTHRN        19670
MINEFLOD        19671
NASHKELL        19672
PALACE          19673
SEWER           19674
TAVERN          19675
WYVERN          19676
DURLAG          22854
WRECK           22838~
  UNLESS ~BGENTER~

COPY_EXISTING ~PDIALOG.2DA~ ~override~
  APPEND ~PDIALOG.2DA~
~KAGAIN       KAGAIP             KAGAIJ            ***            KAGAIP             KAGAIJ             ***                 ***
KIVAN        KIVANP             KIVANJ            ***            KIVANP             KIVANJ             ***                 ***
SHARTEEL     SHARTP             SHARTJ            ***            SHARTP             SHARTJ             ***                 ***
YESLICK      YESLIP             YESLIJ            ***            YESLIP             YESLIJ             ***                 ***
XZAR         XZARP              XZARJ             ***            XZARP              XZARJ              ***                 ***
MONTARON     MONTAP             MONTAJ            ***            MONTAP             MONTAJ             ***                 ***
ALORA        ALORAP             ALORAJ            ***            ALORAP             ALORAJ             ***                 ***
AJANTIS      AJANTP             AJANTJ            ***            AJANTP             AJANTJ             ***                 ***
KHALID       KHALIP             KHALIJ            ***            KHALIP             KHALIJ             ***                 ***
GARRICK      GARRIP             GARRIJ            ***            ***                ***                ***                 ***
SAFANA       SAFANP             SAFANJ            ***            ***                ***                ***                 ***
FALDORN      FALDOP             FALDOJ            ***            ***                ***                ***                 ***
BRANWEN      BRANWP             BRANWJ            ***            BRANWP             BRANWJ             ***                 ***
QUAYLE       QUAYLP             QUAYLJ            ***            ***                ***                ***                 ***
XAN          XANP               XANJ              ***            XANP               XANJ               ***                 ***
SKIE         SKIEP              SKIEJ             ***            SKIEP              SKIEJ              ***                 ***
ELDOTH       ELDOTP             ELDOTJ            ***            ELDOTP             ELDOTJ             ***                 ***
TIAX         TIAXP              TIAXJ             ***            TIAXP              TIAXJ              ***                 ***~

  APPEND ~PDIALOG.2DA~
~DYNAHEIR     DYNAP              DYNAJ             ***            ***                ***                ***                 ***~
  UNLESS ~DYNAHEIR~

  APPEND ~PDIALOG.2DA~
~CORAN        CORANP             CORANJ            ***            ***               ***               ***                 ***~
  UNLESS ~CORAN~

//Random treasure patching much later in installation

COPY_EXISTING ~XNEWAREA.2DA~ ~override~
  COUNT_2DA_ROWS 15 "rows_cnt"
  FOR(cnt=0; cnt<"%rows_cnt%"; cnt=cnt+1 ) BEGIN
    READ_2DA_ENTRY cnt 1 15  "name"
    PATCH_IF( ("%name%" STRING_COMPARE_CASE "AR3000")=0 ) BEGIN
      SET_2DA_ENTRY cnt 4 15 "90"
      SET_2DA_ENTRY cnt 6 15 "1260"
    END
  END

///////////////////////
//Spawngrp.2da patching
///////////////////////

//**********************************************************
//[AR3100.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 @@@@@RDBG000!!!! ------80++++++--- SKELET_A---  SKELET_B---  *=======---  *=======---  *=======---  *=======---  =======*=======---  =======*=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG000A--- 80++++++--- SKELET_A---  SKELET_B---  SKELET_B---  SKELET_B---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG000B--- 80++++++--- SKELET_A---  SKELET_B---  SKELET_A---  SKELET_A---  SKELET_A---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG000C--- 80++++++--- SKELET_A---  SKELET_B---  SKELET_A---  SKELET_A---  SKELET_B---  SKELET_B---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001!!!! 80++++++--- DOGWI------  DOGWA------  GNOLL_A(---  GNOLL_A(---  GNOLL_B(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001A--- 80++++++--- DOGWI------  DOGWA------  GNOLL------  BEARCA>>---  GNOLL_B(---  GNOLL_A(---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001B--- 80++++++--- DOGWI------  DOGWI------  GNOLL------  DOGWI------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001C--- 80++++++--- GNOLL_A(---  GNOLL_A(---  GNOLL------  GNOLL_B(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001D--- 80++++++--- DOGWI------  DOGWA------  GNOLL------  BEARCA>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001E--- 80++++++--- DOGWI------  DOGWA------  DOGWA------  DOGWA------  GNOLL_B(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG001F--- 80++++++--- BEARCA>>---  DOGWA------  GNOLL------  GNOLL_B(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG002!!!! 80++++++--- GNOLL------  BGWOLF>>---  GNOLL_A(---  GNOLL_B(---  GNOLL_D(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG002A--- 80++++++--- GNOLL_D(---  BGWOLF>>---  GNOLL_B(---  GNOLL_B(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG002B--- 80++++++--- GNOLL------  GNOLL_D(---  GNOLL_A(---  GNOLL_B(---  GNOLL_D(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG002C--- 80++++++--- BGWOLF>>---  BGWOLF>>---  GNOLL_A(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG003!!!! 80++++++--- GNOLL------  BEARBR>>---  BEARCA>>---  GNOLL_B(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG003A--- 80++++++--- GNOLL_B(---  GNOLL_B(---  GNOLL------  GNOLL_B(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG003B--- 80++++++--- GNOLL------  GNOLL_B(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG003C--- 80++++++--- BEARBR>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG004!!!! 80++++++--- GHOUL------  GHAST------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005!!!! 80++++++--- GNOLL------  BEARBL>>---  BEARCA>>---  FLIND------  FLIND------  SKELET_A---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005A--- 80++++++--- GNOLL------  GNOLL------  SKELET_A---  GNOLL------  FLIND------  SKELET_A---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005B--- 80++++++--- GNOLL------  GNOLL------  GNOLL------  FLIND------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005C--- 80++++++--- GNOLL------  BEARBL>>---  BEARCA>>---  FLIND------  FLIND------  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005D--- 80++++++--- BEARCA>>---  BEARBL>>---  FLIND------  FLIND------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG005E--- 80++++++--- GNOLL------  SKELET_A---  SKELET_A---  FLIND------  SKELET_A---  SKELET_A---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG006!!!! 80++++++--- GNOLL------  GNOLL------  OGREGR>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG006A--- 80++++++--- GNOLL------  GNOLL------  GNOLL------  GNOLL------  OGREGR>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG006B--- 80++++++--- OGREBERZ---  GNOLL------  OGREGR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG006C--- 80++++++--- GNOLL------  GNOLL------  OGREGR>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG006D--- 80++++++--- OGREBERZ---  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG007!!!! 80++++++--- GNOLL------  OGREGR>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG007A--- 80++++++--- GNOLL------  OGREGR>>---  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG007B--- 80++++++--- OGREBERZ---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG008!!!! 80++++++--- DOGWI------  DOGWA------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG008A--- 80++++++--- DOGWI------  DOGWA------  DOGWI------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG008B--- 80++++++--- DOGWI------  DOGWA------  DOGWI------  DOGWI------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG008C--- 80++++++--- DOGWI------  DOGWA------  DOGWI------  DOGWA------  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3200.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG009!!!! 80++++++--- KOBOLD_D---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG009A--- 80++++++--- KOBOLD_D---  HOBGOB_C---  KOBOLD_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG010!!!! 80++++++--- HOBGOB_D---  KOBOLD_E---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG010A--- 80++++++--- KOBOLD_E---  KOBOLD_E---  HOBELITE---  KOBOLD_E---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG010B--- 80++++++--- HOBGOB_D---  HOBGOB_D---  HOBGOB_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG011!!!! 80++++++--- KOBOLD_D---  KOBOLA_C---  BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG011A--- 80++++++--- BANDIT>>---  KOBOLA_C---  BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG011B--- 80++++++--- KOBOLD_D---  KOBOLD_D---  KOBOLD_D---  KOBOLA_C---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG012!!!! 80++++++--- BANDIT>>---  BANDIT>>---  KOBOLD>>---  WOLFVA>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG012A--- 80++++++--- BANDIT>>---  BANDIT>>---  KOBOLD>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG012B--- 80++++++--- WOLFVA>>---  BANDIT>>---  KOBOLD>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG012C--- 80++++++--- BANDIT>>---  KOBOLD>>---  KOBOLD>>---  KOBOLD>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG013!!!! 80++++++--- HOBGOB_A---  GHOUL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG013A--- 80++++++--- HOBGOB_A---  HOBGOB_A---  HOBGOB_A---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG014!!!! 80++++++--- KOBOLA_D---  GIBBER>>---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG014A--- 80++++++--- KOBOLA_D---  GIBBER>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG014B--- 80++++++--- HOBELITE---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG015!!!! 80++++++--- BANDIT>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG015A--- 80++++++--- BANDIT>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG015B--- 80++++++--- GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG016!!!! 80++++++--- HOBGOA_D---  GIBBER>>---  WOLFVA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG016A--- 80++++++--- HOBGOA_D---  GIBBER>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG016B--- 80++++++--- WOLFVA>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG016C--- 80++++++--- HOBGOA_D---  WOLFVA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3300.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG017!!!! 80++++++--- KOBOLD_C---  OGREGR>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG017A--- 80++++++--- KOBOLD_C---  OGREGR>>---  KOBOLD_C---  KOBOLD_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG017B--- 80++++++--- OGRE!!!!---  OGREGR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG018!!!! 80++++++--- KOBOLA_C---  KOBOLD_D---  OGREGR>>---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG018A--- 80++++++--- KOBOLA_C---  KOBOLD_D---  KOBOLA_C---  KOBOLA_C---  KOBOLD_D---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG018B--- 80++++++--- OGREGR>>---  KOBOLD_D---  KOBOLD_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG018C--- 80++++++--- KOBCOMM(---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG019!!!! 80++++++--- BGWOLF>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG019A--- 80++++++--- BGWOLF>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG019B--- 80++++++--- OGREBERZ---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG020!!!! 80++++++--- BGWOLF>>---  WOLFDI>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG020A--- 80++++++--- BGWOLF>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG020B--- 80++++++--- BGWOLF>>---  WOLFDI>>---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG021!!!! 80++++++--- XVART_B(---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG021A--- 80++++++--- XVART_B(---  XVART_B(---  XVART_B(---  XVART_B(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG022!!!! 80++++++--- XVART------  KOBOLD_D---  OGREGR>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG022A--- 80++++++--- XVART------  OGRE!!!!---  OGREGR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG022B--- 80++++++--- XVART------  KOBOLD_D---  KOBOLD_D---  OGRE!!!!---  KOBOLD_D---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG022C--- 80++++++--- XVART------  KOBOLD_D---  XVART------  XVART------  OGREBERZ---  XVART------  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG023!!!! 80++++++--- KOBOLA_D---  OGREGR>>---  OGRE!!!!---  OGREMA>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG023A--- 80++++++--- KOBOLA_D---  OGREGR>>---  OGREGR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG023B--- 80++++++--- KOBOLA_D---  OGREGR>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG023C--- 80++++++--- KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  OGREMA>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG024!!!! 80++++++--- BGWOLF>>---  WOLFDR>>---  OGREGR>>---  OGREBERZ---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG024A--- 80++++++--- WOLFDR>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG024B--- 80++++++--- BGWOLF>>---  OGREBERZ---  OGREGR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG025!!!! 80++++++--- BEARBL>>---  BEARBR>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3400.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG026!!!! 80++++++--- ZOMBIE_A---  ZOMBIE_C---  SKELET_A---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG027!!!! 80++++++--- SKELET_C---  SKELET_B---  ZOMBIE_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG028!!!! 80++++++--- ZOMBIE_B---  ZOMBIE_A---  SKELET_B---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG029!!!! 80++++++--- DOGWI------  DOGWA------  KOBOLA_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG030!!!! 80++++++--- KOBOLA_E---  KOBOLA_C---  KOBOLD_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG031!!!! 80++++++--- KOBOLD_C---  KOBOLA_C---  KOBOLA_E---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG032!!!! 80++++++--- KOBOLA_B---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG033!!!! 80++++++--- SKELET_C---  SKELET_B---  ZOMBIE_E---  ZOMBIE_A---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG034!!!! 80++++++--- ZOMBIE_D---  ZOMBIE_A---  SKELET_C---  SKELET_B---  SKELET_A---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3401.are]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG035!!!! 80++++++--- KOBCOMM(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG035A--- 80++++++--- KOBCOMM(---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG035B--- 80++++++--- KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG035C--- 80++++++--- KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG035D--- 80++++++--- KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  KOBCOMM(---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3498.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG036!!!! 80++++++--- XVART_A(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG036A--- 80++++++--- XVART_A(---  XVART_A(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG036B--- 80++++++--- XVART_A(---  XVART_A(---  XVART_A(---  XVART_A(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG037!!!! 80++++++--- XVART_B(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG037A--- 80++++++--- XVART_B(---  XVART_B(---  XVART_B(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG037B--- 80++++++--- XVART_B(---  XVART_B(---  XVART_B(---  XVART_B(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG038!!!! 80++++++--- XVART_C(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG038A--- 80++++++--- XVART_C(---  XVART_C(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG038B--- 80++++++--- XVART_C(---  XVART_C(---  XVART_C(---  XVART_C(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG039!!!! 80++++++--- XVART------  BGWOLF>>---  BGWOLF>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG039A--- 80++++++--- WOLFDI>>---  BGWOLF>>---  XVART------  XVART------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG039B--- 80++++++--- XVART------  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG040!!!! 80++++++--- BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3499.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG041!!!! 80++++++--- GIBBER>>---  OGREGR>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG041A--- 80++++++--- GIBBER>>---  OGREGR>>---  GIBBER>>---  OGREGR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG041B--- 80++++++--- OGREBERZ---  GIBBER>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG041C--- 80++++++--- GIBBER>>---  OGREGR>>---  OGRE!!!!---  GIBBER>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG042!!!! 80++++++--- DOGWI------  DOGWA------  GIBBER>>---  OGRE!!!!---  OGREBERZ---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG042A--- 80++++++--- GIBBER>>---  DOGWA------  GIBBER>>---  OGRE!!!!---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG042B--- 80++++++--- DOGWI------  OGRE!!!!---  GIBBER>>---  DOGWA------  DOGWA------  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG042C--- 80++++++--- OGREBERZ---  DOGWA------  DOGWI------  DOGWA------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG043!!!! 80++++++--- HOBGOB_C---  OGREGR>>---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG043A--- 80++++++--- HOBGOB_C---  HOBELITE---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG043B--- 80++++++--- HOBGOB_C---  HOBELITE---  HOBELITE---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG044!!!! 80++++++--- GIBBER>>---  DOGWI------  HOBGOB_D---  HOBELITE---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG044A--- 80++++++--- DOGWI------  DOGWI------  HOBGOB_D---  HOBELITE---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG044B--- 80++++++--- GIBBER>>---  HOBELITE---  HOBGOB_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG045!!!! 80++++++--- DOGWA------  GIBBER>>---  OGREGR>>---  OGREBERZ---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3800.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG046!!!! 80++++++--- KOBOLD_D---  KOBOLD_B---  KOBOLD_A---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG047!!!! 80++++++--- KOBOLD_C---  KOBOLD_E---  OGREBERZ---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG048!!!! 80++++++--- KOBOLD_E---  KOBOLD_B---  KOBOLA_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR3900.are]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG049!!!! 80++++++--- GNOLL------  DOGWA------  DOGWI------  ANKHEG>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG049A--- 80++++++--- GNOLL------  DOGWA------  DOGWI------  GNOLL------  DOGWA------  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG049B--- 80++++++--- ANKHEG>>---  DOGWA------  DOGWI------  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG050!!!! 80++++++--- DOGWI------  DOGWA------  KOBOLD_E---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG051!!!! 80++++++--- GNOLL------  DOGWI------  GIBBER>>---  OGREGR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG052!!!! 80++++++--- GNOLL------  DOGWI------  DOGWA------  FLIND------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG053!!!! 80++++++--- DOGWI------  KOBOLD>>---  ANKHEG>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG053A--- 80++++++--- DOGWI------  KOBOLD>>---  KOBOLD>>---  KOBOLD>>---  KOBOLD>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG053B--- 80++++++--- DOGWI------  KOBOLD>>---  DOGWI------  DOGWI------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG054!!!! 80++++++--- SKELET_A---  SKELET_B---  SKELET_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG055!!!! 80++++++--- GNOLL------  OGREGR>>---  OGREBERZ---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG056!!!! 80++++++--- SKELET_C---  SKELET_B---  SKELET_A---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR4100.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG057!!!! 80++++++--- XVART_A(---  XVART_B(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG057A--- 80++++++--- XVART_A(---  XVART_B(---  XVART_B(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG057B--- 80++++++--- XVART_A(---  XVART_B(---  XVART_A(---  XVART_A(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG058!!!! 80++++++--- XVART_C(---  XVART_A(---  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG058A--- 80++++++--- XVART_C(---  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG058B--- 80++++++--- XVART_C(---  XVART_A(---  GNOLL------  XVART_C(---  XVART_C(---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG059!!!! 80++++++--- XVART------  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG059A--- 80++++++--- XVART------  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG059B--- 80++++++--- XVART------  XVART------  XVART------  XVART------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG060!!!! 80++++++--- GNOLL------  XVART------  GNOLL_D(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG060A--- 80++++++--- GNOLL------  XVART------  GNOLL_D(---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG060B--- 80++++++--- GNOLL------  GNOLL------  GNOLL_D(---  GNOLL------  XVART------  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG061!!!! 80++++++--- GNOLL------  GNOLL_A(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG061A--- 80++++++--- GNOLL------  GNOLL_A(---  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG061B--- 80++++++--- GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG062!!!! 80++++++--- GNOLL------  XVART_C(---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG062A--- 80++++++--- GNOLL------  XVART_C(---  GNOLL_D(---  GNOLL------  XVART_C(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG062B--- 80++++++--- GNOLL------  XVART_C(---  GNOLL_D(---  GNOLL_D(---  XVART_C(---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG063!!!! 80++++++--- GNOLL------  GNOLL_D(---  GNOLL_A(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG063A--- 80++++++--- GNOLL------  GNOLL_D(---  GNOLL_A(---  GNOLL_D(---  GNOLL_A(---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG064!!!! 80++++++--- XVART_A(---  XVART_B(---  GNOLL------  GNOLL_A(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG065!!!! 80++++++--- XVART------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG065A--- 80++++++--- XVART------  XVART------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG065B--- 80++++++--- XVART------  XVART------  XVART------  XVART------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG066!!!! 80++++++--- GNOLL_E(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG066A--- 80++++++--- GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG066B--- 80++++++--- GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG066C--- 80++++++--- GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG066D--- 80++++++--- GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  GNOLL_E(---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG067!!!! 80++++++--- GNOLL------  GNOLL_A(---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG067A--- 80++++++--- GNOLL------  GNOLL_A(---  GNOLL_D(---  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG067B--- 80++++++--- GNOLL------  GNOLL_A(---  GNOLL_D(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG068!!!! 80++++++--- GNOLL_A(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG068A--- 80++++++--- GNOLL_A(---  GNOLL_A(---  GNOLL_E(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG068B--- 80++++++--- GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG068C--- 80++++++--- GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  GNOLL_A(---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG069!!!! 80++++++--- GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG069A--- 80++++++--- GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG069B--- 80++++++--- GNOLL------  GNOLL------  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR4200.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG070!!!! 80++++++--- XVART_B(---  GNOLL------  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG070A--- 80++++++--- XVART_B(---  GNOLL------  XVART_B(---  XVART_B(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG070B--- 80++++++--- WOLFWI>>---  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG070C--- 80++++++--- XVART_B(---  GNOLL------  GNOLL------  XVART_B(---  GNOLL------  GNOLL------  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG071!!!! 80++++++--- GNOLL------  WOLFDR>>---  WOLFWI>>---  BEARBR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG071A--- 80++++++--- WOLFWI>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG071B--- 80++++++--- GNOLL------  GNOLL------  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG071C--- 80++++++--- GNOLL------  WOLFDR>>---  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG072!!!! 80++++++--- XVART------  XVART_C(---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG072A--- 80++++++--- XVART------  XVART_C(---  XVART_C(---  XVART_C(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG072B--- 80++++++--- XVART------  XVART_C(---  XVART_C(---  XVART------  XVART------  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG073!!!! 80++++++--- BGWOLF>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG074!!!! 80++++++--- GNOLL------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG075!!!! 80++++++--- XVART------  GNOLL------  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG076!!!! 80++++++--- BGWOLF>>---  WOLFWI>>---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG077!!!! 80++++++--- GNOLL------  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR4300.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG078!!!! 80++++++--- XVART------  XVART_B(---  SKELET_A---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG079!!!! 80++++++--- KOBOLA_C---  XVART_A(---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG080!!!! 80++++++--- SKELET_B---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG080A--- 80++++++--- SKELET_B---  SKELET_B---  SKELET_B---  SKELET_B---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG081!!!! 80++++++--- KOBOLA_E---  XVART------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG081A--- 80++++++--- KOBOLA_E---  XVART------  KOBOLA_E---  KOBOLA_E---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG081B--- 80++++++--- KOBOLA_E---  XVART------  XVART------  KOBOLA_E---  XVART------  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG082!!!! 80++++++--- XVART------  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG082A--- 80++++++--- XVART------  XVART------  XVART------  XVART------  XVART------  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG082B--- 80++++++--- XVART------  WOLFWI>>---  WOLFWI>>---  XVART------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG083!!!! 80++++++--- XVART------  SKELET_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG083A--- 80++++++--- XVART------  SKELET_C---  SKELET_C---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG083B--- 80++++++--- XVART------  SKELET_C---  SKELET_C---  XVART------  XVART------  XVART------  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG084!!!! 80++++++--- KOBOLA_D---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG084A--- 80++++++--- KOBOLA_D---  BEARCA>>---  KOBOLA_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG084B--- 80++++++--- KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG085!!!! 80++++++--- XVART_C(---  XVART_B(---  SKELET_C---  KOBCOMM(---  SKELET_B---  SKELET_C---  *=======---  *=======--- ~

//**********************************************************
//[AR4400.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG086!!!! 80++++++--- KOBOLD_C---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG087!!!! 80++++++--- KOBOLD>>---  XVART------  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG088!!!! 80++++++--- KOBOLA_D---  GIBBER>>---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG089!!!! 80++++++--- KOBOLD_C---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG090!!!! 80++++++--- BGWOLF>>---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG091!!!! 80++++++--- BGWOLF>>---  KOBOLD_E---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR4600.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG092!!!! 80++++++--- GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG092A--- 80++++++--- GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG092B--- 80++++++--- GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG092C--- 80++++++--- GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>---  GIBBER>>--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG093!!!! 80++++++--- GIBBER>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG094!!!! 80++++++--- WOLFDI>>---  WOLFWI>>---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG094A--- 80++++++--- WOLFDI>>---  WOLFWI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG094B--- 80++++++--- WOLFDI>>---  WOLFDI>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG095!!!! 80++++++--- DOGWI------  DOGWA------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG095A--- 80++++++--- DOGWI------  DOGWA------  DOGWI------  DOGWI------  DOGWA------  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG095B--- 80++++++--- WOLFDR>>---  DOGWA------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR6519.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG096!!!! 80++++++--- SKELET_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG096A--- 80++++++--- SKELET_C---  SKELET_C---  SKELET_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG096B--- 80++++++--- SKELET_C---  SKELET_C---  SKELET_C---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG096C--- 80++++++--- SKELET_C---  SKELET_C---  SKELET_C---  SKELET_C---  SKELET_C---  SKELET_C---  *=======---  *=======--- ~

//**********************************************************
//[AR6600.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG097!!!! 80++++++--- GIBBER2(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG097A--- 80++++++--- GIBBER2(---  GIBBER2(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG098!!!! 80++++++--- GIBBER2(---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG098A--- 80++++++--- GIBBER2(---  GIBBER2(---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG099!!!! 80++++++--- WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG099A--- 80++++++--- BGWOLF>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG100!!!! 80++++++--- BEARBL>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR6900.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG101!!!! 80++++++--- GIBBER2(---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG102!!!! 80++++++--- GIBBER2(---  XVART------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG103!!!! 80++++++--- BGWOLF>>---  XVART------  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG104!!!! 80++++++--- BGWOLF>>---  XVART------  GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG105!!!! 80++++++--- XVART------  BGWOLF>>---  XVART------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG106!!!! 80++++++--- KOBOLDA(---  GIBBER>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG107!!!! 80++++++--- GIBBER2(---  XVART_A(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG108!!!! 80++++++--- XVART------  GIBBER>>---  GIBBER2(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG109!!!! 80++++++--- BGWOLF>>---  BGWOLF>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG110!!!! 80++++++--- GIBBER>>---  BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7000.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG111!!!! 80++++++--- TASLOI>>---  BGWOLF>>---  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG111A--- 80++++++--- TASLOI>>---  BGWOLF>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG111B--- 80++++++--- SPIDHU>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG112!!!! 80++++++--- SPIDHU>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG112A--- 80++++++--- WOLFDR>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG113!!!! 80++++++--- BEARBR>>---  BEARBL>>---  WORG!!!!---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG113A--- 80++++++--- WORG!!!!---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG113B--- 80++++++--- WORG!!!!---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG114!!!! 80++++++--- TASLOI>>---  WORG!!!!---  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG114A--- 80++++++--- SPIDHU>>---  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG114B--- 80++++++--- SPIDHU>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG115!!!! 80++++++--- OGREGR>>---  SPIDHU>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG115A--- 80++++++--- OGREGR>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG115B--- 80++++++--- OGREGR>>---  OGREGR>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG116!!!! 80++++++--- BEARBL>>---  BEARCA>>---  BGWOLF>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG116A--- 80++++++--- BGWOLF>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG117!!!! 80++++++--- TASLOI>>---  BGWOLF>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG118!!!! 80++++++--- TASLOI>>---  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG119!!!! 80++++++--- WOLFDR>>---  TASLOI>>---  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG120!!!! 80++++++--- BGWOLF>>---  XVART------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG120A--- 80++++++--- BGWOLF>>---  XVART------  BGWOLF>>---  XVART------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG120B--- 80++++++--- BGWOLF>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7100.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG121!!!! 80++++++--- SKELETS(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG121A--- 80++++++--- SKELETS(---  SKELETS(---  SKELETS(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG121B--- 80++++++--- SKELETS(---  SKELETS(---  SKELETS(---  SKELETS(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG121C--- 80++++++--- SKELETS(---  SKELETS(---  SKELETS(---  SKELETS(---  SKELETS(---  SKELETS(---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG122!!!! 80++++++--- SKELETS(---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG122A--- 80++++++--- SKELETS(---  BGWOLF>>---  SKELETS(---  SKELETS(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG123!!!! 80++++++--- BEARBR>>---  SKELETS(---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG123A--- 80++++++--- BEARBR>>---  SKELETS(---  SKELETS(---  SKELETS(---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG124!!!! 80++++++--- GNOLL------  SKELETS(---  BEARBL>>---  GNOLL_A(---  GNOLL_D(---  GNOLL_E(---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG125!!!! 80++++++--- BEARBL>>---  DOGWI------  GNOLL------  FLIND------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG125A--- 80++++++--- FLIND------  DOGWI------  GNOLL------  FLIND------  DOGWI------  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG126!!!! 80++++++--- SKELETS(---  GHOUL------  DOGWI------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG127!!!! 80++++++--- GNOLL------  GHOUL------  GHAST------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG128!!!! 80++++++--- SPIDHU>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7223.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG129!!!! 80++++++--- SKELET_A---  SKELET_B---  SKELET_C---  ZOMBIE_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG130!!!! 80++++++--- ZOMBIE_D---  ZOMBIE_A---  ZOMBIE_B---  SKELET_B---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG131!!!! 80++++++--- SKELET_C---  GHOUL------  ZOMBIE_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG131A--- 80++++++--- SKELET_C---  ZOMBIE_C---  ZOMBIE_C---  ZOMBIE_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG131B--- 80++++++--- SKELET_C---  GHOUL------  ZOMBIE_C---  SKELET_C---  SKELET_C---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG132!!!! 80++++++--- GHAST------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7324.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG133!!!! 80++++++--- SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG134!!!! 80++++++--- SPIDPH>>---  SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG134A--- 80++++++--- SPIDPH>>---  SPIDPH>>---  SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7325.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG135!!!! 80++++++--- JELLGR>>---  JELLMU>>---  JELLOC>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG136!!!! 80++++++--- JELLYGR(---  JELLYMU(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG137!!!! 80++++++--- JELLYGR(---  JELLOC>>---  JELLYMU(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR7326.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG138!!!! 80++++++--- CARRIO>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG138A--- 80++++++--- CARRIO>>---  CARRIO>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG138B--- 80++++++--- CARRIO>>---  CARRIO>>---  CARRIO>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG138C--- 80++++++--- CARRIO>>---  CARRIO>>---  CARRIO>>---  CARRIO>>---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8300.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG139!!!! 80++++++--- BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG139A--- 80++++++--- BANDIT>>---  BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG139B--- 80++++++--- BANDIT>>---  BANDIT>>---  BANDIT>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG139C--- 80++++++--- BANDIT>>---  BANDIT>>---  BANDIT>>---  BANDIT>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG140!!!! 80++++++--- BANDIT>>---  HOBGOB>>---  ANKHEG>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG141!!!! 80++++++--- ANKHEG>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG141A--- 80++++++--- ANKHEG>>---  ANKHEG>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG141B--- 80++++++--- ANKHEG>>---  ANKHEG>>---  ANKHEG>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG141C--- 80++++++--- ANKHEG>>---  ANKHEG>>---  ANKHEG>>---  ANKHEG>>---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8400.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG142!!!! 80++++++--- BEARBR>>---  BEARCA>>---  WOLFVA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG143!!!! 80++++++--- TASLOI>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG143A--- 80++++++--- TASLOI>>---  BEARCA>>---  BEARCA>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG143B--- 80++++++--- TASLOI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG144!!!! 80++++++--- TASLOI>>---  BGWOLF>>---  WORG!!!!---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG145!!!! 80++++++--- SPIDHU>>---  TASLOI>>---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG146!!!! 80++++++--- BEARBL>>---  DOGWI------  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG146A--- 80++++++--- DOGWI------  DOGWI------  BGWOLF>>---  BGWOLF>>---  BGWOLF>>---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG147!!!! 80++++++--- BEARCA>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG147A--- 80++++++--- BEARCA>>---  WOLFDR>>---  BGWOLF>>---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8500.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG148!!!! 80++++++--- IRONGU>>---  BEARCA>>---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG148A--- 80++++++--- IRONGU>>---  BGWOLF>>---  BGWOLF>>---  BGWOLF>>---  BGWOLF>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG148B--- 80++++++--- IRONGU>>---  IRONGU>>---  BGWOLF>>---  IRONGU>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG149!!!! 80++++++--- SPIDHU>>---  SPIDPH>>---  SPIDSW>>---  SPIDGI>>---  SPIDWR>>---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG149A--- 80++++++--- SPIDHU>>---  SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG149B--- 80++++++--- SPIDSW>>---  SPIDPH>>---  SPIDWR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG149C--- 80++++++--- SPIDGI>>---  SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG150!!!! 80++++++--- IRONGU>>---  TASLOI>>---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG150A--- 80++++++--- IRONGU>>---  TASLOI>>---  TASLOI>>---  IRONGU>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG150B--- 80++++++--- IRONGU>>---  IRONGU>>---  IRONGU>>---  IRONGU>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG150C--- 80++++++--- IRONGU>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG151!!!! 80++++++--- TASLOI>>---  BGWOLF>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG151A--- 80++++++--- TASLOI>>---  TASLOI>>---  WORG!!!!---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG152!!!! 80++++++--- IRONGU>>---  SPIDHU>>---  SPIDGI>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG152A--- 80++++++--- IRONGU>>---  TASLOI>>---  SPIDGI>>---  TASLOI>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG152B--- 80++++++--- IRONGU>>---  SPIDHU>>---  IRONGU>>---  IRONGU>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG153!!!! 80++++++--- IRONGU>>---  BEARBL>>---  BEARCA>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG153A--- 80++++++--- IRONGU>>---  IRONGU>>---  IRONGU>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG153B--- 80++++++--- IRONGU>>---  SPIDGI>>---  BEARCA>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8600.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG154!!!! 80++++++--- BGWOLF>>---  IRONGU>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG154A--- 80++++++--- IRONGU>>---  IRONGU>>---  IRONELIT---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG154B--- 80++++++--- BGWOLF>>---  IRONGU>>---  IRONELIT---  IRONELIT---  IRONGU>>---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG155!!!! 80++++++--- BGWOLF>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG156!!!! 80++++++--- TASLOI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG157!!!! 80++++++--- IRONGU>>---  TASLOI>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8602.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG158!!!! 80++++++--- HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG158A--- 80++++++--- HOBELITE---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG158B--- 80++++++--- HOBELITE---  HOBELITE---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG159!!!! 80++++++--- HOBGOB_D---  HOBGOB_C---  HOBGOA_E---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG160!!!! 80++++++--- HOBGOA_C---  HOBGOA_D---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG161!!!! 80++++++--- HOBGOA_E---  HOBGOA_A---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG161A--- 80++++++--- HOBGOA_E---  HOBGOA_A---  HOBGOA_E---  HOBGOA_A---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG162!!!! 80++++++--- HOBGOB_E---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG163!!!! 80++++++--- HOBGOA_A---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG163A--- 80++++++--- HOBGOA_A---  HOBGOA_A---  HOBGOA_A---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG163B--- 80++++++--- HOBGOA_A---  HOBGOA_A---  HOBGOA_A---  HOBGOA_A---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG164!!!! 80++++++--- HOBGOB_D---  HOBGOB_A---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG165!!!! 80++++++--- HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG165A--- 80++++++--- HOBGOB_C---  HOBGOB_C---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG165B--- 80++++++--- HOBGOB_C---  HOBGOB_C---  HOBGOB_C---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8700.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG166!!!! 80++++++--- BEARBL>>---  BEARBR>>---  DOGWI------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG167!!!! 80++++++--- HOBGOA_B---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG168!!!! 80++++++--- SKELET_B---  SKELET_C---  ZOMBIE_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG169!!!! 80++++++--- ZOMBIE_B---  SKELET03---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG169A--- 80++++++--- ZOMBIE_B---  SKELET03---  ZOMBIE_B---  SKELET03---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8800.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG170!!!! 80++++++--- SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG171!!!! 80++++++--- SPIDGI>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG171A--- 80++++++--- SPIDGI>>---  ETTERC>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG172!!!! 80++++++--- ETTERC>>---  SPIDHU>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR8900.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG173!!!! 80++++++--- BANDIT>>---  BANDIT>>---  DOGWI------  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG174!!!! 80++++++--- BANDIT>>---  SPIDHU>>---  SPIDGI>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG175!!!! 80++++++--- DOGWI------  DOGWA------  SPIDHU>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG176!!!! 80++++++--- BANDIT>>---  BEARBL>>---  BEARBR>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG177!!!! 80++++++--- BEARBL>>---  BEARBR>>---  SPIDWR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG178!!!! 80++++++--- GIBBER>>---  BANDIT>>---  DOGWI------  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG179!!!! 80++++++--- GIBBER>>---  HOBGOB>>---  BEARCA>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG180!!!! 80++++++--- DOGWI------  BEARBL>>---  BEARBR>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG181!!!! 80++++++--- BEARBR>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG182!!!! 80++++++--- GIBBER>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG183!!!! 80++++++--- GIBBER>>---  HOBELITE---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG184!!!! 80++++++--- FLIND------  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9000.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG185!!!! 80++++++--- BEARBL>>---  BGWOLF>>---  DOGWI------  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG186!!!! 80++++++--- DOGWI------  BANDIT>>---  BEARBR>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG187!!!! 80++++++--- BEARBL>>---  BEARBR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG188!!!! 80++++++--- GIBBER>>---  WOLFDI>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG189!!!! 80++++++--- DOGWI------  DOGWA------  BGWOLF>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG190!!!! 80++++++--- GIBBER>>---  BGWOLF>>---  WOLFDR>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG191!!!! 80++++++--- BANDIT>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG191A--- 80++++++--- BANDIT>>---  IRONELIT---  BANDIT>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG191B--- 80++++++--- BANDIT>>---  IRONELIT---  BANDIT>>---  BANDIT>>---  BANDIT>>---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG192!!!! 80++++++--- GIBBER>>---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG193!!!! 80++++++--- GIBBER>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG194!!!! 80++++++--- BANDIT>>---  WOLFDR>>---  WOLFDI>>---  IRONELIT---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9100.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG195!!!! 80++++++--- ETTERC>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG195A--- 80++++++--- ETTERC>>---  SPIDGI>>---  SPIDGI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG195B--- 80++++++--- ETTERC>>---  SPIDGI>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG196!!!! 80++++++--- TASLOI>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG196A--- 80++++++--- TASLOI>>---  ETTERC>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG196B--- 80++++++--- TASLOI>>---  ETTERC>>---  ETTERC>>---  TASLOI>>---  TASLOI>>---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG197!!!! 80++++++--- ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG197A--- 80++++++--- ETTERC>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG197B--- 80++++++--- ETTERC>>---  ETTERC>>---  ETTERC>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9200.are]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG198!!!! 80++++++--- BGWOLF>>---  OGREGR>>---  OGREBERZ---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG199!!!! 80++++++--- BGWOLF>>---  WOLFDI>>---  WOLFDR>>---  GHOUL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG200!!!! 80++++++--- OGREGR>>---  OGRE!!!!---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG201!!!! 80++++++--- BGWOLF>>---  OGREGR>>---  WOLFDI>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG202!!!! 80++++++--- WOLFDI>>---  GHOUL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG203!!!! 80++++++--- KOBOLA_D---  BGWOLF>>---  CARRIO>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG204!!!! 80++++++--- BGWOLF>>---  CARRIO>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9300.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG205!!!! 80++++++--- DOGWI------  DOGWA------  BGWOLF>>---  HOBGOA_B---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG206!!!! 80++++++--- HOBGOB_B---  HOBGOA_E---  DOGWI------  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG207!!!! 80++++++--- BGWOLF>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG208!!!! 80++++++--- HOBGOB_E---  HOBGOB_A---  DOGWI------  DOGWA------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG209!!!! 80++++++--- DOGWI------  DOGWA------  BEARBL>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG209A--- 80++++++--- DOGWI------  DOGWA------  DOGWI------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG209B--- 80++++++--- DOGWI------  DOGWA------  DOGWA------  DOGWA------  DOGWA------  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9400.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG210!!!! 80++++++--- TASLOI>>---  GNOLL_B(---  GNOLL_A(---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG211!!!! 80++++++--- GIBBER>>---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG212!!!! 80++++++--- TASLOI>>---  BEARBL>>---  GNOLL------  GNOLL_D(---  GNOLL_E(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG213!!!! 80++++++--- GNOLL------  BEARCA>>---  FLIND------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG214!!!! 80++++++--- TASLOI>>---  TASLOI>>---  GNOLL------  FLIND------  GNOLL_D(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG215!!!! 80++++++--- BEARBL>>---  GNOLL------  GNOLL_B(---  GNOLL_A(---  GNOLL_E(---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG216!!!! 80++++++--- TASLOI>>---  GNOLL------  GNOLL_A(---  GNOLL_D(---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9500.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG217!!!! 80++++++--- TASLOI>>---  WORG!!!!---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG218!!!! 80++++++--- HOBGOB_D---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG218A--- 80++++++--- HOBGOB_D---  HOBGOB_D---  HOBGOB_D---  HOBGOB_D---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG218B--- 80++++++--- HOBGOB_D---  HOBGOB_D---  HOBGOB_D---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG219!!!! 80++++++--- TASLOI>>---  WORG!!!!---  BGWOLF>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG220!!!! 80++++++--- WORG!!!!---  WOLFDI>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG221!!!! 80++++++--- HOBGOA_C---  HOBGOA_E---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9600.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG222!!!! 80++++++--- SKELET_A---  ZOMBIE>>---  BEARBL>>---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG223!!!! 80++++++--- BGWOLF>>---  ZOMBIE_D---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG224!!!! 80++++++--- SKELET_A---  SKELET_C---  SKELET_B---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG225!!!! 80++++++--- HOBGOA_D---  HOBGOA_E---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG226!!!! 80++++++--- GIBBER>>---  SKELET_B---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG227!!!! 80++++++--- BGWOLF>>---  WORG!!!!---  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG228!!!! 80++++++--- BANDIT>>---  HOBGOB_C---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9700.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG229!!!! 80++++++--- GIBBER>>---  HOBGOB>>---  GHOUL------  HOBELITE---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG230!!!! 80++++++--- GIBBER>>---  HOBGOA_B---  GHAST------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG231!!!! 80++++++--- HOBGOA_D---  GHOUL------  GHAST------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG232!!!! 80++++++--- HOBGOB_E---  GHOUL------  GHAST------  HOBELITE---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG233!!!! 80++++++--- GIBBER>>---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG234!!!! 80++++++--- HOBGOB_B---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG234A--- 80++++++--- HOBGOB_B---  HOBGOB_B---  HOBGOB_C---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG234B--- 80++++++--- HOBGOB_B---  HOBGOB_B---  HOBGOB_C---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG235!!!! 80++++++--- GIBBER>>---  GHOUL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG236!!!! 80++++++--- GIBBER>>---  HOBGOB_E---  HOBELITE---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9799.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG237!!!! 80++++++--- KOBOLA_D---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG237A--- 80++++++--- KOBOLA_D---  KOBOLA_D---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG237B--- 80++++++--- KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  KOBOLA_D---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG238!!!! 80++++++--- ZOMBIE_C---  SKELET_A---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG239!!!! 80++++++--- ZOMBIE_D---  SKELET_A---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG239A--- 80++++++--- ZOMBIE_D---  SKELET_A---  SKELET_A---  SKELET_A---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG240!!!! 80++++++--- KOBOLA_A---  KOBOLD>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG240A--- 80++++++--- KOBOLA_A---  KOBOLD>>---  KOBOLA_A---  KOBOLD>>---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG241!!!! 80++++++--- KOBOLA_E---  KOBOLD_C---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG242!!!! 80++++++--- KOBOLA_D---  KOBOLD_E---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG242A--- 80++++++--- KOBOLA_D---  KOBOLD_E---  KOBOLA_D---  KOBOLD_E---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG243!!!! 80++++++--- ZOMBIE_D---  SKELET_C---  SKELET_B---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG244!!!! 80++++++--- ZOMBIE_A---  SKELET_B---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG245!!!! 80++++++--- HOBGOA_D---  HOBGOB_E---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG246!!!! 80++++++--- HOBGOB_D---  HOBGOB_A---  HOBGOA_E---  HOBELITE---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG247!!!! 80++++++--- SKELET_B---  HOBELITE---  SKELET_A---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG248!!!! 80++++++--- KOBOLA_D---  KOBOLD>>---  HOBGOB_E---  HOBELITE---  KOBCOMM(---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9801.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG249!!!! 80++++++--- WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG249A--- 80++++++--- WOLFDI>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG249B--- 80++++++--- WOLFDI>>---  WOLFDI>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG250!!!! 80++++++--- WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG250A--- 80++++++--- WOLFDR>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG250B--- 80++++++--- WOLFDR>>---  WOLFDR>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[AR9900.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG251!!!! 80++++++--- XVART_B(---  ANKHEG>>---  KOBOLD>>---  SKELET_C---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG251A--- 80++++++--- XVART_B(---  XVART_B(---  KOBOLD>>---  SKELET_C---  XVART_B(---  SKELET_C---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG252!!!! 80++++++--- KOBOLA_B---  WORG!!!!---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG252A--- 80++++++--- KOBOLA_B---  WORG!!!!---  KOBOLA_B---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG252B--- 80++++++--- KOBOLA_B---  WORG!!!!---  KOBOLA_B---  KOBOLA_B---  KOBOLA_B---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG253!!!! 80++++++--- KOBOLD_E---  GHOUL------  GHAST------  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG254!!!! 80++++++--- KOBOLD_D---  BGWOLF>>---  WORG!!!!---  KOBCOMM(---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG255!!!! 80++++++--- KOBOLD_D---  KOBOLDA(---  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG256!!!! 80++++++--- WOLFDI>>---  WOLFDR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARA100.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG257!!!! 80++++++--- TASLOI>>---  DOGWI------  DOGWA------  BEARCA>>---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG258!!!! 80++++++--- BGWOLF>>---  BEARCA>>---  TASLOI>>---  GHOUL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG259!!!! 80++++++--- TASLOI>>---  DOGWA------  BEARCA>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG260!!!! 80++++++--- DOGWI------  DOGWA------  BGWOLF>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG261!!!! 80++++++--- TASLOI>>---  SPIDHU>>---  BEARBR>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG262!!!! 80++++++--- BEARBL>>---  BEARBR>>---  TASLOI>>---  GHOUL------  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARD000.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG263!!!! 80++++++--- DOPPLE>>---  GNOLL------  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG263A--- 80++++++--- GNOLL------  GNOLL------  GNOLL------  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG263B--- 80++++++--- DOPPLE>>---  GNOLL------  DOPPLE>>---  GNOLL------  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG264!!!! 80++++++--- DOPPLE>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG264A--- 80++++++--- DOPPLE>>---  DOPPLE>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG264B--- 80++++++--- DOPPLE>>---  DOPPLE>>---  DOPPLE>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG265!!!! 80++++++--- DOPPLE>>---  DOPPGR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARD011.are]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG266!!!! 80++++++--- SPIDPH>>---  SPIDWR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG267!!!! 80++++++--- GHAST------  GHOUL------  SPIDPH>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG268!!!! 80++++++--- OGREBERZ---  GOLEMF2(---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG269!!!! 80++++++--- BATTHO>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG270!!!! 80++++++--- SPIDPH>>---  ZOMBIE>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG270A--- 80++++++--- SPIDPH>>---  ZOMBIE>>---  ZOMBIE>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG270B--- 80++++++--- SPIDPH>>---  ZOMBIE>>---  ZOMBIE>>---  ZOMBIE>>---  ZOMBIE>>---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARD014.are]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG271!!!! 80++++++--- GHOULLOR---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG271A--- 80++++++--- GHOULLOR---  GHOULLOR---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARW000.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG272!!!! 80++++++--- BEARBR>>---  BEARBR>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARW012.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG273!!!! 80++++++--- WEREWO>>---  WEREWO>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG273A--- 80++++++--- WEREWO>>---  WEREWO>>---  WEREWO>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

//**********************************************************
//[ARW500.ARE]
//**********************************************************
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG274!!!! 80++++++--- BGWOLF>>---  BEARCA>>---  WOLFWEGL---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG275!!!! 80++++++--- WOLFWE>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG275A--- 80++++++--- WOLFWE>>---  WOLFDI>>---  WOLFWE>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~
APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG275B--- 80++++++--- WOLFWE>>---  WOLFDI>>---  WOLFDI>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~

APPEND_COL ~spawngrp.2da~ ~9999 9999 RDBG276!!!! 80++++++--- WORG!!!!---  WOLFWE>>---  BEARBL>>---  *=======---  *=======---  *=======---  *=======---  *=======--- ~


COPY_EXISTING ~spawngrp.2da~ ~override~
 REPLACE_TEXTUALLY ~9999~    ~~
 REPLACE_TEXTUALLY ~(~       ~ ~
 REPLACE_TEXTUALLY ~>>~      ~  ~
 REPLACE_TEXTUALLY ~---~     ~   ~
 REPLACE_TEXTUALLY ~!!!!~    ~    ~
 REPLACE_TEXTUALLY ~@@@@@~   ~     ~
 REPLACE_TEXTUALLY ~++++++~  ~      ~
 REPLACE_TEXTUALLY ~=======~ ~       ~

//////////////////////////
//END OF SPAWNGRP PATCHING
//////////////////////////

COPY_EXISTING ~STRTGOLD.2DA~ ~override~
 APPEND ~STRTGOLD.2DA~
~CLERIC_RANGER           4       5       0           10
SORCERER                4       1       1           10
MONK                    4       5       0           10~

COPY_EXISTING ~ACTION.IDS~ ~override~
 REPLACE_TEXTUALLY ~AddJournalEntry(I:Entry~  ~AddJournalEntry(I:StrRef~
BUT_ONLY_IF_IT_CHANGES

APPEND ~GTIMES.IDS~ ~6 ONE_ROUND~
  UNLESS ~ONE_ROUND~
APPEND ~GTIMES.IDS~ ~12 TWO_ROUNDS~
  UNLESS ~TWO_ROUNDS~
APPEND ~GTIMES.IDS~ ~18 THREE_ROUNDS~
  UNLESS ~THREE_ROUNDS~
APPEND ~GTIMES.IDS~ ~24 FOUR_ROUNDS~
  UNLESS ~FOUR_ROUNDS~
APPEND ~GTIMES.IDS~ ~30 FIVE_ROUNDS~
  UNLESS ~FIVE_ROUNDS~
APPEND ~GTIMES.IDS~ ~36 SIX_ROUNDS~
  UNLESS ~SIX_ROUNDS~
APPEND ~GTIMES.IDS~ ~42 SEVEN_ROUNDS~
  UNLESS ~SEVEN_ROUNDS~
APPEND ~GTIMES.IDS~ ~48 EIGHT_ROUNDS~
  UNLESS ~EIGHT_ROUNDS~
APPEND ~GTIMES.IDS~ ~54 NINE_ROUNDS~
  UNLESS ~NINE_ROUNDS~
APPEND ~GTIMES.IDS~ ~60 TEN_ROUNDS~
  UNLESS ~TEN_ROUNDS~
APPEND ~GTIMES.IDS~ ~60 ONE_TURN~
  UNLESS ~ONE_TURN~
APPEND ~GTIMES.IDS~ ~120 TWO_TURNS~
  UNLESS ~TWO_TURNS~
APPEND ~GTIMES.IDS~ ~180 THREE_TURNS~
  UNLESS ~THREE_TURNS~
APPEND ~GTIMES.IDS~ ~240 FOUR_TURNS~
  UNLESS ~FOUR_TURNS~
APPEND ~GTIMES.IDS~ ~300 FIVE_TURNS~
  UNLESS ~FIVE_TURNS~
APPEND ~GTIMES.IDS~ ~300 ONE_HOUR~
  UNLESS ~ONE_HOUR~
APPEND ~GTIMES.IDS~ ~360 SIX_TURNS~
  UNLESS ~SIX_TURNS~
APPEND ~GTIMES.IDS~ ~420 SEVEN_TURNS~
  UNLESS ~SEVEN_TURNS~
APPEND ~GTIMES.IDS~ ~480 EIGHT_TURNS~
  UNLESS ~EIGHT_TURNS~
APPEND ~GTIMES.IDS~ ~540 NINE_TURNS~
  UNLESS ~NINE_TURNS~
APPEND ~GTIMES.IDS~ ~600 TEN_TURNS~
  UNLESS ~TEN_TURNS~
APPEND ~GTIMES.IDS~ ~600 TWO_HOURS~
  UNLESS ~TWO_HOURS~
APPEND ~GTIMES.IDS~ ~900 FIFTEEN_TURNS~
  UNLESS ~FIFTEEN_TURNS~
APPEND ~GTIMES.IDS~ ~900 THREE_HOURS~
  UNLESS ~THREE_HOURS~
APPEND ~GTIMES.IDS~ ~1200 FOUR_HOURS~
  UNLESS ~FOUR_HOURS~
APPEND ~GTIMES.IDS~ ~1500 FIVE_HOURS~
  UNLESS ~FIVE_HOURS~
APPEND ~GTIMES.IDS~ ~1800 SIX_HOURS~
  UNLESS ~SIX_HOURS~
APPEND ~GTIMES.IDS~ ~2100 SEVEN_HOURS~
  UNLESS ~SEVEN_HOURS~
APPEND ~GTIMES.IDS~ ~2400 EIGHT_HOURS~
  UNLESS ~EIGHT_HOURS~
APPEND ~GTIMES.IDS~ ~2700 NINE_HOURS~
  UNLESS ~NINE_HOURS~
APPEND ~GTIMES.IDS~ ~3000 TEN_HOURS~
  UNLESS ~TEN_HOURS~
APPEND ~GTIMES.IDS~ ~3300 ELEVEN_HOURS~
  UNLESS ~ELEVEN_HOURS~
APPEND ~GTIMES.IDS~ ~3600 TWELVE_HOURS~
  UNLESS ~TWELVE_HOURS~

ACTION_IF FILE_EXISTS ~script compiler/AICOMPILE.exe~
THEN BEGIN
COPY_EXISTING ~GTIMES.IDS~      ~script compiler~
              ~ACTION.IDS~      ~script compiler~
END

///////////////////////////////////////////////////////
// Areas
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100011

COPY ~BGT/Base/ARE~ ~override~

/*
Note Color key:
Gray    - Caves & Dungeon Entrances
Violet  - Inns & Taverns
Green   - Temples
Orange  - Info points
Red     - Open space locations (i.e. city squares)
Blue    - Buildings of note
Dk Blue - People
Lt Gray - Stores
*/

COPY ~BGT/Modify/ARE/AR3100.are~ ~override~ // Fisherman's Lake
  ADD_MAP_NOTE #1379 #714 ~orange~ @600020

COPY ~BGT/Modify/ARE/AR3300.are~ ~override~ // Lonely Peaks
  ADD_MAP_NOTE #1485 #1199 ~gray~   #193
  ADD_MAP_NOTE #2711 #2694 ~orange~ @600020

COPY ~BGT/Modify/ARE/AR3400.are~ ~override~ // Firewine Bridge
  ADD_MAP_NOTE #4027 #1983 ~gray~ @600024

COPY ~BGT/Modify/ARE/AR3401.are~ ~override~ // Firewine Ruins
  ADD_MAP_NOTE #2256 #1673 ~gray~ #48376
  ADD_MAP_NOTE #538  #215  ~gray~ #48376
  ADD_MAP_NOTE #1052 #1655 ~gray~ #48376

COPY ~BGT/Modify/ARE/AR3498.are~ ~override~ // Xvart Village
  ADD_MAP_NOTE #4217 #1025 ~gray~ #193

COPY ~BGT/Modify/ARE/AR3700.are~ ~override~ // Nashkel
  ADD_MAP_NOTE #2725 #949  ~green~     @11703
  ADD_MAP_NOTE #1308 #674  ~violet~    @11683
  ADD_MAP_NOTE #1665 #902  ~lightgray~ @11687
  ADD_MAP_NOTE #2689 #2441 ~violet~    @11764
  ADD_MAP_NOTE #4765 #558  ~violet~    @16481
  ADD_MAP_NOTE #3331 #1780 ~blue~      @20658

COPY ~BGT/Modify/ARE/AR3900.are~ ~override~ // Valley of the Tombs
  ADD_MAP_NOTE #944  #1793 ~gray~   #193
  ADD_MAP_NOTE #1868 #2897 ~gray~   #193
  ADD_MAP_NOTE #4494 #2855 ~gray~   #193
  ADD_MAP_NOTE #1771 #886  ~orange~ @600036

COPY ~BGT/Modify/ARE/AR4100.are~ ~override~ // Gnoll Stronghold
  ADD_MAP_NOTE #591  #2147 ~gray~ #193
  ADD_MAP_NOTE #152  #3376 ~gray~ #193
  ADD_MAP_NOTE #818  #2420 ~gray~ #193
  ADD_MAP_NOTE #2564 #2341 ~red~  @10709

COPY ~BGT/Modify/ARE/AR4200.are~ ~override~ // Cloudpeak Mountains
  ADD_MAP_NOTE #3163 #2674 ~gray~ #193

COPY ~BGT/Modify/ARE/AR4400.are~ ~override~ // Nashkel Mines Exterior
  ADD_MAP_NOTE #1202 #717  ~gray~   @600018
  ADD_MAP_NOTE #2796 #430  ~blue~   #195
  ADD_MAP_NOTE #641  #2713 ~orange~ @600019

COPY ~BGT/Modify/ARE/AR4401.are~ ~override~ // Nashkel Mines Lvl 1
  ADD_MAP_NOTE #1333 #187  ~gray~ #48376
  ADD_MAP_NOTE #2076 #1884 ~gray~ @600021

COPY ~BGT/Modify/ARE/AR4402.are~ ~override~ // Nashkel Mines Lvl 2
  ADD_MAP_NOTE #2306 #2710 ~gray~ @600022
  ADD_MAP_NOTE #3610 #2516 ~gray~ @600021

COPY ~BGT/Modify/ARE/AR4403.are~ ~override~ // Nashkel Mines Lvl 3
  ADD_MAP_NOTE #1593 #120  ~gray~ @600022
  ADD_MAP_NOTE #3357 #2416 ~gray~ @600021

COPY ~BGT/Modify/ARE/AR4404.are~ ~override~ // Nashkel Mines Lvl 4
  ADD_MAP_NOTE #424  #1893 ~gray~ @600022
  ADD_MAP_NOTE #1416 #1211 ~gray~ #193
  ADD_MAP_NOTE #2975 #908  ~gray~ #48376

COPY ~BGT/Modify/ARE/AR6515.are~ ~override~ // Candlekeep Catacombs Lvl 1
  ADD_MAP_NOTE #4026 #1712 ~gray~ #48376
  ADD_MAP_NOTE #3826 #921 ~gray~ #48376

COPY ~BGT/Modify/ARE/AR6519.are~ ~override~ // Candlekeep Catacombs Lvl 2
  ADD_MAP_NOTE #3552 #2308 ~gray~ #48376
  ADD_MAP_NOTE #240  #1040 ~gray~ #48376

COPY ~BGT/Modify/ARE/AR0015.are~ ~override~ // Candlekeep Prologue
     ~BGT/Modify/ARE/AR6526.are~ ~override~ // Candlekeep Chapter 6
  ADD_MAP_NOTE #1071 #557  ~violet~ @11676
  ADD_MAP_NOTE #2959 #464  ~blue~   @17229
  ADD_MAP_NOTE #3843 #728  ~green~  @14157
  ADD_MAP_NOTE #4303 #1410 ~blue~   @16995
  ADD_MAP_NOTE #4396 #2561 ~red~    @600010
  ADD_MAP_NOTE #2607 #1679 ~blue~   @600011
  ADD_MAP_NOTE #2053 #2696 ~blue~   @14892
  ADD_MAP_NOTE #1569 #2487 ~blue~   @16545
  ADD_MAP_NOTE #3531 #2916 ~blue~   @600012
  ADD_MAP_NOTE #3063 #2981 ~blue~   @600013

COPY ~BGT/Modify/ARE/AR6560.are~ ~override~ // Candlekeep Catacombs Lvl 3
  ADD_MAP_NOTE #689 #124  ~gray~ #48376
  ADD_MAP_NOTE #279 #2107 ~gray~ #48405

COPY ~BGT/Modify/ARE/AR6700.are~ ~override~ // Beregost
  ADD_MAP_NOTE #3711 #3754 ~violet~    @11678
  ADD_MAP_NOTE #1470 #2731 ~violet~    @14938
  ADD_MAP_NOTE #4612 #2906 ~lightgray~ @14181
  ADD_MAP_NOTE #3403 #2039 ~violet~    @14937
  ADD_MAP_NOTE #2596 #2189 ~violet~    @11679
  ADD_MAP_NOTE #3643 #993  ~blue~      @16481

COPY ~BGT/Modify/ARE/AR6800.are~ ~override~ // Friendly Arm Inn
  ADD_MAP_NOTE #1550 #2970 ~red~    @600010
  ADD_MAP_NOTE #3511 #1903 ~violet~ @6660
  ADD_MAP_NOTE #3873 #2463 ~green~  @11700

COPY ~BGT/Modify/ARE/AR6900.are~ ~override~ // Coast Way
  ADD_MAP_NOTE #2359 #3335 ~orange~ @600014

COPY ~BGT/Modify/ARE/AR7000.are~ ~override~ // Cloakwood Lodge
  ADD_MAP_NOTE #2477 #1790 ~blue~ #195

COPY ~BGT/Modify/ARE/AR7100.are~ ~override~ // High Hedge
  ADD_MAP_NOTE #2893 #2671 ~lightgray~ @10925
  ADD_MAP_NOTE #1732 #1583 ~blue~      @600016

COPY ~BGT/Modify/ARE/AR7200.are~ ~override~ // NW Baldur's Gate
  ADD_MAP_NOTE #1230 #1706 ~blue~   @14985
  ADD_MAP_NOTE #3610 #3007 ~violet~ @11672
  ADD_MAP_NOTE #2940 #1716 ~violet~ #57205

COPY ~BGT/Modify/ARE/AR7223.are~ ~override~ // Temple of Bhaal
  ADD_MAP_NOTE #1668 #1297 ~blue~ @600037

COPY ~BGT/Modify/ARE/AR7246.are~ ~override~ // Thieves' Maze
  ADD_MAP_NOTE #583 #1148 ~gray~ #48376
  ADD_MAP_NOTE #414 #2763 ~gray~ #48376

COPY ~BGT/Modify/ARE/AR7300.are~ ~override~ // N Baldur's Gate
  SAY 0x43f0 @15601
  ADD_MAP_NOTE #1550 #1123 ~green~  @15028
  ADD_MAP_NOTE #200  #1462 ~red~    @11677
  ADD_MAP_NOTE #3581 #1464 ~blue~   @15601
  ADD_MAP_NOTE #1963 #2795 ~blue~   @15027
  ADD_MAP_NOTE #3782 #2418 ~violet~ @11673

COPY ~BGT/Modify/ARE/AR7400.are~ ~override~ // NE Baldur's Gate
  SAY 0x342c @20647
  ADD_MAP_NOTE #144  #1799 ~violet~ @11692
  ADD_MAP_NOTE #541  #2854 ~violet~ @11670
  ADD_MAP_NOTE #1215 #1345 ~green~  @15031
  ADD_MAP_NOTE #2276 #3134 ~blue~   @20647

COPY ~BGT/Modify/ARE/AR7500.are~ ~override~ // Zombie Farm
  ADD_MAP_NOTE #638 #454 ~blue~ @600028

COPY ~BGT/Modify/ARE/AR7600.are~ ~override~ // W Baldur's Gate
  SAY 0x46f4 @15603
  ADD_MAP_NOTE #1110 #1080 ~green~ @15032
  ADD_MAP_NOTE #1520 #2289 ~blue~  @15033
  ADD_MAP_NOTE #3869 #789  ~blue~  @15034
  ADD_MAP_NOTE #2914 #551  ~blue~  @15603

COPY ~BGT/Modify/ARE/AR7700.are~ ~override~ // Central Baldur's Gate
  ADD_MAP_NOTE #2536 #873  ~blue~      @15035
  ADD_MAP_NOTE #730  #567  ~lightgray~ @20634
  ADD_MAP_NOTE #1729 #1230 ~violet~    @20635
  ADD_MAP_NOTE #1993 #720  ~blue~      @20660
  ADD_MAP_NOTE #3011 #1097 ~blue~      @15604
  ADD_MAP_NOTE #2281 #1401 ~blue~      @15604
  ADD_MAP_NOTE #3350 #135  ~blue~      @600039

COPY ~BGT/Modify/ARE/AR7800.are~ ~override~ // E Baldur's Gate
  ADD_MAP_NOTE #1780 #2451 ~green~     @14972
  ADD_MAP_NOTE #1055 #2015 ~lightgray~ @9917
  ADD_MAP_NOTE #3151 #1093 ~lightgray~ @11818
  ADD_MAP_NOTE #1073 #3017 ~lightgray~ @11782
  ADD_MAP_NOTE #1728 #1354 ~violet~    @20638
  ADD_MAP_NOTE #3259 #1974 ~lightgray~ @20639

COPY ~BGT/Modify/ARE/AR7900.are~ ~override~ // Wyrm's Crossing
  ADD_MAP_NOTE #2342 #2028 ~gray~ @11765
  ADD_MAP_NOTE #4093 #708  ~blue~ @600016

COPY ~BGT/Modify/ARE/AR8000.are~ ~override~ // SW Baldur's Gate
  ADD_MAP_NOTE #3535 #1327 ~blue~      @14973
  ADD_MAP_NOTE #1556 #1385 ~blue~      @14974
  ADD_MAP_NOTE #3255 #2534 ~blue~      @15600
  ADD_MAP_NOTE #2742 #1063 ~lightgray~ @11685
  ADD_MAP_NOTE #2487 #2377 ~lightgray~ @11685
  ADD_MAP_NOTE #2526 #823  ~violet~    @20659

COPY ~BGT/Modify/ARE/AR8100.are~ ~override~ // S Baldur's Gate
  ADD_MAP_NOTE #2568 #1858 ~blue~    @14982
  ADD_MAP_NOTE #3654 #2976 ~violet~  @14976
  ADD_MAP_NOTE #931  #2415 ~green~   @14977
  ADD_MAP_NOTE #400  #677  ~blue~    @14983
  ADD_MAP_NOTE #2624 #588  ~violet~  @20640

COPY ~BGT/Modify/ARE/AR8200.are~ ~override~ // SE Baldur's Gate
  ADD_MAP_NOTE #166  #729  ~violet~    @11671
  ADD_MAP_NOTE #2135 #316  ~lightgray~ @11685
  ADD_MAP_NOTE #960  #2561 ~lightgray~ @11685
  ADD_MAP_NOTE #1699 #2399 ~lightgray~ @11675

COPY ~BGT/Modify/ARE/AR8300.are~ ~override~ // Fishing Village
  ADD_MAP_NOTE #1899 #2402 ~gray~ @600027
  ADD_MAP_NOTE #3504 #2233 ~blue~ @600028

COPY ~BGT/Modify/ARE/AR8400.are~ ~override~ // Cloakwood Druids
  ADD_MAP_NOTE #2194 #1001 ~gray~ #193
  ADD_MAP_NOTE #804  #2174 ~blue~ @600031

COPY ~BGT/Modify/ARE/AR8500.are~ ~override~ // Cloakwood Wyverns
  ADD_MAP_NOTE #4222 #1709 ~gray~ #193

COPY ~BGT/Modify/ARE/AR8600.are~ ~override~ // Cloakwood Mines Exterior
  ADD_MAP_NOTE #3247 #793  ~blue~ @600018
  ADD_MAP_NOTE #1375 #1852 ~blue~ @16545
  ADD_MAP_NOTE #1904 #1554 ~blue~ @16995

COPY ~BGT/Modify/ARE/AR8601.are~ ~override~ // Cloakwood Mines Lvl 1
  SAY 0x2728 @600005
  ADD_MAP_NOTE #1975 #71   ~orange~ @600032
  ADD_MAP_NOTE #341  #133  ~gray~   @600033
  ADD_MAP_NOTE #1406 #1563 ~gray~   @600021

COPY ~BGT/Modify/ARE/AR8602.are~ ~override~ // Cloakwood Mines Lvl 3
  ADD_MAP_NOTE #2612 #2916 ~gray~ @600021
  ADD_MAP_NOTE #756  #1219 ~gray~ @600022

COPY ~BGT/Modify/ARE/AR8603.are~ ~override~ // Cloakwood Mines Lvl 4
  ADD_MAP_NOTE #205  #1177 ~orange~ @600033
  ADD_MAP_NOTE #1711 #209  ~gray~   @600022

COPY ~BGT/Modify/ARE/AR8604.are~ ~override~ // Cloakwood Mines Lvl 2
  ADD_MAP_NOTE #436  #1564 ~gray~ @600021
  ADD_MAP_NOTE #1157 #110  ~gray~ @600022

COPY ~BGT/Modify/ARE/AR8700.are~ ~override~ // Bandit Camp
  ADD_MAP_NOTE #2326 #773 ~gray~ #193
  ADD_MAP_NOTE #3655 #957 ~blue~ @600029

COPY ~BGT/Modify/ARE/AR8800.are~ ~override~ // Cloakwood Spider Nest
  ADD_MAP_NOTE #1817 #1240 ~blue~ @600030

COPY ~BGT/Modify/ARE/AR9200.are~ ~override~ // Shipwreck Coast
  ADD_MAP_NOTE #958 #1646 ~orange~ @600025

COPY ~BGT/Modify/ARE/AR9300.are~ ~override~ // Beregost Temple
  ADD_MAP_NOTE #414  #916 ~green~ @14962
  ADD_MAP_NOTE #1463 #893 ~green~ @10454

COPY ~BGT/Modify/ARE/AR9500.are~ ~override~ // Lighthouse
  ADD_MAP_NOTE #393 #991  ~gray~   #193
  ADD_MAP_NOTE #883 #2702 ~orange~ @600026

COPY ~BGT/Modify/ARE/AR9700.are~ ~override~ // South Beregost Road
  SAY 0x1cd4 @16342
  ADD_MAP_NOTE #1861 #2269 ~gray~   #193
  ADD_MAP_NOTE #3172 #1447 ~orange~ @600017

COPY ~BGT/Modify/ARE/AR9799.are~ ~override~ // Ulcaster Ruins
  SAY 0x1784 @14969
  SAY 0x1848 @14969
  ADD_MAP_NOTE #3159 #663 ~gray~ @600038

COPY ~BGT/Modify/ARE/AR9900.are~ ~override~ // Gullykin
  ADD_MAP_NOTE #333 #342 ~lightgray~ @11875
  ADD_MAP_NOTE #882 #721 ~orange~    @600023

COPY ~BGT/Modify/ARE/ARA100.are~ ~override~ // Archaelogical Dig
  ADD_MAP_NOTE #3035 #1285 ~gray~   #193
  ADD_MAP_NOTE #3751 #2173 ~orange~ @600014

COPY ~BGT/Modify/ARE/ARD000.are~ ~override~ // Durlag's Tower Exterior
  ADD_MAP_NOTE #2703 #2163 ~gray~ @600035

COPY ~BGT/Modify/ARE/ARD011.ARE~ ~override~
  SAY 0x2cc4 @22997

COPY ~BGT/Modify/ARE/ARD014.ARE~ ~override~
  SAY 0x3594 @24078
  SAY 0x3658 @24078
  SAY 0x371c @24109

COPY ~BGT/Modify/ARE/ARU000.are~ ~override~ // Ulgoth's Beard
  SAY 0x2818 @23976
  SAY 0x28dc @24095
  ADD_MAP_NOTE #2310 #612 ~blue~ @24095
  ADD_MAP_NOTE #350  #626 ~blue~ @600034

COPY ~BGT/Modify/ARE/ARU002.ARE~ ~override~
  SAY 0x244 @23796
  SAY 0x308 @23796
  SAY 0x3cc @23796
  SAY 0x490 @23796

COPY ~BGT/Modify/ARE/ARU009.are~ ~override~ // Ice Island Dungeon
  ADD_MAP_NOTE #2389 #1670 ~gray~ #48405
  ADD_MAP_NOTE #620  #170  ~gray~ #48405

COPY ~BGT/Modify/ARE/ARW500.are~ ~override~ // N Werewolf Island
  ADD_MAP_NOTE #4200 #1683 ~blue~ #195
  ADD_MAP_NOTE #3697 #1143 ~red~  @600025

COPY ~BGT/Modify/ARE/ARW012.are~ ~override~ // Werewolf Caverns
  ADD_MAP_NOTE #974  #1392 ~gray~ #48405
  ADD_MAP_NOTE #2977 #401  ~gray~ #48405

///////////////////////////////////////////////////////////////////////////////////
// New songlist - update for ToB areas referencing to unexisting and replaced songs
///////////////////////////////////////////////////////////////////////////////////

COPY_EXISTING ~AR0509.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    41  //day song - Tavern1
 WRITE_LONG ("%song_offset%"+4)  41  //night song  - Tavern1

COPY_EXISTING ~AR0513.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    44  //day song - Tavern4
 WRITE_LONG ("%song_offset%"+4)  44  //night song  - Tavern4

COPY_EXISTING ~AR1602.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    42  //day song - Tavern2
 WRITE_LONG ("%song_offset%"+4)  42  //night song  - Tavern2

COPY_EXISTING ~AR2010.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    43  //day song - Tavern3
 WRITE_LONG ("%song_offset%"+4)  43  //night song  - Tavern3

COPY_EXISTING ~AR2202.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    0  //day song - no sound, drow
 WRITE_LONG ("%song_offset%"+4)  0  //night song  - no sound, drow

COPY_EXISTING ~AR2203.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    0  //day song - no sound, drow
 WRITE_LONG ("%song_offset%"+4)  0  //night song  - no sound, drow

COPY_EXISTING ~AR5003.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    0  //day song - no sound
 WRITE_LONG ("%song_offset%"+4)  0  //night song  - no sound

COPY_EXISTING ~AR5501.ARE~ ~override~
 READ_LONG 0xbc "song_offset"
 WRITE_LONG ("%song_offset%")    44  //day song - Tavern4
 WRITE_LONG ("%song_offset%"+4)  44  //night song  - Tavern4

///////////////////////////////////////////////////////
// Scripts
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100006

////////////////////////
// Compatibility scripts
////////////////////////

// Compatibility with TDD
ACTION_IF
  FILE_EXISTS ~data/TDD-RULE.BIF~
THEN BEGIN
  //****** Multiple  ***************************************************************
  COPY_EXISTING ~BALDUR.BCS~ ~override~
   DECOMPILE_BCS_TO_BAF

   REPLACE_TEXTUALLY ~Global("harperxzarfued","GLOBAL",0)~ //prevent Harpers attacking Xzar in BG1
   ~Gloxbal("harperxzarfued","GLOBAL",0)
   Global("ENDOFBG1","GLOBAL",2)~
   REPLACE_TEXTUALLY ~Gloxbal("harperxzarfued","GLOBAL",0)~ ~Global("harperxzarfued","GLOBAL",0)~

   REPLACE_TEXTUALLY ~InParty("kagaindd")[^!]*InParty("yeslicdd")~ //prevent Kagain and Yeslick attacking in BG1
   ~InParty("kagaindd")
   Global("ENDOFBG1","GLOBAL",2)
   InParty("yeslicdd")~

   REPLACE_TEXTUALLY ~"kagaindd"~ ~"Kagain"~    //change DeathVar check
   REPLACE_TEXTUALLY ~"yeslicdd"~ ~"Yeslick"~   //change DeathVar check
   REPLACE_TEXTUALLY ~"montydd"~  ~"Montaron"~  //change DeathVar check
   REPLACE_TEXTUALLY ~"xzardd"~   ~"Xzar"~      //change DeathVar check

   COMPILE_BAF_TO_BCS
  //********************************************************************************

  //****** Kivan  ******************************************************************
  EXTEND_TOP ~AR1100.BCS~ ~BGT/Compat/TDD/Replace/xAR1100.BAF~  //BAF modified

  COPY_EXISTING ~DDKIV1.BCS~ ~override~ //TDD script
   DECOMPILE_BCS_TO_BAF
   REPLACE_TEXTUALLY ~"kivandd"~ ~"Kivan"~  //change DeathVar check
   COMPILE_BAF_TO_BCS
  //********************************************************************************

  //****** Kagain ******************************************************************
  EXTEND_TOP ~AR0020.BCS~ ~BGT/Compat/TDD/Replace/xAR0020.BAF~ //BAF modified
  //********************************************************************************

  //****** Yeslick *****************************************************************
  EXTEND_TOP ~AR0900.BCS~ ~BGT/Compat/TDD/Replace/xAR0900.BAF~ //BAF modified
  //********************************************************************************

  //****** Shar-Teel ***************************************************************
  EXTEND_TOP ~AR1005.BCS~ ~BGT/Compat/TDD/Replace/xAR1005.BAF~

  COPY_EXISTING ~AR0400.BCS~   ~override~    //TDD scripts
                ~SHARFIT1.BCS~ ~override~
   DECOMPILE_BCS_TO_BAF
   REPLACE_TEXTUALLY ~"shartedd"~ ~"Sharteel"~   //change DeathVar check
   COMPILE_BAF_TO_BCS

  COPY_EXISTING ~SHARWINS.DLG~   ~override~  //TDD dialogue
   DECOMPILE_DLG_TO_D
   REPLACE_TEXTUALLY ~"shartedd"~ ~"Sharteel"~   //change DeathVar check
   COMPILE_D_TO_DLG
  //********************************************************************************

  //****** Montaron ****************************************************************
  // as far as he's going to be resurrected there's no continuation - his new location is unknown
  // based on MONTAR13.CRE from TDD
  //********************************************************************************

  //****** Xzar ********************************************************************
  COPY_EXISTING ~AR0300.BCS~ ~override~
   REPLACE_BCS_BLOCK ~BGT/Compat/TDD/Replace/rAR0300.BAF~ ~BGT/Compat/TDD/Replace/xAR0300.BAF~ //find BAF

  COPY_EXISTING ~MONTYRAS.BCS~  ~override~    //TDD scripts
                ~DPLAYER2.BCS~  ~override~    //TDD scripts
                ~HARPASS2.BCS~  ~override~    //TDD scripts
   DECOMPILE_BCS_TO_BAF
   REPLACE_TEXTUALLY ~"xzardd"~  ~"Xzar"~        //change DeathVar check
   COMPILE_BAF_TO_BCS

  COPY_EXISTING ~MONTAP.DLG~   ~override~  //TDD dialogue
                ~XZARDD.DLG~   ~override~
                ~XZARTHXB.DLG~ ~override~
   DECOMPILE_DLG_TO_D
   REPLACE_TEXTUALLY ~"xzardd"~  ~"Xzar"~        //change DeathVar check
   COMPILE_D_TO_DLG
  //********************************************************************************

END
ELSE BEGIN
  COMPILE ~BGT/Compat/BGT/MONTARON.BAF~
  COMPILE ~BGT/Compat/BGT/SHARTEEL.BAF~
  COMPILE ~BGT/Compat/BGT/XZAR.BAF~
END

// Compatibility with TS
ACTION_IF
  FILE_EXISTS_IN_GAME ~Kachi01.wav~
THEN BEGIN
    EXTEND_TOP    ~AR2600.BCS~   ~BGT/Compat/TS/Replace/xAR2600.BAF~
    EXTEND_BOTTOM ~CORAN.BCS~    ~BGT/Compat/TS/Replace/xCORAN.BAF~
    EXTEND_BOTTOM ~DYNAHEIR.BCS~ ~BGT/Compat/BGT/DYNAHEIR.BAF~
END
ELSE BEGIN
  COMPILE ~BGT/Compat/BGT/DYNAHEIR.BAF~
END

//////////////////////////////////////////////////////////////////////////
// Script Installation: BG1 scripts existing in BG2 but needs modification
//////////////////////////////////////////////////////////////////////////

/////////////////
//Chapter Changes
/////////////////

COPY_EXISTING ~AMNISH3.BCS~ ~override~
              ~AMNISH4.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",3)~ ~Global("Chapter","GLOBAL",4)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~BRILLA.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",7)~ ~Global("Chapter","GLOBAL",8)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~EMERSON.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",3)~ ~Global("Chapter","GLOBAL",4)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~FERGUS.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",7)~ ~Global("Chapter","GLOBAL",8)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~GATEWARD.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",0)~ ~Global("Chapter","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~LEAVECH7.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",7)~ ~Global("Chapter","GLOBAL",8)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~POGHMA8.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",0)~ ~Global("Chapter","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~READER6.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",0)~ ~Global("Chapter","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~TETHTORL.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",0)~ ~Global("Chapter","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~WATCH3.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",0)~ ~Global("Chapter","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

//////////////
//Area Changes
//////////////

COPY_EXISTING ~ANDRIS.BCS~ ~override~
 DECOMPILE_BCS_TO_BAF
 REPLACE_TEXTUALLY ~"AR1009"~ ~"ARU009"~
 COMPILE_BAF_TO_BCS

COPY_EXISTING ~BRAGECUT.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR4802"~ ~"AR3702"~
  REPLACE_TEXTUALLY ~"AR4800"~ ~"AR3700"~
  REPLACE_TEXTUALLY ~TRBRACAP~ ~~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~CAPCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR0607"~ ~"AR7607"~
  REPLACE_TEXTUALLY ~"AR1100"~ ~"AR8000"~
  REPLACE_TEXTUALLY ~TRFSTCAP~ ~~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~CAPCUT02.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1100"~ ~"AR8000"~
  REPLACE_TEXTUALLY ~TRCDJAIL~ ~~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~DAVAEORN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1803"~ ~"AR8603"~
  REPLACE_TEXTUALLY ~"AR0116"~ ~"AR7216"~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~DIGCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR4101"~ ~"ARA101"~
  REPLACE_TEXTUALLY ~"AR4100"~ ~"ARA100"~
  REPLACE_TEXTUALLY ~"Door4101a"~ ~"DoorA101a"~
  REPLACE_TEXTUALLY ~TRCHRSTN~ ~~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SCARCUT.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR0608"~ ~"AR7608"~
  REPLACE_TEXTUALLY ~"AR1100"~ ~"AR8000"~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~TRANZIG.BCS~ ~override~
//              ~TRANZI.BCS~ ~override~ //unused script
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1900"~ ~"AR8700"~
  COMPILE_BAF_TO_BCS

////////////////////////////////
//BG1->BG2 Compatibility Changes
////////////////////////////////

COPY_EXISTING ~ACTBOUN.BCS~ ~override~
              ~ACTNESTO.BCS~ ~override~
              ~ACTTELAN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ReputationLT(LastTrigger,4)~
~OR(6)
  ReputationLT(Player1,4)
  ReputationLT(Player2,4)
  ReputationLT(Player3,4)
  ReputationLT(Player4,4)
  ReputationLT(Player5,4)
  ReputationLT(Player6,4)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~ACTFLAM.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ReputationLT(LastTrigger,3)~
~OR(6)
  ReputationLT(Player1,3)
  ReputationLT(Player2,3)
  ReputationLT(Player3,3)
  ReputationLT(Player4,3)
  ReputationLT(Player5,3)
  ReputationLT(Player6,3)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~BANCUT01.BCS~ ~override~
              ~BANCUT02.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1900"~ ~"AR8700"~
  REPLACE_TEXTUALLY ~CreateCreature("TAZOK"~ ~CreateCreature("BGTAZOK"~
  REPLACE_TEXTUALLY ~trcarvan~ ~~
  REPLACE_TEXTUALLY ~ChangeAIScript("bandct",OVERRIDE)~ ~~ //seems like a typo
  REPLACE_TEXTUALLY
~CutSceneId(Player1)
LeaveAreaLUAPanic("AR8700","",\[1095\.1380\],10)~
~CutSceneId(Player1)
SetGlobal("EnteredBanditCamp","GLOBAL",1)
LeaveAreaLUAPanic("AR8700","",[1095.1380],10)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~BELT.BCS~ ~override~
  EXTEND_TOP ~BELT.BCS~ ~BGT/Modify/BAF/aBELT.BAF~

COPY_EXISTING ~CH4END.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1800"~ ~"AR8600"~
  REPLACE_TEXTUALLY ~19717~ ~11108~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~DAVCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~RevealAreaOnMap("AR0900")
    IncrementChapter("Chptxt5")
    AddJournalEntry(15839,USER)~
~RevealAreaOnMap("AR7900")
    SetGlobal("Chapter","GLOBAL",4)
    IncrementChapter("Chptxt-5")
    SetGlobal("Chapter","GLOBAL",6)
    AddJournalEntry(15839,INFO)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~ENDCH4.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",4)~ ~Global("Chapter","GLOBAL",5)~
  REPLACE_TEXTUALLY
~RevealAreaOnMap("AR0900")
    IncrementChapter("Chptxt5")
    AddJournalEntry(15839,USER)~
~RevealAreaOnMap("AR7900")
    SetGlobal("Chapter","GLOBAL",4)
    IncrementChapter("Chptxt-5")
    SetGlobal("Chapter","GLOBAL",6)
    AddJournalEntry(15839,INFO)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~ENDCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~ForceSpell("Sarevok",DRYAD_TELEPORT)
    ForceSpell(Myself,DRYAD_TELEPORT)~
~ForceSpell("Sarevok",DRYAD_TELEPORT)
    SetGlobal("SarevokBehavior","GLOBAL",1)
    ForceSpell(Myself,DRYAD_TELEPORT)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~ERIK.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~HitBy(\[PC\],CRUSHING)
  Global("JonHit","GLOBAL",0)~
~OR(2)
    HitBy([PC],CRUSHING)
    HitBy([FAMILIAR],CRUSHING)
  Global("JonHit","GLOBAL",0)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~FLAM10.BCS~ ~override~
  EXTEND_TOP ~FLAM10.BCS~ ~BGT/Modify/BAF/aFLAM10.BAF~

COPY_EXISTING ~FTOWBAZ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",7)~ ~GlobalLT("ENDOFBG1","GLOBAL",2)
Global("Chapter","GLOBAL",8)~
  REPLACE_TEXTUALLY ~Global("DukeThanks","GLOBAL",1)~ ~GlobalLT("ENDOFBG1","GLOBAL",2)
Gloxbal("DukeThanks","GLOBAL",1)~
  REPLACE_TEXTUALLY ~Gloxbal("DukeThanks","GLOBAL",1)~ ~Global("DukeThanks","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~FTOWBEZ.BCS~ ~override~
              ~FTOWNAZ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",3)~ ~GlobalLT("ENDOFBG1","GLOBAL",2)
Global("Chapter","GLOBAL",4)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~JONDALAR.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~HitBy(\[PC\],CRUSHING)
  Global("JonHit","GLOBAL",0)~
~OR(2)
    HitBy([PC],CRUSHING)
    HitBy([FAMILIAR],CRUSHING)
  Global("JonHit","GLOBAL",0)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~KAISHA.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ForceSpell(Myself,KAISHAS_CHANGE)~ ~ForceSpellRES("BGWI925",Myself)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~MTOWBAZ.BCS~ ~override~
  EXTEND_BOTTOM ~MTOWBAZ.BCS~ ~BGT/Modify/BAF/aMTOWBAZ.BAF~

COPY_EXISTING ~MTOWBEZ.BCS~ ~override~
              ~MTOWNAZ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",3)~ ~GlobalLT("ENDOFBG1","GLOBAL",2)
Global("Chapter","GLOBAL",4)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~NOBLBAZ.BCS~ ~override~
              ~NOBWBAZ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Chapter","GLOBAL",7)~ ~GlobalLT("ENDOFBG1","GLOBAL",2)
Global("Chapter","GLOBAL",8)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SEMAJ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE ~24097~ @401112
  REPLACE ~24098~ @401113
  REPLACE ~24099~ @401114
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SHIP.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR1000"~ ~"ARU000"~
  REPLACE ~24016~ @401100
  COMPILE_BAF_TO_BCS

//in connection to THIEFG.DLG
COPY_EXISTING ~THIEF.BCS~   ~override~
              ~THIEVES.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AttackedThieves"~ ~"BG_AttackedThieves"~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~TTARNOR.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"TARNOR"~ ~"BGTARNOR"~
  COMPILE_BAF_TO_BCS

//changes to script ResRef

COPY_EXISTING ~TANARI.BCS~ ~override/BGTANARI.BCS~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ForceSpell(\([^,]*\),TANARI_DEATH_GAZE)~ ~ForceSpellRES("BGIN996",\1)~
  COMPILE_BAF_TO_BCS

///////////////////////////////////
// Script Installation: BG2 scripts
///////////////////////////////////

COPY ~BGT\Base\BS\aGen.bs~ ~scripts~
     ~BGT\Base\BS\apass.bs~ ~scripts~

//BG1 and BG2 both use these area numbers
//Scripts in BG2 contain BG1 stuff
//Therefore, remove the BG1 stuff from these scripts
ACTION_IF NOT FILE_EXISTS_IN_GAME ~cdbehbla.pro~ THEN BEGIN //Compatibility with BG2 Fixpack
  COPY_EXISTING ~AR0512.BCS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR0512.BAF~ ~BGT/Modify/Replace/empty.BAF~
  COPY_EXISTING ~AR0514.BcS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR0514.BAF~ ~BGT/Modify/Replace/empty.BAF~
  COPY_EXISTING ~AR1700.BcS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR1700.BAF~ ~BGT/Modify/Replace/empty.BAF~
  COPY_EXISTING ~AR1800.BcS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR1800.BAF~ ~BGT/Modify/Replace/empty.BAF~
  COPY_EXISTING ~AR2001.BcS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR2001.BAF~ ~BGT/Modify/Replace/empty.BAF~
END

COPY_EXISTING ~AR0304.BCS~ ~override~
  EXTEND_TOP ~AR0304.BCS~ ~BGT/Modify/BAF/aAR0304.BAF~

COPY_EXISTING ~AR0602.BCS~ ~override~
  REPLACE_BCS_BLOCK ~BGT/Compat/BGT/Replace/rAR0602.BAF~ ~BGT/Compat/BGT/Replace/xAR0602.BAF~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF
  Global("TakeImportItems","AR0602",0)~
~IF
  Global("TakeImportItems","AR0602",0)
  Global("MinscImport","GLOBAL",2)
  Global("JaheiraImport","GLOBAL",2)
  Global("ImoenImport","GLOBAL",2)
  Global("BGImportIncomplete","AR0602",0)~ //works if CtB installed previously as well
  REPLACE_TEXTUALLY ~InParty("Imoen")~ ~InParty("Imoen2")~
  PATCH_IF FILE_EXISTS_IN_GAME ~cdbehbla.pro~ THEN BEGIN //Compatibility with BG2 Fixpack
    REPLACE_TEXTUALLY ~ActionOverride(Player[1-6],MakeUnselectable(2147483647))~ ~~
  END
  REPLACE ~401118~ @401118
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~AR1000.BCS~ ~override~
  EXTEND_BOTTOM ~AR1000.BCS~ ~BGT/Modify/BAF/aAR1000.BAF~

COPY_EXISTING ~AR4000.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~SetGlobal("TurnDay","AR4000",1)~ ~SetGloxbal("TurnDay","AR4000",1)
SetGlobal("ENDOFBG1","GLOBAL",2)~
  REPLACE_TEXTUALLY ~SetGloxbal("TurnDay","AR4000",1)~ ~SetGlobal("TurnDay","AR4000",1)~
  COMPILE_BAF_TO_BCS

//BGT Credits
COPY_EXISTING ~AR6200.BCS~ ~override~
  REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rAR6200.BAF~ ~BGT/Modify/Replace/xAR6200.BAF~

COPY_EXISTING ~BEAR.BCS~  ~override~
  REPLACE_BCS_BLOCK ~BGT/Modify/Replace/rBEAR.BAF~ ~BGT/Modify/Replace/xBEAR.BAF~

COPY_EXISTING ~DPLAYER2.BCS~ ~override~
  EXTEND_BOTTOM ~DPLAYER2.BCS~ ~BGT/Modify/BAF/aDPLAYER2.BAF~
  EXTEND_BOTTOM ~DPLAYER2.BCS~ ~BGT/Modify/BAF/aDPLAYERX.BAF~

COPY_EXISTING ~DPLAYER3.BCS~ ~override~
  EXTEND_BOTTOM ~DPLAYER3.BCS~ ~BGT/Modify/BAF/aDPLAYER3.BAF~
  EXTEND_BOTTOM ~DPLAYER3.BCS~ ~BGT/Modify/BAF/aDPLAYERX.BAF~

COPY_EXISTING ~JAHEIRA.BCS~ ~override~
  EXTEND_BOTTOM ~JAHEIRA.BCS~ ~BGT/Modify/BAF/aJAHEIRA.BAF~

//different from BG1, used by GARRICK.CRE (in BG2)
COPY_EXISTING ~MAGE2.BCS~ ~override/BG2MAGE2.BCS~

COPY_EXISTING ~PLAYER1D.BCS~ ~override~
  EXTEND_TOP ~PLAYER1D.BCS~ ~BGT/Modify/BAF/aPLAYER1D.BAF~

COPY_EXISTING ~RUNENEMY.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~IF
  See(\[ENEMY\])~
~IF
  Global("ENDOFBG1","GLOBAL",2)
  See([ENEMY])~
  COMPILE_BAF_TO_BCS
  EXTEND_TOP ~RUNENEMY.BCS~ ~BGT/Modify/BAF/aRUNENEMY.BAF~

//////////////////////////////
//Imoen death variable changes
//////////////////////////////

//Compatibility with NeJ: Custom Imoen Kit
ACTION_IF
  NOT FILE_EXISTS_IN_GAME ~CLABCHRG.2DA~
THEN BEGIN
  EXTEND_TOP ~AR1512.BCS~ ~BGT/Compat/BGT/Replace/aAR1512.BAF~

  COPY_EXISTING ~CLONROOM.BCS~ ~override~
                ~ELLEROOM.BCS~ ~override~
                ~LIBRARY.BCS~ ~override~
                ~NEWGAME.BCS~ ~override~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY ~"Imoen"~ ~"Imoen2"~
    COMPILE_BAF_TO_BCS

  COPY_EXISTING ~CUT01.BCS~ ~override~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY ~"Imoen"~ ~"Imoen2"~
    REPLACE_TEXTUALLY ~"None"~ ~""~
    COMPILE_BAF_TO_BCS

  COPY_EXISTING ~TELE0700.BCS~ ~override~
    REPLACE_BCS_BLOCK ~BGT/Compat/BGT/Replace/rTELE0700.BAF~ ~BGT/Compat/BGT/Replace/xTELE0700.BAF~

  COMPILE ~BGT/Compat/BGT/CUT01BGT.BAF~
END
ELSE BEGIN
  COPY_EXISTING ~AR0602.BCS~ ~override~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY ~ActionOverride("Imoen2",CreateItem("Imoenhp1",1,0,0))~ ~~
    REPLACE_TEXTUALLY ~ActionOverride("Imoen2",FillSlot(SLOT_BELT))~ ~~
    COMPILE_BAF_TO_BCS

  COPY_EXISTING ~NEWGAME.BCS~ ~override~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY ~ActionOverride("Imoen2",DestroySelf())~ ~~
    REPLACE_TEXTUALLY ~CreateCreature("Imoen10",\[3198\.2837\],0)~ ~~
    COMPILE_BAF_TO_BCS

  COPY_EXISTING ~CUT01.BCS~ ~override~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY ~ActionOverride("Imoen2",SetDialogu?e?("IMOEN2"))[^!]*ActionOverride("Imoen2",ChangeAIScript("",DEFAULT))~
~ActionOverride("Imoen2",SetDialog("IMOEN2"))
ActionOverride("Imoen2",SetNumTimesTalkedTo(0))
ActionOverride("Imoen2",ChangeAIScript("",DEFAULT))~
    COMPILE_BAF_TO_BCS
END

////////////////////////////////////////////////////////////////////////////////

COMPILE ~BGT/Base/BAF~

////////////////////////////////////////////////////////////////////////////////
// Script Installation: stone death checks
////////////////////////////////////////////////////////////////////////////////

EXTEND_TOP ~AJANTIS.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~ALORA.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGBRANW.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~CORAN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGEDWIN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~DYNAHEIR.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGFALDRN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~ELDOTH.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGGARRIK.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGIMOEN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGJHEIRA.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~KAGAIN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~KHALID.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~KIVAN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGMINSC.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~MONTARON.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~QUAYLE.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~SAFANA.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~SHARTEEL.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGSKIE.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~TIAX.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~BGVICNIA.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~XAN.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~XZAR.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~
EXTEND_TOP ~YESLICK.BCS~ ~BGT/Modify/BAF/aPetrify.BAF~

///////////////////////////////////////////////////////
//Transition Compatibility
///////////////////////////////////////////////////////

// Compatibility with TDD
ACTION_IF FILE_EXISTS ~data/TDD-RULE.BIF~
THEN BEGIN
  COPY + ~override/ARAM00.BCS~ ~override/ARAM00.BCS~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY
~ActionOverride("Kivan",LeaveParty())
    ActionOverride("Kivan",ChangeAIScript("",DEFAULT))
    ActionOverride("Kivan",ClearAllActions())
    ActionOverride("Kivan",DestroySelf())~
~ActionOverride("Kivan",LeaveParty())
    ActionOverride("Kivan",ChangeAIScript("",DEFAULT))
    ActionOverride("Kivan",ClearAllActions())
    SetGlobal("KivanPartyBG1","GLOBAL",1)
    ActionOverride("Kivan",ChangeAIScript("SBTKIV",CLASS))
    ActionOverride("Kivan",MoveBetweenAreas("AR1100",[4172.1239],4))~
    REPLACE_TEXTUALLY
~ActionOverride("Kagain",LeaveParty())
    ActionOverride("Kagain",ChangeAIScript("",DEFAULT))
    ActionOverride("Kagain",ClearAllActions())
    ActionOverride("Kagain",DestroySelf())~
~ActionOverride("Kagain",LeaveParty())
    ActionOverride("Kagain",ChangeAIScript("",DEFAULT))
    ActionOverride("Kagain",ClearAllActions())
    SetGlobal("KagainPartyBG1","GLOBAL",1)
    ActionOverride("Kagain",ChangeAIScript("SBTKAG",CLASS))
    ActionOverride("Kagain",MoveBetweenAreas("AR0020",[547.494],12))~
    REPLACE_TEXTUALLY
~ActionOverride("Yeslick",LeaveParty())
    ActionOverride("Yeslick",ChangeAIScript("",DEFAULT))
    ActionOverride("Yeslick",ClearAllActions())
    ActionOverride("Yeslick",DestroySelf())~
~ActionOverride("Yeslick",LeaveParty())
    ActionOverride("Yeslick",ChangeAIScript("",DEFAULT))
    ActionOverride("Yeslick",ClearAllActions())
    SetGlobal("YeslickPartyBG1","GLOBAL",1)
    ActionOverride("Yeslick",ChangeAIScript("SBTYES",RACE))
    ActionOverride("Yeslick",MoveBetweenAreas("AR0900",[3445.1896],4))~
    REPLACE_TEXTUALLY
~ActionOverride("Sharteel",LeaveParty())
    ActionOverride("Sharteel",ChangeAIScript("",DEFAULT))
    ActionOverride("Sharteel",ClearAllActions())
    ActionOverride("Sharteel",DestroySelf())~
~ActionOverride("Sharteel",LeaveParty()
    ActionOverride("Sharteel",ChangeAIScript("",DEFAULT))
    ActionOverride("Sharteel",ClearAllActions())
    SetGlobal("SharteelPartyBG1","GLOBAL",1)
    ActionOverride("Sharteel",ChangeAIScript("SBTSHR",CLASS))
    ActionOverride("Sharteel",MoveBetweenAreas("AR1005",[1131.335],8))~
    REPLACE_TEXTUALLY
~ActionOverride("Xzar",LeaveParty())
    ActionOverride("Xzar",ChangeAIScript("",DEFAULT))
    ActionOverride("Xzar",ClearAllActions())
    ActionOverride("Xzar",DestroySelf())~
~ActionOverride("Xzar",LeaveParty())
    ActionOverride("Xzar",ChangeAIScript("",DEFAULT))
    ActionOverride("Xzar",ClearAllActions())
    SetGlobal("XzarPartyBG1","GLOBAL",1)
    ActionOverride("Xzar",ChangeAIScript("SBTXZR",RACE))
    ActionOverride("Xzar",MoveBetweenAreas("AR0300",[2372.2475],0))~
    COMPILE_BAF_TO_BCS
END

// Compatibility with TS
ACTION_IF
  FILE_EXISTS_IN_GAME ~Kachi01.wav~
THEN BEGIN
  COPY + ~override/ARAM00.BCS~ ~override/ARAM00.BCS~
    DECOMPILE_BCS_TO_BAF
    REPLACE_TEXTUALLY
~ActionOverride("Coran",LeaveParty())
    ActionOverride("Coran",ChangeAIScript("",DEFAULT))
    ActionOverride("Coran",ClearAllActions())
    ActionOverride("Coran",DestroySelf())~
~ActionOverride("Coran",LeaveParty())
    ActionOverride("Coran",ChangeAIScript("",DEFAULT))
    ActionOverride("Coran",ClearAllActions())
    SetGlobal("CoranPartyBG1","GLOBAL",1)
    ActionOverride("Coran",MoveBetweenAreas("AR2600",[826.1135],0))~
    COMPILE_BAF_TO_BCS
END

///////////////////////////////////////////////////////
// Dialogue
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100007

MKDIR ~BG1D~

COPY + ~BGT/Base/D~     ~BG1D~
       ~BGT/Base/D_BG1~ ~BG1D~

// Compatibility with TDD
ACTION_IF FILE_EXISTS ~data/TDD-RULE.BIF~
THEN BEGIN
  COPY + ~BGT/Compat/TDD/KAGAIP.D~ ~BG1D~
         ~BGT/Compat/TDD/KIVANP.D~ ~BG1D~
         ~BGT/Compat/TDD/MONTAP.D~ ~BG1D~
         ~BGT/Compat/TDD/SHARTP.D~ ~BG1D~
         ~BGT/Compat/TDD/XZARP.D~  ~BG1D~
         ~BGT/Compat/TDD/YESLIP.D~ ~BG1D~
END
ELSE BEGIN
  COPY + ~BGT/Compat/BGT/KAGAIP.D~ ~BG1D~
         ~BGT/Compat/BGT/KIVANP.D~ ~BG1D~
         ~BGT/Compat/BGT/MONTAP.D~ ~BG1D~
         ~BGT/Compat/BGT/SHARTP.D~ ~BG1D~
         ~BGT/Compat/BGT/XZARP.D~  ~BG1D~
         ~BGT/Compat/BGT/YESLIP.D~ ~BG1D~
END

// Compatibility with SoS
ACTION_IF
  FILE_EXISTS ~data/SOS-RULE.BIF~
THEN BEGIN
  COPY + ~BGT/Compat/SoS/SoSReplace.D~ ~BG1D/SoSReplace.D~
END

// Compatibility with TS
ACTION_IF
  FILE_EXISTS_IN_GAME ~Kachi01.wav~
THEN BEGIN
  COPY + ~BGT/Compat/TS/Replace/xBCORAN.D~ ~BG1D~
         ~BGT/Compat/TS/Replace/xCORAN.D~  ~BG1D~
         ~BGT/Compat/TS/Replace/xCORANJ.D~ ~BG1D~
         ~BGT/Compat/TS/Replace/xCORANP.D~ ~BG1D~
         ~BGT/Compat/TS/Replace/xDYNAJ.D~  ~BG1D~
         ~BGT/Compat/TS/Replace/xDYNAP.D~  ~BG1D~
         ~BGT/Compat/TS/Replace/xCHESS.D~  ~BG1D~
END
ELSE BEGIN
  COPY + ~BGT/Compat/BGT/BCORAN.D~ ~BG1D~
         ~BGT/Compat/BGT/CORAN.D~  ~BG1D~
         ~BGT/Compat/BGT/CORANJ.D~ ~BG1D~
         ~BGT/Compat/BGT/CORANP.D~ ~BG1D~
         ~BGT/Compat/BGT/DYNAJ.D~  ~BG1D~
         ~BGT/Compat/BGT/DYNAP.D~  ~BG1D~
         ~BGT/Compat/BGT/CHESS.D~  ~BG1D~
END

// Compatibility with NeJ: Custom Imoen Kit
ACTION_IF
  NOT FILE_EXISTS_IN_GAME ~CLABCHRG.2DA~
THEN BEGIN
  COPY_EXISTING ~IMOEN2J.DLG~ ~override/IMOEN2J.DLG~
    READ_LONG 0x8 num_states
  BUT_ONLY_IF_IT_CHANGES

  COPY_EXISTING ~IDRYAD1.DLG~  ~override~ //updates IMOENJ to IMOEN2J dialogue trans
                ~IGOLEM2.DLG~  ~override~
                ~ISHADMT1.DLG~ ~override~
                ~JAHEIRA.DLG~  ~override~
                ~JAHEIRAJ.DLG~ ~override~
                ~MINSCA.DLG~   ~override~
                ~RIELEV.DLG~   ~override~
                ~YOSHIMO.DLG~  ~override~
    READ_LONG 0x14 off_response
    READ_SHORT 0x10 num_response
    FOR( i=0;i<%num_response%;i+=1 ) BEGIN
      READ_ASCII (%off_response% + %i%*0x20 + 0x14) next_dialog
      READ_LONG (%off_response% + %i%*0x20 + 0x1c) next_state
      PATCH_IF (("%next_dialog%" STRING_COMPARE_CASE "IMOENJ")=0) BEGIN
        WRITE_ASCII (%off_response% + %i%*0x20 + 0x14) "IMOEN2J"
        SET %next_state% = %next_state% + %num_states%
        WRITE_LONG (%off_response% + %i%*0x20 + 0x1c) %next_state%
      END
    END
  BUT_ONLY_IF_IT_CHANGES

  //compile first instead of copy to BG1D for BG1NPC compatibility
  //otherwise IMOEN2J and IMOEN2P appended twice, not knowing which appendage goes first
  COMPILE ~BGT/Compat/BGT/Replace/aIMOEN2J.D~
  COMPILE ~BGT/Compat/BGT/Replace/aIMOEN2P.D~
END

// Compatibility with NeJ2
ACTION_IF
  FILE_EXISTS_IN_GAME ~EyeBite.itm~
THEN BEGIN
  COPY + ~BGT/Compat/NeJ2/Replace/aJAHEIRAP.D~ ~BG1D~
  COPY + ~BGT/Compat/NeJ2/Replace/xXAN.D~      ~BG1D~
END
ELSE BEGIN
  COPY + ~BGT/Compat/BGT/aJAHEIRAP.D~ ~BG1D~
  COPY + ~BGT/Compat/BGT/XAN.D~       ~BG1D~
END

//BG1NPC Fluid State Compatibility///
COPY_EXISTING ~BEDWIN.DLG~ ~BGT/Compat/BG1NPC/BEDWIN.DLG~
              ~BJAHEIR.DLG~ ~BGT/Compat/BG1NPC/BJAHEI.DLG~
              ~BMINSC.DLG~ ~BGT/Compat/BG1NPC/BMINSC.DLG~
              ~BVICONI.DLG~ ~BGT/Compat/BG1NPC/BVICON.DLG~
              ~EDWIN.DLG~ ~BGT/Compat/BG1NPC/EDWIN.DLG~
              ~EDWINJ.DLG~ ~BGT/Compat/BG1NPC/EDWINJ.DLG~
              ~EDWINP.DLG~ ~BGT/Compat/BG1NPC/EDWINP.DLG~
              ~IMOEN2.DLG~ ~BGT/Compat/BG1NPC/IMOEN2.DLG~
              ~IMOEN2J.DLG~ ~BGT/Compat/BG1NPC/IMOENJ.DLG~
              ~IMOEN2P.DLG~ ~BGT/Compat/BG1NPC/IMOENP.DLG~
              ~JAHEIRAJ.DLG~ ~BGT/Compat/BG1NPC/JAHEIJ.DLG~
              ~JAHEIRAP.DLG~ ~BGT/Compat/BG1NPC/JAHEIP.DLG~
              ~MINSCJ.DLG~ ~BGT/Compat/BG1NPC/MINSCJ.DLG~
              ~MINSCP.DLG~ ~BGT/Compat/BG1NPC/MINSCP.DLG~
              ~VICONIJ.DLG~ ~BGT/Compat/BG1NPC/VICONJ.DLG~
              ~VICONIP.DLG~ ~BGT/Compat/BG1NPC/VICONP.DLG~
  READ_LONG 0x8 BG1NPC_num_states
  SPRINT BG1NPC_dlg_name EVALUATE_BUFFER "%DEST_RES%"
  INNER_ACTION BEGIN
    COPY ~BGT/Compat/BG1NPC/FluidStates.tpa~ ~BGT/Compat/BG1NPC/FluidStates.tpa~
      REPLACE_TEXTUALLY ~\(BGT%BG1NPC_dlg_name%State0 = \)0~ ~\1%BG1NPC_num_states%~
  END
  
// Compatibility with NeJ2
ACTION_IF FILE_EXISTS_IN_GAME ~EyeBite.itm~ THEN BEGIN
  COPY_EXISTING ~XAN.DLG~ ~BGT/Compat/BG1NPC/XAN.DLG~
    READ_LONG 0x8 BG1NPC_num_states
    SPRINT BG1NPC_dlg_name EVALUATE_BUFFER "%DEST_RES%"
    INNER_ACTION BEGIN
      COPY ~BGT/Compat/BG1NPC/FluidStates.tpa~ ~BGT/Compat/BG1NPC/FluidStates.tpa~
        REPLACE_TEXTUALLY ~\(BGT%BG1NPC_dlg_name%State0 = \)0~ ~\1%BG1NPC_num_states%~
    END
END

// Compatibility with TDD
ACTION_IF FILE_EXISTS ~data/TDD-RULE.BIF~ THEN BEGIN
  COPY_EXISTING ~KAGAIP.DLG~ ~BGT/Compat/BG1NPC/KAGAIP.DLG~
                ~KIVANP.DLG~ ~BGT/Compat/BG1NPC/KIVANP.DLG~
                ~SHARTP.DLG~ ~BGT/Compat/BG1NPC/SHARTP.DLG~
                ~XZARP.DLG~ ~BGT/Compat/BG1NPC/XZARP.DLG~
                ~YESLIP.DLG~ ~BGT/Compat/BG1NPC/YESLIP.DLG~
    READ_LONG 0x8 BG1NPC_num_states
    SPRINT BG1NPC_dlg_name EVALUATE_BUFFER "%DEST_RES%"
    INNER_ACTION BEGIN
      COPY ~BGT/Compat/BG1NPC/FluidStates.tpa~ ~BGT/Compat/BG1NPC/FluidStates.tpa~
        REPLACE_TEXTUALLY ~\(BGT%BG1NPC_dlg_name%State0 = \)0~ ~\1%BG1NPC_num_states%~
    END
END

// Compatibility with TS
ACTION_IF FILE_EXISTS_IN_GAME ~Kachi01.wav~ THEN BEGIN
  COPY_EXISTING ~BCORAN.DLG~ ~BGT/Compat/BG1NPC/BCORAN.DLG~
                ~CORAN.DLG~ ~BGT/Compat/BG1NPC/CORAN.DLG~
                ~CORANJ.DLG~ ~BGT/Compat/BG1NPC/CORANJ.DLG~
                ~CORANP.DLG~ ~BGT/Compat/BG1NPC/CORANP.DLG~
                ~DYNAJ.DLG~ ~BGT/Compat/BG1NPC/DYNAHJ.DLG~
                ~DYNAP.DLG~ ~BGT/Compat/BG1NPC/DYNAHP.DLG~
    READ_LONG 0x8 BG1NPC_num_states
    SPRINT BG1NPC_dlg_name EVALUATE_BUFFER "%DEST_RES%"
    INNER_ACTION BEGIN
      COPY ~BGT/Compat/BG1NPC/FluidStates.tpa~ ~BGT/Compat/BG1NPC/FluidStates.tpa~
        REPLACE_TEXTUALLY ~\(BGT%BG1NPC_dlg_name%State0 = \)0~ ~\1%BG1NPC_num_states%~
    END
END
/////////////////////////////////////


/////////////////////////////////////
// Dialogue Installation: Compilation
/////////////////////////////////////

COMPILE ~BG1D~
COMPILE ~BGT/Modify/D/Familiar.D~ //familiar shut-ups
COMPILE ~BGT/Modify/D/Replace.D~ //other "Imoen2" substitution

// Compatibility with NeJ: Custom Imoen Kit
ACTION_IF
  NOT FILE_EXISTS_IN_GAME ~CLABCHRG.2DA~
THEN BEGIN
  COMPILE ~BGT/Compat/BGT/Replace/Replace.D~
END
ELSE BEGIN
  COMPILE ~BGT/Compat/NeJImoen/Replace/aIMOEN2P.D~
END

///////////////////////////////////////////////////////
// Stores
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100008

COPY ~BGT/Base/STO~ ~override~

///////////////////////////////////////////////////////
// Items
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100009

//Item shattering component
COPY_EXISTING ~AX1H01.ITM~ ~override~
              ~BLUN02.ITM~ ~override~
              ~BLUN04.ITM~ ~override~
              ~BLUN06.ITM~ ~override~
              ~DAGG01.ITM~ ~override~
              ~DAGG06.ITM~ ~override~
              ~DAGG07.ITM~ ~override~
              ~HALB01.ITM~ ~override~
              ~SPER01.ITM~ ~override~
              ~SW1H01.ITM~ ~override~
              ~SW1H04.ITM~ ~override~
              ~SW1H07.ITM~ ~override~
              ~SW1H12.ITM~ ~override~
              ~SW1H17.ITM~ ~override~
              ~SW1H20.ITM~ ~override~
              ~SW1H43.ITM~ ~override~
              ~SW1H46.ITM~ ~override~
              ~SW1H48.ITM~ ~override~
              ~SW2H01.ITM~ ~override~
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_num
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num

  FOR( i=0; i<%abil_num%; i+=1 ) BEGIN
    READ_SHORT (%abil_off% + 0x38*%i%) abil_type
    PATCH_IF (%abil_type% = 1) THEN BEGIN //Melee
      READ_SHORT (%abil_off% + 0x38*%i% + 0x20) abil_fx_idx

      INSERT_BYTES (%fx_off% + 0x30*%abil_fx_idx%) 0x30
      WRITE_SHORT (%fx_off% + 0x30*%abil_fx_idx%) 0x0135 //Set local variable
      WRITE_BYTE (%fx_off% + 0x30*%abil_fx_idx% + 0x2) 1 //Target self
      WRITE_LONG (%fx_off% + 0x30*%abil_fx_idx% + 0x4) 1 //Value
      WRITE_BYTE (%fx_off% + 0x30*%abil_fx_idx% + 0xc) 1 //Timing Mode
      WRITE_BYTE (%fx_off% + 0x30*%abil_fx_idx% + 0x12) 1 //Probability 1
      WRITE_EVALUATED_ASCII (%fx_off% + 0x30*%abil_fx_idx% + 0x14) "%SOURCE_RES%" //String

      READ_SHORT (%abil_off% + 0x38*%i% + 0x1e) abil_fx_num
      WRITE_SHORT (%abil_off% + 0x38*%i% + 0x1e) (%abil_fx_num% + 1)

      FOR ( j=i+1; j<%abil_num%; j+=1 ) BEGIN
      READ_SHORT (%abil_off% + 0x38*%j% + 0x20) abil_fx_idx
      WRITE_SHORT (%abil_off% + 0x38*%j% + 0x20) (%abil_fx_idx% + 1)
      END
    END
  END


////////////////////////////////////////////////
// BG1 items existing in BG2 but not used by BG2
////////////////////////////////////////////////

COPY ~BGT/Modify/ITM/AMUL18.ITM~ ~override/AMUL18.ITM~
  SAY IDENTIFIED_DESC @22261

COPY ~BGT/Modify/ITM/BLUN11.ITM~ ~override/BLUN11.ITM~
  SAY NAME2 @23966
  SAY IDENTIFIED_DESC @200001

COPY ~BGT/Modify/ITM/BOOK87.ITM~ ~override/BOOK87.ITM~
  SAY UNIDENTIFIED_DESC @22840

COPY ~BGT/Modify/ITM/BOOK88.ITM~ ~override/BOOK88.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BXOR 0b00000001) //Remove Unsellable flag

STRING_SET ~7350~ @200002 //correct Long Bow of Marksmanship identified description
COPY ~BGT/Modify/ITM/BOW07.ITM~ ~override/BOW07.ITM~

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 4) BEGIN //Launcher
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1A) 2 //Ability damage bonus
    END
  END

STRING_SET ~7351~ @200003 //correct Eagle Bow identified description
COPY ~BGT/Modify/ITM/BOW08.ITM~ ~override/BOW08.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 4) BEGIN //Launcher
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1A) 2 //Ability damage bonus
    END
  END

COPY ~BGT/Modify/ITM/CLCK08.ITM~ ~override/CLCK08.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off

  INSERT_BYTES "%abil_off%" 0x38
  SET abil_num += 1
  WRITE_SHORT 0x68 "%abil_num%"
  SET fx_off += 0x38
  WRITE_LONG 0x6a "%fx_off%"

  WRITE_BYTE "%abil_off%" 3 //Ability type
  WRITE_BYTE ("%abil_off%" + 0x2) 3 //Ability location = ITEM_SLOT
  WRITE_ASCII ("%abil_off%" + 0x4) ICLCK07 //Ability icon
  WRITE_BYTE ("%abil_off%" + 0xC) 1 //Ability target = LIVING_ACTOR
  WRITE_SHORT ("%abil_off%" + 0xE) 100 //Ability range
  WRITE_SHORT ("%abil_off%" + 0x1C) 1 //Ability damage type = PIERCING
  WRITE_BYTE ("%abil_off%" + 0x24) 3 //Ability when drained = RECHARGE_DAILY
  WRITE_SHORT ("%abil_off%" + 0x2A) 1 //Ability projectile type
  WRITE_SHORT ("%abil_off%" + 0x2C) 34 //Ability animation overhand %
  WRITE_SHORT ("%abil_off%" + 0x2E) 33 //Ability animation backhand %
  WRITE_SHORT ("%abil_off%" + 0x30) 33 //Ability animation thrust %

  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  INSERT_BYTES ("%fx_off%" + "%fx_global_num%" * 0x30) 0x30

  WRITE_SHORT ("%fx_off%" + "%fx_global_num%" * 0x30) 5 //Effect type = CHARM_CREATURE
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x2) 2 //Effect target = PRESET_TARGET
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x3) 3 //Power
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0xD) 1 //Dispel/Resistance = YES/YES
  WRITE_LONG ("%fx_off%" + "%fx_global_num%" * 0x30 + 0xE) 3600 //Duration
  WRITE_LONG ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x12) 100 //Probability 1
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x24) 0b00000010 //Savetype = VS_BREATH
  WRITE_LONG ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x28) 0xFFFFFFFF //Save bonus = -1

  WRITE_SHORT ("%abil_off%" + 0x1E) 1 //New ability #FX
  WRITE_SHORT ("%abil_off%" + 0x20) "%fx_global_num%" //New ability FX index

  FOR (i = 1; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x20) fx_abil_idx
    WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x20) ("%fx_abil_idx%" + 1)
  END

COPY ~BGT/Modify/ITM/DAGG09.ITM~ ~override/DAGG09.ITM~
  SAY IDENTIFIED_DESC @200004

COPY ~BGT/Modify/ITM/DAGG10.ITM~ ~override/DAGG10.ITM~
  WRITE_SHORT 0x1C 16 //Category = DAGGERS

COPY ~BGT/Modify/ITM/GIBBERIL.ITM~ ~override/GIBBERIL.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 1) BEGIN //Melee
      //the following stops the training practice gibberlings from dealing damage to unarmed players
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1c) 0 //Damage type = NONE
    END
  END

COPY ~BGT/Modify/ITM/HELM14.ITM~ ~override/HELM14.ITM~
  SAY IDENTIFIED_DESC @21408

COPY ~BGT/Modify/ITM/MISC1F.ITM~ ~override/MISC1F.ITM~
  SAY UNIDENTIFIED_DESC @22257

COPY ~BGT/Modify/ITM/MISC1H.ITM~ ~override/MISC1H.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BOR 0b00000001) //Add Unsellable flag

COPY ~BGT/Modify/ITM/MISC1J.ITM~ ~override/MISC1J.ITM~
  SAY UNIDENTIFIED_DESC @22720

COPY ~BGT/Modify/ITM/MISC2H.ITM~ ~override/MISC2H.ITM~
  SAY NAME2 @23956
  SAY IDENTIFIED_DESC @23957

COPY ~BGT/Modify/ITM/MISC2M.ITM~ ~override/MISC2M.ITM~
  SAY NAME2 @22222
  SAY IDENTIFIED_DESC @22223

COPY ~BGT/Modify/ITM/MISC2N.ITM~ ~override/MISC2N.ITM~
  SAY NAME2 @22224
  SAY IDENTIFIED_DESC @22225

COPY ~BGT/Modify/ITM/MISC2P.ITM~ ~override/MISC2P.ITM~
  READ_BYTE 0x21 flags
  WRITE_BYTE 0x21 (%flags% BOR 0b00100000) //BGT correction: Add Unusable by Monk flag
  SAY NAME1 @23983
  SAY NAME2 @23984
  SAY UNIDENTIFIED_DESC @10376
  SAY IDENTIFIED_DESC @23985

COPY ~BGT/Modify/ITM/MISC87.ITM~ ~override/MISC87.ITM~
  SAY NAME1 @10253

COPY ~BGT/Modify/ITM/MISC94.ITM~ ~override/MISC94.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BOR 0b00000001) //Add Unsellable flag

COPY ~BGT/Modify/ITM/MISC95.ITM~ ~override/MISC95.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BOR 0b00000001) //Add Unsellable flag

COPY ~BGT/Modify/ITM/MISC98.ITM~ ~override/MISC98.ITM~
  SAY NAME2 @21994

COPY ~BGT/Modify/ITM/PLAT08.ITM~ ~override/PLAT08.ITM~
  WRITE_BYTE 0x26 11 //Minimum strength
  SAY NAME2 @23974
  SAY IDENTIFIED_DESC @23975

COPY ~BGT/Modify/ITM/RINGJOIA.ITM~ ~override/RINGJOIA.ITM~
  SAY NAME1 @24123
  SAY NAME2 @24122

COPY ~BGT/Modify/ITM/SCRL2J.ITM~ ~override/SCRL2J.ITM~
  SAY UNIDENTIFIED_DESC @6484

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2K.ITM~ ~override/SCRL2K.ITM~
  SAY UNIDENTIFIED_DESC @8921

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2L.ITM~ ~override/SCRL2L.ITM~
  SAY UNIDENTIFIED_DESC @8919

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2M.ITM~ ~override/SCRL2M.ITM~
  SAY UNIDENTIFIED_DESC @8920

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2N.ITM~ ~override/SCRL2N.ITM~
  SAY UNIDENTIFIED_DESC @8922

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2O.ITM~ ~override/SCRL2O.ITM~
  SAY UNIDENTIFIED_DESC @8923

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2P.ITM~ ~override/SCRL2P.ITM~
  SAY UNIDENTIFIED_DESC @8924

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2Q.ITM~ ~override/SCRL2Q.ITM~
  SAY UNIDENTIFIED_DESC @8925

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2R.ITM~ ~override/SCRL2R.ITM~
  SAY NAME2 @13195
  SAY UNIDENTIFIED_DESC @8926
  WRITE_LONG 0x54 0xFFFFFFFF //BGT correction: identified description
  WRITE_SHORT 0x38 1 //Max in stack

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2S.ITM~ ~override/SCRL2S.ITM~
  SAY UNIDENTIFIED_DESC @6491

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2T.ITM~ ~override/SCRL2T.ITM~
  SAY UNIDENTIFIED_DESC @6492

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2U.ITM~ ~override/SCRL2U.ITM~
  SAY UNIDENTIFIED_DESC @6493

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2V.ITM~ ~override/SCRL2V.ITM~
  SAY UNIDENTIFIED_DESC @6488

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2W.ITM~ ~override/SCRL2W.ITM~
  SAY UNIDENTIFIED_DESC @6489

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2X.ITM~ ~override/SCRL2X.ITM~
  SAY UNIDENTIFIED_DESC @6490

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2Y.ITM~ ~override/SCRL2Y.ITM~
  SAY UNIDENTIFIED_DESC @8914

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL2Z.ITM~ ~override/SCRL2Z.ITM~
  SAY UNIDENTIFIED_DESC @8915

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL3A.ITM~ ~override/SCRL3A.ITM~
  SAY UNIDENTIFIED_DESC @8917

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL3B.ITM~ ~override/SCRL3B.ITM~
  SAY UNIDENTIFIED_DESC @8913

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL3C.ITM~ ~override/SCRL3C.ITM~
  SAY UNIDENTIFIED_DESC @8916

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

//only to get rid of ability
COPY ~BGT/Modify/ITM/SCRL3D.ITM~ ~override/SCRL3D.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL3E.ITM~ ~override/SCRL3E.ITM~
  SAY UNIDENTIFIED_DESC @6486

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL3F.ITM~ ~override/SCRL3F.ITM~
  SAY UNIDENTIFIED_DESC @8918

COPY ~BGT/Modify/ITM/SCRL3Z.ITM~ ~override/SCRL3Z.ITM~
  SAY UNIDENTIFIED_DESC @16230

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRL5R.ITM~ ~override/SCRL5R.ITM~
  SAY NAME2 @24000
  SAY IDENTIFIED_DESC @23997

COPY ~BGT/Modify/ITM/SCRL5S.ITM~ ~override/SCRL5S.ITM~
  SAY NAME2 @24001
  SAY UNIDENTIFIED_DESC @23998

COPY ~BGT/Modify/ITM/SCRLDRA.ITM~ ~override/SCRLDRA.ITM~
  SAY UNIDENTIFIED_DESC @17931

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRLJALA.ITM~ ~override/SCRLJALA.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BXOR 0b00000001) //Remove Unsellable flag

COPY ~BGT/Modify/ITM/SCRLKAR.ITM~ ~override/SCRLKAR.ITM~
  SAY UNIDENTIFIED_DESC @17912

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRLNEI.ITM~ ~override/SCRLNEI.ITM~
  SAY UNIDENTIFIED_DESC @17923

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRLTAR.ITM~ ~override/SCRLTAR.ITM~
  SAY UNIDENTIFIED_DESC @17904

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRLVAIL.ITM~ ~override/SCRLVAIL.ITM~
  SAY UNIDENTIFIED_DESC @10580

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

COPY ~BGT/Modify/ITM/SCRLZHA.ITM~ ~override/SCRLZHA.ITM~
  SAY UNIDENTIFIED_DESC @17941

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

//BGT correction
COPY ~BGT/Modify/ITM/SW1H13.ITM~ ~override/SW1H13.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BOR 0b00000100) //Add Droppable flag

  WRITE_LONG 0x1e 0xff7bffe7 //Main Unusable data
  WRITE_BYTE 0x26 13 //Minimum strength
  WRITE_BYTE 0x29 0x7f //Unusability data
  WRITE_BYTE 0x2a 17 //Minimum intelligence
  WRITE_BYTE 0x2b 0xff //Unusability data
  WRITE_BYTE 0x2c 16 //Minimum dexterity
  WRITE_BYTE 0x2d 0x80 //Unusability data
  WRITE_BYTE 0x2e 14 //Minimum wisdom
  WRITE_BYTE 0x2f 0xbf //Unusability data
  WRITE_BYTE 0x30 7 //Minimum constitution
  WRITE_BYTE 0x31 96 //Weapon proficiency
  WRITE_BYTE 0x32 16 //Minimum charisma

COPY ~BGT/Modify/ITM/SW1H18.ITM~ ~override/SW1H18.ITM~
  SAY IDENTIFIED_DESC @200005

  READ_BYTE 0x19 flags
  WRITE_BYTE 0x19 (%flags% BOR 0b00000001) //Add Silver Weapon flag

  WRITE_BYTE 0x26 12 //Minimum strength
  WRITE_BYTE 0x31 89 //Weapon proficiency

COPY ~BGT/Modify/ITM/SW1H19.ITM~ ~override/SW1H19.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    READ_BYTE (%abil_off% + %i% * 0x38 + 0x1E) abil_fx_num
    READ_BYTE (%abil_off% + %i% * 0x38 + 0x20) abil_fx_idx
    PATCH_IF ("%abil_type%" = 1 && "%abil_fx_num%" = 2) BEGIN
      SET abil_target = "%i%"
      SET abil_target_fx_num = "%abil_fx_num%"
      SET abil_target_fx_idx = "%abil_fx_idx%"
    END

    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  INSERT_BYTES ("%fx_off%" + "%abil_fx_idx%" * 0x30) 0x30

  WRITE_SHORT ("%fx_off%" + "%abil_fx_idx%" * 0x30) 3 //Effect type = BERSERK
  WRITE_BYTE ("%fx_off%" + "%abil_fx_idx%" * 0x30 + 0x2) 1 //Effect target = SELF
  WRITE_LONG ("%fx_off%" + "%abil_fx_idx%" * 0x30 + 0xE) 60 //Duration
  WRITE_LONG ("%fx_off%" + "%abil_fx_idx%" * 0x30 + 0x12) 100 //Probability 1

  SET abil_target_fx_num += 1
  WRITE_SHORT ("%abil_off%" + "%abil_target%" * 0x38 + 0x1E) "%abil_target_fx_num%" //target ability #FX

  FOR (i = "%abil_target%" + 1; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x20) fx_abil_idx
    WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x20) ("%fx_abil_idx%" + 1)
  END

COPY ~BGT/Modify/ITM/TASLOIIL.ITM~ ~override/TASLOIIL.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 1) BEGIN //Melee
      //stops training practice taslois from dealing damage to unarmed players
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1c) 0 //Damage type = NONE
    END
  END

COPY ~BGT/Modify/ITM/XVARTIL.ITM~ ~override/XVARTIL.ITM~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 1) BEGIN //Melee
      //stops training practice hobgoblins, kobolds, skeletons, and xvarts from dealing damage to unarmed players
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1c) 0 //Damage type = NONE
    END
  END

/////////////////////////////////////////////
// BG1 items existing and used in BG2; rename
/////////////////////////////////////////////

COPY ~BGT/Modify/ITM/HELM15.ITM~ ~override/BGHELM15.ITM~

COPY ~BGT/Modify/ITM/MISC56.ITM~ ~override/BGMISC56.ITM~
  SAY IDENTIFIED_DESC @17263

COPY ~BGT/Modify/ITM/MISC79.ITM~ ~override/BGMISC79.ITM~
  SAY NAME1 @17307
  SAY NAME2 @17308
  SAY UNIDENTIFIED_DESC @19344

COPY ~BGT/Modify/ITM/RING08.ITM~ ~override/BGRING08.ITM~
  SAY IDENTIFIED_DESC @7366
  WRITE_LONG 0x34 18000 //Price

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  DELETE_BYTES 0x72 ("%abil_num%" * 0x38 + "%fx_total_num%" * 0x30)

  WRITE_LONG 0x64 0x72
  WRITE_SHORT 0x68 0
  WRITE_LONG 0x6a 0x72
  WRITE_SHORT 0x70 0

  INSERT_BYTES "%fx_off%" 0x30

  WRITE_SHORT "%fx_off%" 42 //Effect type = BONUS_SPELLS_WIZARD
  WRITE_BYTE ("%fx_off%" + 0x2) 1 //Effect target = SELF
  //Defualt Param2[Spell Levels] is DOUBLE_SPELLS
  WRITE_BYTE ("%fx_off%" + 0x4) 1 //Param1 [Number spells to add]
  WRITE_BYTE ("%fx_off%" + 0xC) 2 //Timing mode = INSTANT/EQUIPPED
  WRITE_LONG ("%fx_off%" + 0x12) 100 //Probability 1

  WRITE_SHORT 0x70 1 //New global effect

COPY ~BGT/Modify/ITM/SCRL1V.ITM~ ~override/BGSCRL1V.ITM~

COPY ~BGT/Modify/ITM/STAF04.ITM~ ~override/BGSTAF04.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BXOR 0b00000100) //Remove Droppable flag

  WRITE_BYTE 0x26 0 //Minimum strength

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 1) BEGIN //Melee
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x16) 2 //Ability dicesize
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x18) 0 //Ability #Dice

      //stops staff from dealing damage to unarmed players
      WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x1c) 0 //Damage type = NONE
    END
  END

COPY ~BGT/Modify/ITM/SW2H07.ITM~ ~override/BGSW2H07.ITM~
  SAY NAME2 @23964
  SAY IDENTIFIED_DESC @23965
  WRITE_ASCII 0x3a ~BGISW2H7~

  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_BYTE (%abil_off% + %i% * 0x38) abil_type
    PATCH_IF (%abil_type% = 1) BEGIN //Melee
      WRITE_ASCII (%abil_off% + %i% * 0x38 + 0x4) ~BGISW2H7~
    END
  END

COPY ~BGT/Modify/ITM/WAND12.ITM~ ~override/BGWAND12.ITM~

/////////////////////////////////////////////
// BG1 items existing and used in BG2; bugfix
/////////////////////////////////////////////

//Change Drizzt Boots of Speed to act like normal BG2 Boots of Speed
COPY_EXISTING ~BOOTDRIZ.ITM~ ~override~
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_global_num
  
  SET fx_total_num = %fx_global_num%

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x1E) fx_abil_num
    SET fx_total_num += %fx_abil_num%
  END

  FOR (i = 0; i < "%fx_total_num%"; i += 1) BEGIN
    READ_SHORT (%fx_off% + %i% * 0x30) fx_type
    PATCH_IF (%fx_type% = 126) BEGIN //Movement rate bonus
      WRITE_SHORT (%fx_off% + %i% * 0x30) 16 //Effect type = HASTE
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0x2) 1 //Effect target = SELF
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0x3) 0 //Power
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x4) 0 //Param1
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x8) 0 //Param2
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0xc) 2 //Timing mode = Instant/While Equipped
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0xd) 2 //Dispel/Resistance - NO/NO
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0xe) 0 //Duration
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0x12) 100 //Probability 1
      WRITE_BYTE (%fx_off% + %i% * 0x30 + 0x13) 0 //Probability 2
      WRITE_ASCII (%fx_off% + %i% * 0x30 + 0x14) "" #8 //ResRef
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x1c) 0 //Max level
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x20) 0 //Min level
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x24) 0 //Savetype = NONE
      WRITE_LONG (%fx_off% + %i% * 0x30 + 0x28) 0 //Save bonus = 0
    END
  END

  INSERT_BYTES ("%fx_off%" + "%fx_global_num%" * 0x30) 0x30

  WRITE_SHORT ("%fx_off%" + "%fx_global_num%" * 0x30) 162 //Effect type = DISPLAY_PORTRAIT_ICON
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x2) 1 //Effect target = SELF
  WRITE_LONG ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x8) 38 //Param2 [Icon] = Haste
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0xC) 2 //Timing mode = Instant/While Equipped
  WRITE_BYTE ("%fx_off%" + "%fx_global_num%" * 0x30 + 0xD) 2 //Dispel/Resistance = NO/NO
  WRITE_LONG ("%fx_off%" + "%fx_global_num%" * 0x30 + 0x12) 100 //Probability 1

  FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x38 + 0x20) fx_abil_idx
    WRITE_SHORT (%abil_off% + %i% * 0x38 + 0x20) ("%fx_abil_idx%" + 1)
  END

  SET fx_global_num += 1
  WRITE_SHORT 0x70 %fx_global_num%

//BG2 erroneously set long bow proficiency and zero enchantment level
COPY_EXISTING ~BOW06.ITM~ ~override/BOW06.ITM~
  WRITE_BYTE 0x31 105 //Proficiency
  WRITE_LONG 0x60 1 //Enchantment level

//BG2 erroneously set short bow proficiency
COPY_EXISTING ~BOW07.ITM~ ~override/BOW07.ITM~
  WRITE_BYTE 0x31 104 //Proficiency

//BG2 erroneously omits the not copyable flag
COPY_EXISTING ~SCRL83.ITM~ ~override/SCRL83.ITM~
  READ_BYTE 0x18 flags
  WRITE_BYTE 0x18 (%flags% BOR 0b00100000) //Add Uncopyable flag

/////////////////////////////////////////////////
// Renaming for compatibility with BG2 Baldurdash
/////////////////////////////////////////////////

COPY ~BGT/Modify/ITM/MISC83.ITM~ ~override/BGMISC83.ITM~
COPY ~BGT/Modify/ITM/SCRL3I.ITM~ ~override/BGSCRL3I.ITM~

/////////////////////////////////////////////
// Item description corrections: English only
/////////////////////////////////////////////

ACTION_IF
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~English~ ) = 0)  OR
  (( ~%LANGUAGE%~ STRING_COMPARE_CASE ~International~ ) = 0)
THEN BEGIN
  OUTER_INNER_PATCH "1234" BEGIN
    WRITE_LONG 0x0 21379 //Identified description: Kiel's Morningstar
    READ_STRREF 0x0 string
    INNER_PATCH_SAVE modstring "%string%" BEGIN
      REPLACE_TEXTUALLY ~Spiked Weapons~ ~Flail/Morningstar~
    END
    INNER_ACTION BEGIN
      STRING_SET_EVALUATE ~21379~ "%modstring%"
    END

    WRITE_LONG 0x0 22721 //Identified description: Soultaker Dagger
    READ_STRREF 0x0 string
    INNER_PATCH_SAVE modstring "%string%" BEGIN
      REPLACE_TEXTUALLY ~Small Sword~ ~Dagger~
    END
    INNER_ACTION BEGIN
      STRING_SET_EVALUATE ~22721~ "%modstring%"
    END
    
    WRITE_LONG 0x0 22966 //General description: The Vampire's Revenge
    READ_STRREF 0x0 string
    INNER_PATCH_SAVE modstring "%string%" BEGIN
      REPLACE_TEXTUALLY ~Large Sword~ ~Long Sword~
    END
    INNER_ACTION BEGIN
      STRING_SET_EVALUATE ~22966~ "%modstring%"
    END

    WRITE_LONG 0x0 22695 //Identified description: The Vampire's Revenge
    READ_STRREF 0x0 string
    INNER_PATCH_SAVE modstring "%string%" BEGIN
      REPLACE_TEXTUALLY ~Large Sword~ ~Long Sword~
    END
    INNER_ACTION BEGIN
      STRING_SET_EVALUATE ~22695~ "%modstring%"
    END

    WRITE_LONG 0x0 10292 //Identified description: Spider's Bane
    READ_STRREF 0x0 string
    INNER_PATCH_SAVE modstring "%string%" BEGIN
      REPLACE_TEXTUALLY ~Large Sword~ ~Long Sword~
    END
    INNER_ACTION BEGIN
      STRING_SET_EVALUATE ~10292~ "%modstring%"
    END
  END
END

///////////////////////////////////////////////////////
// Spells
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100010

COPY ~BGT/Base/SPL~ ~override~

COPY ~BGT/Modify/SPL/BADDRM2.SPL~ ~override~
  SAY 0xce @400000

COPY ~BGT/Modify/SPL/BADDRM4.SPL~ ~override~
  SAY 0xce @400001

COPY ~BGT/Modify/SPL/BADDRM6.SPL~ ~override~
  SAY 0xce @400002

COPY ~BGT/Modify/SPL/GOODDRM2.SPL~ ~override~
  SAY 0xce @400003

COPY ~BGT/Modify/SPL/GOODDRM4.SPL~ ~override~
  SAY 0xce @400004

COPY ~BGT/Modify/SPL/GOODDRM6.SPL~ ~override~
  SAY 0xce @400005

//Patch for snares so that they work from level 5 downwards
COPY_EXISTING ~SPCL412.SPL~ ~override~
              ~SPCL414.SPL~ ~override~
 READ_LONG 0x64 abil_off
 READ_SHORT 0x68 abil_num
 READ_LONG 0x6a fx_off

 FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
  READ_SHORT ("%abil_off%" + "%i%" * 0x28 + 0x20) abil_fx_idx
  READ_SHORT ("%abil_off%" + "%i%" * 0x28 + 0x1e) abil_fx_num

  FOR (j = "%abil_fx_idx%"; j < "%abil_fx_num%"; j += 1) BEGIN
   READ_SHORT ("%fx_off%" + "%j%" * 0x30) abil_fx_type

   PATCH_IF ("%abil_fx_type%" = 252) BEGIN //Set trap
    WRITE_LONG ("%fx_off%" + "%j%" * 0x30 + 0x20) 0 //minimum level
   END

  END

 END
BUT_ONLY_IF_IT_CHANGES

//Correct BG2 SPIN115
COPY_EXISTING ~SPIN115.SPL~ ~override~
 READ_LONG 0x64 abil_off
 READ_SHORT 0x68 abil_num
 READ_LONG 0x6a fx_off

 FOR (i = 0; i < "%abil_num%"; i += 1) BEGIN
  READ_SHORT ("%abil_off%" + "%i%" * 0x28 + 0x20) abil_fx_idx
  READ_SHORT ("%abil_off%" + "%i%" * 0x28 + 0x1e) abil_fx_num

  FOR (j = "%abil_fx_idx%"; j < "%abil_fx_num%"; j += 1) BEGIN
   READ_SHORT ("%fx_off%" + "%j%" * 0x30) abil_fx_type

   PATCH_IF ("%abil_fx_type%" = 67) BEGIN //Summon creature
    WRITE_ASCII ("%fx_off%" + "%j%" * 0x30 + 0x14) ~GHASTS~ #8 //Resource
   END

  END

 END
BUT_ONLY_IF_IT_CHANGES

/////////////////////////////////////////////////////////
// Creatures - process all files in BG1CRE then copy over
/////////////////////////////////////////////////////////

PRINT ~~
PRINT @100013

///////////////////////////////////////////////////////////////////////
// Creature Installation: Modification of BG1 files non-existant in BG2
///////////////////////////////////////////////////////////////////////

COPY + ~BGT/Base/CRE~ ~BG1CRE~

///////////////////////////////////////////////////////////////////////
// Creature Installation: Modification of BG1 files non-existant in BG2
///////////////////////////////////////////////////////////////////////

COPY + ~BG1CRE/AMNIS.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/AMNIS3.CRE~ ~BG1CRE~
  SAY 0xec @12570
COPY + ~BG1CRE/AMNIS4.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/AMNISE.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/AMNISE2.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/AMSLEEP.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/ARKUSH.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/ARLIN.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/BANDITCY.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "" #8  // Override script
COPY + ~BG1CRE/BARDOL.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/BAYARD.CRE~ ~BG1CRE~
  SAY NAME1 @24083
  SAY NAME2 @24083
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/BERRUN.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/BHOBGOB.CRE~ ~BG1CRE~
  SAY NAME1 #15973
  SAY NAME2 #15973
COPY + ~BG1CRE/BORDA.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/BOUNCER.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/BRENDA.CRE~ ~BG1CRE~
  SAY 0xec @5350
  SAY 0xf0 @5351
COPY + ~BG1CRE/CATURA.CRE~ ~BG1CRE~
 WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/CHIMP5.CRE~ ~BG1CRE~
  SAY 0xa4 #4985
  SAY 0x1b8 #4985
COPY + ~BG1CRE/DAITEL.CRE~ ~BG1CRE~
  SAY 0x110 @11393
  SAY 0x130 @11393
  SAY 0x1c0 @11393
COPY + ~BG1CRE/DANDAL.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/DEGROD.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/DENAK.CRE~ ~BG1CRE~
  SAY 0xec @5350
  SAY 0xf0 @5351
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/DRELIK.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/ERIK.CRE~ ~BG1CRE~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "STAF04")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSTAF04" #8
   END
 END
COPY + ~BG1CRE/FAIZAH.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/FATMAN.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9429
COPY + ~BG1CRE/FORTHE.CRE~ ~BG1CRE~
 WRITE_ASCII 0x34 "" #8 //small portrait
 WRITE_ASCII 0x3c "" #8 //large portrait
COPY + ~BG1CRE/GARAN.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name" (6)
    PATCH_IF (("%name%" STRING_COMPARE_CASE "SCRL1V")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSCRL1V"
    END
  END
COPY + ~BG1CRE/GATEWERE.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/GAZIB.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/GLART.CRE~ ~BG1CRE~
  SAY NAME1 #15973
  SAY NAME2 #15973
COPY + ~BG1CRE/GNOLL_C.CRE~ ~BG1CRE~
  SAY NAME2 #19693
COPY + ~BG1CRE/GRETEK.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/HALFMIRI.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name" (6)
    PATCH_IF (("%name%" STRING_COMPARE_CASE "SCRL3I")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSCRL3I"
    END
  END
COPY + ~BG1CRE/HALFG3.CRE~ ~BG1CRE~
       ~BG1CRE/HALFG4.CRE~ ~BG1CRE~
       ~BG1CRE/HALFG5.CRE~ ~BG1CRE~
       ~BG1CRE/HALFG6.CRE~ ~BG1CRE~
       ~BG1CRE/HALFGU.CRE~ ~BG1CRE~
  SAY NAME1 #47111
  SAY NAME2 #47111
COPY + ~BG1CRE/HICK.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/HOBELITE.CRE~ ~BG1CRE~
  SAY NAME1 #17560
COPY + ~BG1CRE/HOBGO5.CRE~   ~BG1CRE~
       ~BG1CRE/HOBGOA_A.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOA_B.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOA_C.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOA_D.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOA_E.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOB.CRE~   ~BG1CRE~
       ~BG1CRE/HOBGOBA.CRE~  ~BG1CRE~
       ~BG1CRE/HOBGOB_A.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOB_B.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOB_C.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOB_D.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGOB_E.CRE~ ~BG1CRE~
       ~BG1CRE/HOBGZHUR.CRE~ ~BG1CRE~
       ~BG1CRE/HOBJOIA.CRE~  ~BG1CRE~
       ~BG1CRE/IHOBGOB.CRE~  ~BG1CRE~
  SAY NAME1 #15973
  SAY NAME2 #15973
COPY + ~BG1CRE/HOBGOBC.CRE~ ~BG1CRE~
  SAY NAME2 #15973
COPY + ~BG1CRE/HOUSG3.CRE~ ~BG1CRE~
  WRITE_ASCII 0x260 ~BGGUARD3~ // general script
COPY + ~BG1CRE/IKE.cre~  ~BG1CRE~
       ~BG1CRE/IKE2.cre~ ~BG1CRE~
  SAY 0x1b8 @24002
COPY + ~BG1CRE/IKOBOLD.CRE~ ~BG1CRE~
  WRITE_BYTE 0x14 0 //make XP Value equal to zero
COPY + ~BG1CRE/ISKELET.CRE~ ~BG1CRE~
  WRITE_BYTE 0x408 0x08 //make ISHLD18 undroppable
COPY + ~BG1CRE/ISLA.CRE~ ~BG1CRE~
  SAY NAME1 #21299
  SAY NAME2 #21300
COPY + ~BG1CRE/JAMIE.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/JELLSPA.CRE~ ~BG1CRE~
  SAY NAME1 #2310
  SAY NAME2 #2311
COPY + ~BG1CRE/JORIN.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/KAHRK.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/KNIGHT2.CRE~ ~BG1CRE~
       ~BG1CRE/KNIGHT3.CRE~ ~BG1CRE~
       ~BG1CRE/KNIGHT4.CRE~ ~BG1CRE~
       ~BG1CRE/KNIGHT5.CRE~ ~BG1CRE~
       ~BG1CRE/KNIGHT6.CRE~ ~BG1CRE~
  SAY 0x110 @11393
  SAY 0x130 @11393
  SAY 0x1b8 @11393
  WRITE_ASCII 0x2cc ~BGKNIGHT~ // dialogue
COPY + ~BG1CRE/MORDAI.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name" (6)
    PATCH_IF (("%name%" STRING_COMPARE_CASE "WAND12")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGWAND12"
    END
  END
COPY + ~BG1CRE/MTBE2.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE3.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE4.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE5.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE6.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE7.CRE~    ~BG1CRE~
       ~BG1CRE/MTBE8.CRE~    ~BG1CRE~
       ~BG1CRE/MTOB2.CRE~    ~BG1CRE~
       ~BG1CRE/MTOB3.CRE~    ~BG1CRE~
       ~BG1CRE/MTOB6.CRE~    ~BG1CRE~
       ~BG1CRE/MTOB7.CRE~    ~BG1CRE~
       ~BG1CRE/MTOWBAST.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWBAX.CRE~  ~BG1CRE~
       ~BG1CRE/MTOWNASC.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWNAST.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWNA_A.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWUB_C.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWWI_B.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWWI_C.CRE~ ~BG1CRE~
       ~BG1CRE/MTOWWI_D.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9428
COPY + ~BG1CRE/MTOWUBSC.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9428
  SAY 0x1b8 @24004
COPY + ~BG1CRE/MTOWWI_A.CRE~ ~BG1CRE~
  SAY 0x1b8 @24003
COPY + ~BG1CRE/MUTAMI.CRE~ ~BG1CRE~
  SAY 0xec @5350
  SAY 0xf0 @5351
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/NAAMAN.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name" (6)
    PATCH_IF (("%name%" STRING_COMPARE_CASE "SCRL1V")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSCRL1V"
    END
  END
COPY + ~BG1CRE/NADER.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/NANTRI.CRE~ ~BG1CRE~
  SAY 0xec @12570
  SAY 0xf0 @12571
COPY + ~BG1CRE/NARRAT.CRE~  ~BG1CRE~
 WRITE_LONG 0x8 0xffffffff
 WRITE_LONG 0xc 0xffffffff
COPY + ~BG1CRE/NESTOR.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/NIEMAI.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/OGREMIRI.CRE~ ~BG1CRE~
  WRITE_ASCII 0x40c ~BGSCRL3I~ // Item renamed
COPY + ~BG1CRE/PARGUS.CRE~ ~BG1CRE~
 WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/PROSBA_B.CRE~ ~BG1CRE~
       ~BG1CRE/PROSBA_C.CRE~ ~BG1CRE~
       ~BG1CRE/PROSLAY.CRE~  ~BG1CRE~
       ~BG1CRE/PROST2.CRE~   ~BG1CRE~
       ~BG1CRE/PROST3.CRE~   ~BG1CRE~
       ~BG1CRE/PROST4.CRE~   ~BG1CRE~
       ~BG1CRE/PROST5.CRE~   ~BG1CRE~
       ~BG1CRE/PROST6.CRE~   ~BG1CRE~
       ~BG1CRE/PROST7.CRE~   ~BG1CRE~
       ~BG1CRE/PROST8.CRE~   ~BG1CRE~
       ~BG1CRE/PRSBAX_A.CRE~ ~BG1CRE~
       ~BG1CRE/PRSBAX_B.CRE~ ~BG1CRE~
       ~BG1CRE/PRSBAX_C.CRE~ ~BG1CRE~
  SAY NAME1 #19710
  SAY NAME2 #19710
COPY + ~BG1CRE/SAREVO.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 ~BGSARVOK~ // Override script
COPY + ~BG1CRE/SAREVO2.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 ~BGSARVOK~ // Override script
COPY + ~BG1CRE/SEWERF5.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/SPIDPHAS.CRE~ ~BG1CRE~
  SAY NAME1 @23958
  SAY NAME2 @23958
COPY + ~BG1CRE/STEPHA.CRE~ ~BG1CRE~
  SAY 0xa4 @11618
  SAY 0xa8 @11618
COPY + ~BG1CRE/SUNIN.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name"
    PATCH_IF (("%name%" STRING_COMPARE_CASE "RING08")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGRING08" #8
    END
  END
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/TAMAH.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/TANAR.CRE~ ~BG1CRE~
  WRITE_ASCII 0x248 "BGTANARI" #8 // Override script
COPY + ~BG1CRE/VENKT.CRE~ ~BG1CRE~
 WRITE_ASCII 0x34 "" #8 //small portrait
 WRITE_ASCII 0x3c "" #8 //large portrait
COPY + ~BG1CRE/WILF.CRE~ ~BG1CRE~
 WRITE_ASCII 0x248 "" #8 // Override script
COPY + ~BG1CRE/WINSKI.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name"
    PATCH_IF (("%name%" STRING_COMPARE_CASE "RING08")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGRING08" #8
    END
  END
COPY + ~BG1CRE/WIVEN.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8
COPY + ~BG1CRE/WOLFWE.CRE~   ~BG1CRE~
       ~BG1CRE/WOLFWEGL.CRE~ ~BG1CRE~
  SAY NAME2 #22778
COPY + ~BG1CRE/ZORDRA.CRE~ ~BG1CRE~
  WRITE_ASCII 0x34 "" #8
  WRITE_ASCII 0x3c "" #8

//HELM15->BGHELM15 change
COPY + ~BG1CRE/DAITEL.CRE~ ~BG1CRE~
       ~BG1CRE/DEATHK.CRE~ ~BG1CRE~
       ~BG1CRE/DRIZZT.CRE~ ~BG1CRE~
       ~BG1CRE/GOODDEAT.CRE~ ~BG1CRE~
       ~BG1CRE/SAREVO.CRE~ ~BG1CRE~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "HELM15")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGHELM15" #8
   END
 END
BUT_ONLY_IF_IT_CHANGES


///////////////////////////////////////////////////////////////////////////
// Creature Installation: Modification of renamed BG1 files existant in BG2
///////////////////////////////////////////////////////////////////////////

//Other renamed creatures
COPY + ~BG1CRE/BGCALAHA.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGCALAHA~ // dialogue file
COPY + ~BG1CRE/BGCARBOS.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGCARBOS~ // dialogue file
COPY + ~BG1CRE/BGFTOWN2.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGFTOWN2~ // dialogue file
COPY + ~BG1CRE/BGFTOWN3.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGFTOWN3~ // dialogue file
COPY + ~BG1CRE/BGFTOWN4.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGFTOWN4~ // dialogue file
COPY + ~BG1CRE/BGGORF.CRE~ ~BG1CRE~
COPY + ~BG1CRE/BGIGIBB.CRE~ ~BG1CRE~ // from IGIBBER
COPY + ~BG1CRE/BGKING.CRE~ ~BG1CRE~
  READ_LONG 0x2bc "it_off"
  READ_LONG 0x2c0 "it_cnt"
  FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
    READ_ASCII ("%it_off%"+0x14*cnt) "name"
    PATCH_IF (("%name%" STRING_COMPARE_CASE "SW2H07")=0) BEGIN
      WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSW2H07" #8
    END
  END
COPY + ~BG1CRE/BGKNIGH1.CRE~ ~BG1CRE~
  SAY 0x110 @11393
  SAY 0x130 @11393
  SAY 0x1bc @11393
  WRITE_ASCII 0x2cc ~BGKNIGHT~ // dialogue file
COPY + ~BG1CRE/BGMTOWN2.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9429
  WRITE_ASCII 0x2cc ~BGMTOWN2~ // dialogue file
COPY + ~BG1CRE/BGMTOWN3.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9429
  WRITE_ASCII 0x2cc ~BGMTOWN3~ // dialogue file
COPY + ~BG1CRE/BGMTOWN4.CRE~ ~BG1CRE~
  SAY NAME1 #9428
  SAY NAME2 #9429
  WRITE_ASCII 0x2cc ~BGMTOWN4~ // dialogue file
COPY + ~BG1CRE/BGMTOWN5.CRE~ ~BG1CRE~       
  SAY NAME1 #9428
  SAY NAME2 #9429
  WRITE_ASCII 0x2cc ~BGMTOWN5~ // dialogue file
COPY + ~BG1CRE/BGNEB.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGNEB~ // dialogue file
COPY + ~BG1CRE/BGROGER.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGROGER~ // dialogue file
COPY + ~BG1CRE/BGSENDAI.CRE~ ~BG1CRE~
  WRITE_ASCII 0x250 ~BGSENDAI~ // dialogue file
  WRITE_ASCII 0x2cc ~BGSENDAI~ // dialogue file
COPY + ~BG1CRE/BGSHANK.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHANK~ // dialogue file
COPY + ~BG1CRE/BGSHOP01.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP01~ // dialogue file
COPY + ~BG1CRE/BGSHOP03.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP03~ // dialogue file
COPY + ~BG1CRE/BGSHOP04.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP04~ // dialogue file
COPY + ~BG1CRE/BGSHOP06.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP06~ // dialogue file
COPY + ~BG1CRE/BGSHOP07.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP07~ // dialogue file
COPY + ~BG1CRE/BGSHOP08.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGSHOP07~ // dialogue file
COPY + ~BG1CRE/BGSKELWA.CRE~ ~BG1CRE~
 WRITE_ASCII 0x40c ~HELM09~ // Item
COPY + ~BG1CRE/BGSKEL02.CRE~ ~BG1CRE~
 WRITE_ASCII 0x40c ~HELM09~ // Item
COPY + ~BG1CRE/BGSKEL03.CRE~ ~BG1CRE~
 WRITE_ASCII 0x448 ~HELM09~ // Item
COPY + ~BG1CRE/BGTARNOR.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGTARNOR~ // dialogue file
COPY + ~BG1CRE/BGTAZOK.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGTAZOK~ // dialogue file
COPY + ~BG1CRE/BGTOWNCR.CRE~ ~BG1CRE~
COPY + ~BG1CRE/BGWILLIA.CRE~ ~BG1CRE~
  WRITE_ASCII 0x2cc ~BGWILLIA~ // dialogue file
COPY + ~BG1CRE/WILLIAM1.CRE~ ~BG1CRE~ // from WILLIAM

///////////////////////////////////////////////////////////////////////////
//  Creature Installation: Modification of existing BG2 files to BG1 format
///////////////////////////////////////////////////////////////////////////

COPY_EXISTING ~BEARBL.CRE~   ~BG1CRE~
              ~BEARBLSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5618
  SAY 0xcc #5619
  SAY 0xdc #5620
  SAY 0xe0 #5621
  SAY 0xec #5623
  SAY 0xf0 #5624
  SAY 0x10c #5617
  WRITE_ASCII 0x258 ~BEAR~ // Race script
  WRITE_ASCII 0x268 ~WDASIGHT~ // Default script
COPY_EXISTING ~BEARBR.CRE~ ~BG1CRE~
  SAY 0xc8 #5627
  SAY 0xcc #5628
  SAY 0xdc #5629
  SAY 0xe0 #5630
  SAY 0xec #5632
  SAY 0xf0 #5633
  SAY 0x10c #5625
  SAY 0x110 #5626
COPY_EXISTING ~BEARBRSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5627
  SAY 0xcc #5628
  SAY 0xdc #5629
  SAY 0xe0 #5630
  SAY 0xec #5632
  SAY 0xf0 #5633
  SAY 0x10c #5625
  SAY 0x110 #5626
  WRITE_ASCII 0x258 ~BEAR~ // Race script
  WRITE_BYTE 0x270 ~0x80~ // Enemy-Ally flag
COPY_EXISTING ~BEARCASU.CRE~ ~BG1CRE~
  SAY 0xc8 #5636
  SAY 0xcc #5637
  SAY 0xdc #5638
  SAY 0xe0 #5639
  SAY 0xec #5641
  SAY 0xf0 #5642
  SAY 0x10c #5634
  SAY 0x110 #5635
  WRITE_ASCII 0x258 ~CBEAR~ // Race script
  WRITE_ASCII 0x268 ~WDASIGHT~ // Default script
COPY_EXISTING ~BIRD.CRE~ ~BG1CRE~
  SAY 0x1b8 #20292
  SAY 0x1bc #20294
  SAY 0x1c0 #20295
  SAY 0x1c4 #20312
  SAY 0x1c8 #20313
COPY_EXISTING ~BJORNI.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #11077
  SAY 0xc8 #4976
  SAY 0xec #12602
  SAY 0xf0 #12603
  SAY 0x10c #11077
  SAY 0x110 #4977
COPY_EXISTING ~BOYBA1.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #4856
  SAY 0xec #12546
  SAY 0xf0 #12547
  SAY 0x10c #4856
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
  WRITE_LONG 0x118 0xffffffff
  SAY 0x198 #13223
  SAY 0x1b8 #11856
COPY_EXISTING ~CAT.CRE~ ~BG1CRE~
  SAY 0xec #20289
  SAY 0xf0 #20290
  SAY 0x10c #20316
  SAY 0x110 #20317
  SAY 0x1b8 #20289
  SAY 0x1bc #20290
  SAY 0x1c0 #20289
  SAY 0x1c4 #20289
  SAY 0x1c8 #20290
  WRITE_BYTE 0x272 ~0xff~ // Race flag
COPY_EXISTING ~CATDEAD.CRE~ ~BG1CRE~
  SAY 0xec #20289
  SAY 0xf0 #20290
  SAY 0x10c #20316
  SAY 0x110 #20317
  SAY 0x1b8 #20289
  SAY 0x1bc #20290
  SAY 0x1c0 #20289
  SAY 0x1c4 #20289
  SAY 0x1c8 #20290
COPY_EXISTING ~CATP.CRE~ ~BG1CRE~
  SAY 0xec #20289
  SAY 0xf0 #20290
  SAY 0x10c #20316
  SAY 0x110 #20317
  SAY 0x1b8 #20289
  SAY 0x1bc #20290
  SAY 0x1c0 #20289
  SAY 0x1c4 #20289
  SAY 0x1c8 #20290
COPY_EXISTING ~COWH.CRE~ ~BG1CRE~
  SAY 0xec #19851
  SAY 0xf0 #11761
  SAY 0x10c #20318
  SAY 0x110 #20319
  SAY 0x1b8 #19851
  SAY 0x1bc #20281
  SAY 0x1c0 #19851
  SAY 0x1c4 #20281
  SAY 0x1c8 #20281
  SAY 0x1cc #11791
COPY_EXISTING ~DAVAEO.CRE~ ~BG1CRE~
  SAY 0xa4 #4473
  WRITE_ASCII 0x570 ~BGMISC83~ // Renamed item
COPY_EXISTING ~DOGWASU.CRE~ ~BG1CRE~
  SAY 0xc8 #5530
  SAY 0xcc #5531
  SAY 0xdc #5532
  SAY 0xe0 #5533
  SAY 0xec #5535
  SAY 0xf0 #5536
  SAY 0x10c #5528
  SAY 0x110 #5529
  WRITE_ASCII 0x248 ~WARDOG~ // Override script
COPY_EXISTING ~DOGWISU.CRE~ ~BG1CRE~
  SAY 0xc8 #5521
  SAY 0xcc #5522
  SAY 0xdc #5523
  SAY 0xe0 #5524
  SAY 0xec #5526
  SAY 0xf0 #5527
  SAY 0x10c #5519
  SAY 0x110 #5520
  WRITE_ASCII 0x248 ~WILDDOG~ // Override script
COPY_EXISTING ~DREPPI.CRE~ ~BG1CRE~
  SAY 0xa4 #11078
  SAY 0xb8 #11078
  SAY 0xc8 #11078
  SAY 0xec #12544
  SAY 0xf0 #12545
  SAY 0x10c #11078
  SAY 0x110 #11078
  SAY 0x114 #11078
  SAY 0x118 #11078
  SAY 0x198 #13209
COPY_EXISTING ~DREPPI2.CRE~ ~BG1CRE~
  SAY 0xa4 #11078
  SAY 0xb8 #11078
  SAY 0xc8 #11078
  SAY 0xec #12544
  SAY 0xf0 #12545
  SAY 0x10c #11078
  SAY 0x110 #11078
  SAY 0x114 #11078
  SAY 0x118 #11078
COPY_EXISTING ~DREPPI3.CRE~ ~BG1CRE~
  SAY 0xa4 #11078
  SAY 0xb8 #11078
  SAY 0xc8 #11078
  SAY 0xec #12544
  SAY 0xf0 #12545
  SAY 0x10c #11078
  SAY 0x110 #11078
  SAY 0x114 #11078
  SAY 0x118 #11078
COPY_EXISTING ~FIREB1.CRE~ ~BG1CRE~
  SAY 0xa4 #11758
  SAY 0xec #11759
  SAY 0xf0 #11760
  SAY 0x10c #11758
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
COPY_EXISTING ~FIREBE.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #11758
  SAY 0xec #11759
  SAY 0xf0 #11760
  SAY 0x10c #11758
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
COPY_EXISTING ~GHOULSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5646
  SAY 0xcc #5652
  SAY 0xdc #5653
  SAY 0xe0 #5655
  SAY 0xec #5657
  SAY 0xf0 #5658
  SAY 0x10c #5654
  SAY 0x110 #5142
COPY_EXISTING ~GIBBERSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5503
  SAY 0xcc #5504
  SAY 0xdc #5505
  SAY 0xe0 #5506
  SAY 0xec #5508
  SAY 0xf0 #5509
  SAY 0x10c #5501
  SAY 0x110 #5502
COPY_EXISTING ~GNOLLSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5512
  SAY 0xcc #5513
  SAY 0xec #5517
  SAY 0xf0 #5518
  SAY 0x10c #5510
  SAY 0x110 #5511
  WRITE_ASCII 0x258 ~GNOLLF~ // Race script
COPY_EXISTING ~GORION.CRE~ ~BG1CRE~
  SAY 0x170 #1185
  SAY 0x174 #1185
  SAY 0x198 #4445
  SAY 0x19c #4446
  SAY 0x1a0 #4447
  SAY 0x1a4 #4448
  SAY 0x1a8 #1185
  SAY 0x1ac #1185
COPY_EXISTING ~GORION3.CRE~ ~BG1CRE~
  SAY 0xb8 #11388
  SAY 0xc8 #5170
  SAY 0xec #5890
  SAY 0xf0 #5891
  SAY 0x10c #4342
  SAY 0x110 #4342
  SAY 0x114 #4342
  SAY 0x118 #4342
  SAY 0x120 #4342
COPY_EXISTING ~HOBGOBSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5137
  SAY 0xcc #5138
  SAY 0xec #5499
  SAY 0xf0 #5500
  SAY 0x10c #5135
  SAY 0x110 #5136
  SAY 0x1b8 #10483
  WRITE_ASCII 0x258 ~HOBGOBA~ // Race script
COPY_EXISTING ~JELLGR.CRE~ ~BG1CRE~
  SAY 0xc8 #5975
  SAY 0xcc #5976
  SAY 0xdc #5977
  SAY 0xe0 #5978
  SAY 0xec #5980
  SAY 0xf0 #5981
  SAY 0x10c #5973
  SAY 0x110 #5974
  SAY 0x1b8 #10481
COPY_EXISTING ~JELLMU.CRE~ ~BG1CRE~
  SAY 0xc8 #5956
  SAY 0xcc #5957
  SAY 0xdc #5958
  SAY 0xe0 #5959
  SAY 0xec #5962
  SAY 0xf0 #5964
  SAY 0x10c #5954
  SAY 0x110 #5955
COPY_EXISTING ~JELLOC.CRE~ ~BG1CRE~
  SAY 0xc8 #5956
  SAY 0xcc #5957
  SAY 0xdc #5958
  SAY 0xe0 #5959
  SAY 0xec #5962
  SAY 0xf0 #5964
  SAY 0x10c #5954
  SAY 0x110 #5955
COPY_EXISTING ~JELLYGR.CRE~ ~BG1CRE~
  SAY 0xc8 #5984
  SAY 0xcc #5985
  SAY 0xdc #5986
  SAY 0xe0 #5988
  SAY 0xec #5989
  SAY 0xf0 #5990
  SAY 0x10c #5982
  SAY 0x110 #5983
COPY_EXISTING ~JONDAL.CRE~ ~BG1CRE~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "STAF04")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGSTAF04" #8
   END
 END
COPY_EXISTING ~JONDALW.CRE~ ~BG1CRE~
  SAY 0xa4 #5554
  SAY 0xc8 #5555
  SAY 0xec #5558
  SAY 0xf0 #5559
  SAY 0x10c #5554
COPY_EXISTING ~KOBOLDSU.CRE~ ~BG1CRE~
  SAY 0xc8 #4995
  SAY 0xcc #4996
  SAY 0xec #5480
  SAY 0xf0 #5481
  SAY 0x10c #4993
  SAY 0x130 #4994
COPY_EXISTING ~OGREGRSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5163
  SAY 0xcc #5164
  SAY 0xdc #5867
  SAY 0xe0 #5868
  SAY 0xec #5870
  SAY 0xf0 #5871
  SAY 0x10c #5161
  SAY 0x130 #5162
  WRITE_BYTE 0x270 ~0xFF~ // Enemy-Ally flag
COPY_EXISTING ~PLYOGRE.CRE~ ~BG1CRE~
  SAY 0xc8 #5148
  SAY 0xcc #5149
  SAY 0xec #5855
  SAY 0xf0 #5856
  SAY 0x10c #5147
  SAY 0x110 #5851
  SAY 0x1b8 #10484
COPY_EXISTING ~PLYSPID.CRE~ ~BG1CRE~
  SAY 0xc8 #5921
  SAY 0xcc #5922
  SAY 0xdc #5923
  SAY 0xe0 #5924
  SAY 0xec #5926
  SAY 0xf0 #5927
  SAY 0x10c #5919
  SAY 0x110 #5920
  SAY 0x1b8 #10489
COPY_EXISTING ~PLYWOLF.CRE~ ~BG1CRE~
  SAY 0xc8 #5601
  SAY 0xcc #5602
  SAY 0xdc #5576
  SAY 0xe0 #5604
  SAY 0xec #5606
  SAY 0xf0 #5607
  SAY 0x10c #5599
  SAY 0x110 #5600
COPY_EXISTING ~POGHM10.CRE~ ~BG1CRE~
  SAY 0xa4 #4982
  SAY 0x110 #4982
COPY_EXISTING ~POGHM9.CRE~  ~BG1CRE~
              ~POGHMA4.CRE~ ~BG1CRE~
              ~POGHMA5.CRE~ ~BG1CRE~
              ~POGHMA7.CRE~ ~BG1CRE~
  SAY 0xa4 #4982
  SAY 0x110 #4982
COPY_EXISTING ~RAT2.CRE~ ~BG1CRE~
  WRITE_BYTE 0x53 0  //number of attacks
  SAY 0xc8 #20285
  SAY 0xcc #20286
  SAY 0xd0 #20320
  SAY 0x10c #20321
  SAY 0x110 #20322
  SAY 0x1b8 #20285
  SAY 0x1bc #20286
  SAY 0x1c0 #20320
  SAY 0x1c4 #20285
  SAY 0x1c8 #20286
COPY_EXISTING ~REEVOR.CRE~ ~BG1CRE~
  SAY 0xa4 #4934
  SAY 0xc8 #4940
  SAY 0x10c #4934
  SAY 0x110 #4934
  SAY 0x114 #4934
COPY_EXISTING ~REEVOR2.CRE~ ~BG1CRE~
  SAY 0xa4 #4934
  SAY 0xc8 #4940
  SAY 0x10c #4934
  SAY 0x110 #4934
  SAY 0x114 #4934
COPY_EXISTING ~REEVOR3.CRE~ ~BG1CRE~
  SAY 0xa4 #4934
  SAY 0xc8 #5169
  SAY 0xec #5884
  SAY 0xf0 #5885
  SAY 0x10c #4934
  SAY 0x110 #4934
  SAY 0x114 #4934
COPY_EXISTING ~SCHLUM.CRE~ ~BG1CRE~
  SAY 0xc8 #5984
  SAY 0xcc #5985
  SAY 0xdc #5986
  SAY 0xe0 #5988
  SAY 0xec #5989
  SAY 0xf0 #5990
  SAY 0x10c #5982
  SAY 0x110 #5983
COPY_EXISTING ~SEAGUL.CRE~ ~BG1CRE~
  SAY 0x1b8 #20288
  SAY 0x1bc #20288
  SAY 0x1c0 #20288
  SAY 0x1c4 #20288
COPY_EXISTING ~SKELE2.CRE~ ~BG1CRE~
  SAY 0xc8 #5539
  SAY 0xcc #5540
  SAY 0xdc #5541
  SAY 0xe0 #5542
  SAY 0xe4 #5543
  SAY 0xec #5544
  SAY 0xf0 #5545
  SAY 0x10c #5537
  SAY 0x110 #5538
COPY_EXISTING ~SQUIRR.CRE~ ~BG1CRE~
  SAY 0x1b8 #20285
  SAY 0x1bc #20286
  SAY 0x1c0 #20320
COPY_EXISTING ~STALKE.CRE~ ~BG1CRE~
  SAY 0xc8 #11391
  SAY 0xcc #11392
  SAY 0xd0 #11416
  SAY 0xd4 #11417
  SAY 0xec #5587
  SAY 0xf0 #5601
  SAY 0x10c #11391
  SAY 0x110 #11392
  SAY 0x114 #11416
  SAY 0x118 #11417
  SAY 0x1b8 #11391
  SAY 0x1bc #11392
  SAY 0x1c0 #11416
  SAY 0x1c4 #11417
COPY_EXISTING ~TASLOISU.CRE~ ~BG1CRE~
  SAY 0xc8 #5484
  SAY 0xcc #5485
  SAY 0xdc #5486
  SAY 0xe0 #5487
  SAY 0xec #5489
  SAY 0xf0 #5490
  SAY 0x10c #5482
  SAY 0x110 #5483
COPY_EXISTING ~VOLTIN.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #11107
  SAY 0xc8 #11131
  SAY 0xec #12357
  SAY 0xf0 #12351
  SAY 0x10c #11107
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
  WRITE_LONG 0x118 0xffffffff
COPY_EXISTING ~WATCH2.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #4963
  WRITE_LONG 0xb8 0xffffffff
  WRITE_LONG 0xc8 0xffffffff
  SAY 0xec #12596
  SAY 0xf0 #12597
  SAY 0x10c #4963
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
  WRITE_LONG 0x118 0xffffffff
  SAY 0x198 #13678
  SAY 0x1b8 #11186
COPY_EXISTING ~WATCH3.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #4966
  WRITE_LONG 0xb8 0xffffffff
  WRITE_LONG 0xc8 0xffffffff
  SAY 0xec #12596
  SAY 0xf0 #12597
  SAY 0x10c #4966
  WRITE_LONG 0x110 0xffffffff
  WRITE_LONG 0x114 0xffffffff
  WRITE_LONG 0x118 0xffffffff
  SAY 0x198 #13678
COPY_EXISTING ~WATCH6.CRE~ ~BG1CRE~ // different colours
              ~WATCH9.CRE~ ~BG1CRE~ // different colours
  SAY 0xa4 #4964
  WRITE_LONG 0xb8 0xffffffff
  WRITE_LONG 0xc8 0xffffffff
  SAY 0xec #12596
  SAY 0xf0 #12597
  SAY 0x10c #4963
  SAY 0x110 #4964
  WRITE_LONG 0x114 0xffffffff
  WRITE_LONG 0x118 0xffffffff
COPY_EXISTING ~WINTHR2.CRE~ ~BG1CRE~
  SAY 0xa4 #4951
  SAY 0x10c #4951
  SAY 0x110 #4951
  SAY 0x114 #4951
  SAY 0x118 #4951
  SAY 0x19c #13445
COPY_EXISTING ~WINTHR3.CRE~ ~BG1CRE~
  SAY 0xa4 #4951
  SAY 0xc8 #5165
  SAY 0xcc #5169
  SAY 0xec #5884
  SAY 0xf0 #5885
  SAY 0x10c #4951
  SAY 0x110 #4951
  SAY 0x114 #4951
  SAY 0x118 #4951
  SAY 0x138 #4952
  SAY 0x19c #13445
COPY_EXISTING ~WOLFCHAR.CRE~ ~BG1CRE~
  SAY 0xc8 #5601
  SAY 0xcc #5602
  SAY 0xdc #5576
  SAY 0xe0 #5604
  SAY 0xec #5606
  SAY 0xf0 #5607
  SAY 0x10c #5599
  SAY 0x110 #5600
COPY_EXISTING ~WOLFDI.CRE~   ~BG1CRE~
              ~WOLFDISU.CRE~ ~BG1CRE~
  SAY 0xc8 #5574
  SAY 0xcc #5575
  SAY 0xdc #5576
  SAY 0xe0 #5577
  SAY 0xec #5579
  SAY 0xf0 #5580
  SAY 0x10c #5572
  SAY 0x110 #5573
COPY_EXISTING ~WOLFSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5556
  SAY 0xcc #5557
  SAY 0xdc #5558
  SAY 0xe0 #5559
  SAY 0xec #5561
  SAY 0xf0 #5562
  SAY 0x10c #5554
  SAY 0x110 #5555
COPY_EXISTING ~WORGSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5565
  SAY 0xcc #5566
  SAY 0xdc #5567
  SAY 0xe0 #5568
  SAY 0xec #5570
  SAY 0xf0 #5571
  SAY 0x10c #5563
  SAY 0x110 #5564
COPY_EXISTING ~XVARTSU.CRE~ ~BG1CRE~
  SAY 0xc8 #5133
  SAY 0xcc #5134
  SAY 0xdc #5491
  SAY 0xe0 #5492
  SAY 0xec #5494
  SAY 0xf0 #5495
  SAY 0x10c #5002
  SAY 0x110 #5004

/////////////////////////////////////
// Modification of BG2 only creatures
/////////////////////////////////////

COPY_EXISTING ~BYSTAND2.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~IMOEN6.CRE~   ~override~
              ~IMOEN10.CRE~  ~override~
              ~IMOENDRM.CRE~ ~override~
  WRITE_ASCII 0x280 ~Imoen2~ //death variable
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~GARRICK.CRE~ ~override~
  WRITE_ASCII 0x250 ~BG2MAGE2~ //class script

////////////////////////////
// Patching of package files
////////////////////////////

COPY_EXISTING ~BGT/Modify/CRE/AJANTI.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/AJANTI4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/AJANTI6.CRE~ ~BG1CRE~
  SAY 0xA4 @3502
  SAY 0xA8 @3503
  SAY 0xAC @3505
  SAY 0xB0 @3506
  SAY 0xB4 @3507
  SAY 0xB8 @3508
  SAY 0xBC @3509
  SAY 0xC0 @3510
  SAY 0xC4 @3511
  SAY 0xC8 @3504
  SAY 0xEC @5262
  SAY 0xF0 @5263
  SAY 0xF4 @3512
  SAY 0xF8 @3513
  SAY 0xFC @3514
  SAY 0x100 @3515
  SAY 0x104 @5258
  SAY 0x108 @5260
  SAY 0x10C @3516
  SAY 0x110 @3517
  SAY 0x114 @3518
  SAY 0x124 @3519
  SAY 0x128 @3521
  SAY 0x12C @3522
  SAY 0x130 @3523
  SAY 0x134 @3525
  SAY 0x138 @3526
  SAY 0x13C @3527
  SAY 0x140 @3528
  SAY 0x144 @3529
  SAY 0x148 @3530
  SAY 0x14C @3531
  SAY 0x150 @3532
  SAY 0x154 @3538
  SAY 0x160 @3537
  SAY 0x16C @3536
  SAY 0x178 @3539
  SAY 0x17C @3540
  SAY 0x180 @3535
  SAY 0x18C @3533
  SAY 0x190 @3534
  SAY 0x198 @5243
  SAY 0x19C @1185
  SAY 0x1CC @10197

COPY_EXISTING ~BGT/Modify/CRE/ALORA.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/ALORA6.CRE~ ~BG1CRE~
  SAY 0xA4 @3376
  SAY 0xA8 @3378
  SAY 0xAC @3380
  SAY 0xB0 @3381
  SAY 0xB4 @3382
  SAY 0xB8 @3383
  SAY 0xBC @3384
  SAY 0xC0 @3385
  SAY 0xC4 @3386
  SAY 0xC8 @3379
  SAY 0xEC @5337
  SAY 0xF0 @5338
  SAY 0xF4 @3387
  SAY 0xF8 @3388
  SAY 0xFC @3389
  SAY 0x100 @3390
  SAY 0x104 @3391
  SAY 0x108 @3392
  SAY 0x10C @3393
  SAY 0x110 @3394
  SAY 0x114 @3395
  SAY 0x124 @3396
  SAY 0x128 @3397
  SAY 0x12C @3398
  SAY 0x130 @3399
  SAY 0x134 @3400
  SAY 0x138 @3401
  SAY 0x13C @3402
  SAY 0x140 @3403
  SAY 0x144 @3404
  SAY 0x148 @3405
  SAY 0x14C @3406
  SAY 0x150 @3407
  SAY 0x154 @3411
  SAY 0x158 @3412
  SAY 0x15C @3413
  SAY 0x178 @3416
  SAY 0x17C @3417
  SAY 0x180 @3409
  SAY 0x18C @3408
  SAY 0x190 @3410
  SAY 0x1CC @10183

COPY_EXISTING ~BGT/Modify/CRE/BRANWE.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/BRANWE5.CRE~ ~BG1CRE~
  SAY 0xA4 @3856
  SAY 0xA8 @3857
  SAY 0xAC @3859
  SAY 0xB0 @3860
  SAY 0xB4 @3861
  SAY 0xB8 @3862
  SAY 0xBC @3863
  SAY 0xC0 @3864
  SAY 0xC4 @3865
  SAY 0xC8 @3858
  SAY 0xEC @5327
  SAY 0xF0 @5328
  SAY 0xF4 @3866
  SAY 0x10C @3867
  SAY 0x110 @3868
  SAY 0x114 @3869
  SAY 0x124 @3870
  SAY 0x128 @3871
  SAY 0x12C @3872
  SAY 0x130 @3873
  SAY 0x134 @3874
  SAY 0x138 @3875
  SAY 0x13C @3876
  SAY 0x140 @3877
  SAY 0x144 @3878
  SAY 0x148 @3879
  SAY 0x14C @3880
  SAY 0x150 @3881
  SAY 0x154 @3887
  SAY 0x158 @3885
  SAY 0x160 @3886
  SAY 0x178 @3888
  SAY 0x17C @3889
  SAY 0x180 @3883
  SAY 0x18C @3882
  SAY 0x190 @3884
  SAY 0x19C @13230
  SAY 0x1CC @10203

COPY_EXISTING ~BGT/Modify/CRE/CORAN.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/CORAN5.CRE~ ~BG1CRE~
  SAY 0xA4 @3823
  SAY 0xA8 @3824
  SAY 0xAC @3825
  SAY 0xB0 @3826
  SAY 0xB4 @3827
  SAY 0xB8 @3828
  SAY 0xBC @3829
  SAY 0xC0 @3830
  SAY 0xC4 @3831
  SAY 0xC8 @5314
  SAY 0xEC @5320
  SAY 0xF0 @5321
  SAY 0xF4 @3832
  SAY 0xF8 @5315
  SAY 0xFC @5316
  SAY 0x100 @5317
  SAY 0x104 @5318
  SAY 0x108 @5319
  SAY 0x10C @3833
  SAY 0x110 @3834
  SAY 0x114 @3835
  SAY 0x124 @3836
  SAY 0x128 @3837
  SAY 0x12C @3838
  SAY 0x130 @3839
  SAY 0x134 @3840
  SAY 0x138 @3841
  SAY 0x13C @3842
  SAY 0x140 @3843
  SAY 0x144 @3844
  SAY 0x148 @3845
  SAY 0x14C @3846
  SAY 0x150 @3847
  SAY 0x160 @3851
  SAY 0x164 @3852
  SAY 0x168 @3853
  SAY 0x178 @3854
  SAY 0x17C @3855
  SAY 0x180 @3850
  SAY 0x18C @3848
  SAY 0x190 @3849
  SAY 0x198 @13244
  SAY 0x19C @13243
  SAY 0x1CC @10196

COPY_EXISTING ~BGT/Modify/CRE/DYNAHE.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/DYNAHE2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/DYNAHE4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/DYNAHE6.CRE~ ~BG1CRE~
  SAY 0xA4 @3960
  SAY 0xA8 @3929
  SAY 0xAC @3931
  SAY 0xB0 @3932
  SAY 0xB4 @3933
  SAY 0xB8 @3934
  SAY 0xBC @3935
  SAY 0xC0 @3936
  SAY 0xC4 @3937
  SAY 0xC8 @3930
  SAY 0xEC @5343
  SAY 0xF0 @5344
  SAY 0xF4 @3938
  SAY 0xF8 @5339
  SAY 0xFC @3939
  SAY 0x100 @5340
  SAY 0x104 @5341
  SAY 0x108 @5342
  SAY 0x10C @3940
  SAY 0x110 @3941
  SAY 0x114 @3942
  SAY 0x124 @3943
  SAY 0x128 @3944
  SAY 0x12C @3945
  SAY 0x130 @3946
  SAY 0x134 @3947
  SAY 0x138 @3948
  SAY 0x13C @3949
  SAY 0x140 @3950
  SAY 0x144 @3951
  SAY 0x148 @3952
  SAY 0x14C @3953
  SAY 0x150 @3954
  SAY 0x154 @3958
  SAY 0x160 @3960
  SAY 0x16C @3959
  SAY 0x178 @3961
  SAY 0x17C @3962
  SAY 0x180 @3956
  SAY 0x184 @3957
  SAY 0x18C @3955
  SAY 0x1CC @10192

COPY_EXISTING ~BGT/Modify/CRE/EDWIN.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/EDWIN2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/EDWIN4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/EDWIN6.CRE~ ~BG1CRE~
  SAY 0xA4 @3965
  SAY 0xA8 @3966
  SAY 0xAC @3968
  SAY 0xB0 @3969
  SAY 0xB4 @3970
  SAY 0xB8 @3971
  SAY 0xBC @3972
  SAY 0xC0 @3973
  SAY 0xC4 @3974
  SAY 0xC8 @3967
  SAY 0xEC @5350
  SAY 0xF0 @5351
  SAY 0xF4 @3975
  SAY 0xF8 @5345
  SAY 0xFC @5346
  SAY 0x100 @5347
  SAY 0x104 @5348
  SAY 0x108 @5349
  SAY 0x10C @3976
  SAY 0x110 @3977
  SAY 0x114 @3978
  SAY 0x124 @3979
  SAY 0x128 @3980
  SAY 0x12C @3981
  SAY 0x130 @3982
  SAY 0x134 @3984
  SAY 0x138 @3985
  SAY 0x13C @3986
  SAY 0x140 @3987
  SAY 0x144 @3988
  SAY 0x148 @3989
  SAY 0x14C @3990
  SAY 0x150 @3996
  SAY 0x154 @4001
  SAY 0x158 @4002
  SAY 0x15C @4003
  SAY 0x178 @4005
  SAY 0x17C @4006
  SAY 0x180 @3999
  SAY 0x18C @3998
  SAY 0x1CC @10216

COPY_EXISTING ~BGT/Modify/CRE/ELDOTH.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/ELDOTH5.CRE~ ~BG1CRE~
  SAY 0xA4 @3776
  SAY 0xA8 @3777
  SAY 0xAC @3779
  SAY 0xB0 @3780
  SAY 0xB4 @3781
  SAY 0xB8 @3782
  SAY 0xBC @3783
  SAY 0xC0 @3784
  SAY 0xC4 @3785
  SAY 0xC8 @3778
  SAY 0xEC @5312
  SAY 0xF0 @5313
  SAY 0xF4 @3786
  SAY 0xF8 @5307
  SAY 0xFC @5308
  SAY 0x100 @5309
  SAY 0x104 @5310
  SAY 0x108 @5311
  SAY 0x10C @3787
  SAY 0x110 @3788
  SAY 0x114 @3789
  SAY 0x124 @3790
  SAY 0x128 @3791
  SAY 0x12C @3792
  SAY 0x130 @3793
  SAY 0x134 @3794
  SAY 0x138 @3795
  SAY 0x13C @3796
  SAY 0x140 @3810
  SAY 0x144 @3811
  SAY 0x148 @3812
  SAY 0x14C @3813
  SAY 0x150 @3814
  SAY 0x154 @3819
  SAY 0x158 @3820
  SAY 0x160 @3818
  SAY 0x178 @3821
  SAY 0x17C @3822
  SAY 0x180 @3816
  SAY 0x18C @3815
  SAY 0x190 @3817
  SAY 0x198 @13272
  SAY 0x1CC @10208

COPY_EXISTING ~BGT/Modify/CRE/FALDOR.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/FALDOR5.CRE~ ~BG1CRE~
  SAY 0xA4 @3737
  SAY 0xA8 @3738
  SAY 0xAC @3739
  SAY 0xB0 @3741
  SAY 0xB4 @3742
  SAY 0xB8 @3743
  SAY 0xBC @3744
  SAY 0xC0 @3745
  SAY 0xC4 @3746
  SAY 0xC8 @5300
  SAY 0xEC @5304
  SAY 0xF0 @5306
  SAY 0xF4 @3747
  SAY 0xF8 @3748
  SAY 0xFC @3749
  SAY 0x100 @5301
  SAY 0x104 @5302
  SAY 0x108 @5303
  SAY 0x10C @3750
  SAY 0x110 @3751
  SAY 0x114 @3752
  SAY 0x124 @3753
  SAY 0x128 @3754
  SAY 0x12C @3755
  SAY 0x130 @3756
  SAY 0x134 @3757
  SAY 0x138 @3758
  SAY 0x13C @3759
  SAY 0x140 @3760
  SAY 0x144 @3761
  SAY 0x148 @3762
  SAY 0x14C @3763
  SAY 0x150 @3765
  SAY 0x154 @3773
  SAY 0x160 @3770
  SAY 0x164 @3771
  SAY 0x178 @3774
  SAY 0x17C @3775
  SAY 0x180 @3768
  SAY 0x18C @3766
  SAY 0x190 @3767
  SAY 0x19C @13277
  SAY 0x1CC @10202

COPY_EXISTING ~BGT/Modify/CRE/GARRIC.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/GARRIC2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/GARRIC4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/GARRIC6.CRE~ ~BG1CRE~
  SAY 0xA4 @3651
  SAY 0xA8 @3652
  SAY 0xAC @3655
  SAY 0xB0 @3656
  SAY 0xB4 @3657
  SAY 0xB8 @3659
  SAY 0xBC @3662
  SAY 0xC0 @3663
  SAY 0xC4 @3664
  SAY 0xC8 @3653
  SAY 0xEC @5289
  SAY 0xF0 @5290
  SAY 0xF4 @3665
  SAY 0xF8 @3667
  SAY 0xFC @3668
  SAY 0x100 @5286
  SAY 0x104 @5287
  SAY 0x108 @5288
  SAY 0x10C @3669
  SAY 0x110 @3670
  SAY 0x114 @3671
  SAY 0x124 @3672
  SAY 0x128 @3673
  SAY 0x12C @3674
  SAY 0x130 @3675
  SAY 0x134 @3676
  SAY 0x138 @3678
  SAY 0x13C @3679
  SAY 0x140 @3681
  SAY 0x144 @3682
  SAY 0x148 @3683
  SAY 0x14C @11034
  SAY 0x150 @3685
  SAY 0x154 @3692
  SAY 0x160 @3689
  SAY 0x16C @3690
  SAY 0x178 @3694
  SAY 0x17C @3695
  SAY 0x180 @3686
  SAY 0x18C @3687
  SAY 0x190 @3688
  SAY 0x1CC @10200

//Compatibility with NeJ: Custom Imoen Kit
ACTION_IF
  NOT FILE_EXISTS_IN_GAME ~CLABCHRG.2DA~
THEN BEGIN
  COPY_EXISTING ~BGT/Modify/CRE/IMOEN.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN1.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN2.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN4.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN61.CRE~ ~BG1CRE~
    SAY 0xA4 @4341
    SAY 0xA8 @11037
    SAY 0xB0 @4338
    SAY 0xBC @4337
    SAY 0xC0 @4339
    SAY 0xC4 @4333
    SAY 0xC8 @11035
    SAY 0xEC @5395
    SAY 0xF0 @5396
    SAY 0xF4 @4330
    SAY 0x100 @11036
    SAY 0x10C @4334
    SAY 0x110 @4332
    SAY 0x114 @4331
    SAY 0x118 @11041
    SAY 0x124 @11038
    SAY 0x128 @4335
    SAY 0x12C @11039
    SAY 0x130 @4336
    SAY 0x134 @11043
    SAY 0x138 @11042
    SAY 0x13C @11045
    SAY 0x178 @4340
    SAY 0x1a0 @500040
    SAY 0x1CC @10233
END
ELSE BEGIN
  COPY_EXISTING ~KITLIST.2DA~ ~override~
    COUNT_2DA_ROWS 9 kit_rows
    FOR ( i=0;i<%kit_rows%;i+=1 ) BEGIN
      READ_2DA_ENTRY %i% 1 9 kit_name
      PATCH_IF (("%kit_name%" STRING_COMPARE_CASE "CHARMING_ROGUE")= 0) BEGIN
        SET kit_bit = %i%
      END
    END
  BUT_ONLY_IF_IT_CHANGES

  COPY_EXISTING ~BGT/Modify/CRE/IMOEN.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN1.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN2.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN4.CRE~ ~BG1CRE~
                ~BGT/Modify/CRE/IMOEN61.CRE~ ~BG1CRE~
    SAY 0xA4 @4341
    SAY 0xA8 @11037
    SAY 0xB0 @4338
    SAY 0xBC @4337
    SAY 0xC0 @4339
    SAY 0xC4 @4333
    SAY 0xC8 @11035
    SAY 0xEC @5395
    SAY 0xF0 @5396
    SAY 0xF4 @4330
    SAY 0x100 @11036
    SAY 0x10C @4334
    SAY 0x110 @4332
    SAY 0x114 @4331
    SAY 0x118 @11041
    SAY 0x124 @11038
    SAY 0x128 @4335
    SAY 0x12C @11039
    SAY 0x130 @4336
    SAY 0x134 @11043
    SAY 0x138 @11042
    SAY 0x13C @11045
    SAY 0x178 @4340
    SAY 0x1a0 @500040
    SAY 0x1CC @10233
    WRITE_SHORT 0x244 0 //unused in KITLIST.2DA designation
    WRITE_BYTE 0x246 ~%kit_bit%~ //change to Charming Rogue Kit as per KITLIST.2DA row
    WRITE_BYTE 0x247 0x40 //force kit to use KITLIST.2DA
END

//Compatibility with NeJ: Custom Jaheira Kit
ACTION_IF
  NOT FILE_EXISTS_IN_GAME ~CLABSYPR.2DA~
THEN BEGIN
  COPY_EXISTING ~BGT/Compat/BGT/JAHEIR.CRE~ ~BG1CRE~
                ~BGT/Compat/BGT/JAHEIR2.CRE~ ~BG1CRE~
                ~BGT/Compat/BGT/JAHEIR4.CRE~ ~BG1CRE~
                ~BGT/Compat/BGT/JAHEIR6.CRE~ ~BG1CRE~
    SAY 0xA4 @4007
    SAY 0xA8 @4008
    SAY 0xAC @4010
    SAY 0xB0 @4011
    SAY 0xB4 @4012
    SAY 0xB8 @4013
    SAY 0xBC @4014
    SAY 0xC0 @4015
    SAY 0xC4 @4016
    SAY 0xC8 @4009
    SAY 0xEC @5353
    SAY 0xF0 @5354
    SAY 0xF4 @4017
    SAY 0xF8 @4018
    SAY 0xFC @4019
    SAY 0x100 @4020
    SAY 0x104 @5352
    SAY 0x108 @4021
    SAY 0x10C @4022
    SAY 0x110 @4023
    SAY 0x114 @4024
    SAY 0x124 @4025
    SAY 0x128 @4026
    SAY 0x12C @4027
    SAY 0x130 @4028
    SAY 0x134 @4029
    SAY 0x138 @4030
    SAY 0x13C @4031
    SAY 0x140 @4032
    SAY 0x144 @4033
    SAY 0x148 @4034
    SAY 0x14C @4035
    SAY 0x150 @4036
    SAY 0x154 @4040
    SAY 0x158 @4042
    SAY 0x160 @4041
    SAY 0x178 @4043
    SAY 0x17C @4044
    SAY 0x18C @4037
    SAY 0x190 @4038
    SAY 0x194 @4039
    SAY 0x1CC @10199
END
ELSE BEGIN
  COPY_EXISTING ~KITLIST.2DA~ ~override~
    COUNT_2DA_ROWS 9 kit_rows
    FOR ( i=0;i<%kit_rows%;i+=1 ) BEGIN
      READ_2DA_ENTRY %i% 1 9 kit_name
      PATCH_IF (("%kit_name%" STRING_COMPARE_CASE "PRIEST_OF_SYLVANUS")= 0) BEGIN
        SET kit_bit = %i%
      END
    END
  BUT_ONLY_IF_IT_CHANGES

  COPY_EXISTING ~BGT/Compat/NeJJahei/JAHEIR.CRE~ ~BG1CRE~
                ~BGT/Compat/NeJJahei/JAHEIR2.CRE~ ~BG1CRE~
                ~BGT/Compat/NeJJahei/JAHEIR4.CRE~ ~BG1CRE~
                ~BGT/Compat/NeJJahei/JAHEIR6.CRE~ ~BG1CRE~
    SAY 0xA4 @4007
    SAY 0xA8 @4008
    SAY 0xAC @4010
    SAY 0xB0 @4011
    SAY 0xB4 @4012
    SAY 0xB8 @4013
    SAY 0xBC @4014
    SAY 0xC0 @4015
    SAY 0xC4 @4016
    SAY 0xC8 @4009
    SAY 0xEC @5353
    SAY 0xF0 @5354
    SAY 0xF4 @4017
    SAY 0xF8 @4018
    SAY 0xFC @4019
    SAY 0x100 @4020
    SAY 0x104 @5352
    SAY 0x108 @4021
    SAY 0x10C @4022
    SAY 0x110 @4023
    SAY 0x114 @4024
    SAY 0x124 @4025
    SAY 0x128 @4026
    SAY 0x12C @4027
    SAY 0x130 @4028
    SAY 0x134 @4029
    SAY 0x138 @4030
    SAY 0x13C @4031
    SAY 0x140 @4032
    SAY 0x144 @4033
    SAY 0x148 @4034
    SAY 0x14C @4035
    SAY 0x150 @4036
    SAY 0x154 @4040
    SAY 0x158 @4042
    SAY 0x160 @4041
    SAY 0x178 @4043
    SAY 0x17C @4044
    SAY 0x18C @4037
    SAY 0x190 @4038
    SAY 0x194 @4039
    SAY 0x1CC @10199
    WRITE_SHORT 0x244 0 //unused in KITLIST.2DA designation
    WRITE_BYTE 0x246 ~%kit_bit%~ //change to Priest of Sylvanus Kit as per KITLIST.2DA row
    WRITE_BYTE 0x247 0x40 //force kit to use KITLIST.2DA
END

//Compatibility with BG2 Fixpack
//Deletes Zone of Sweet Air from known and memorized spells, adds cure disease to known spells
ACTION_IF FILE_EXISTS_IN_GAME ~cdbehbla.pro~ THEN BEGIN
  COPY + ~BG1CRE/JAHEIR6.CRE~ ~BG1CRE~
  PATCH_IF (SOURCE_SIZE > 0x2d3) THEN BEGIN // protects against invalid files
    READ_LONG 0x2a0 "known_off"
    READ_LONG 0x2a4 "known_num"
    READ_LONG 0x2a8 "meminfo_off"
    READ_LONG 0x2b0 "mem_off"
    READ_LONG 0x2b4 "mem_num"
    READ_LONG 0x2b8 "slot_off"
    READ_LONG 0x2bc "item_off"
    READ_LONG 0x2c4 "fx_off"
    FOR (index2 = 0 ; index2 < mem_num ; index2 = index2 + 1) BEGIN // spellbook adjustments
      READ_ASCII ("%mem_off%" + ("%index2%" * 0x0C)) "spell"
      PATCH_IF ("sppr318" STRING_COMPARE_CASE "%spell%" = 0) BEGIN // summon insects for ZoSA
        WRITE_ASCII ("%mem_off%" + ("%index2%" * 0x0C)) ~sppr319~ #8
      END
    END
    FOR (index = 0 ; index < known_num ; index = index + 1) BEGIN // spellbook adjustments
      READ_ASCII ("%known_off%" + ("%index%" * 0x0C)) "spell"
      PATCH_IF ("sppr318" STRING_COMPARE_CASE "%spell%" = 0) BEGIN
        DELETE_BYTES ("%known_off%" + ("%index%" * 0x0C)) 0x0C
        SET "known_num" = ("%known_num%" - 1)
        SET "index" = ("%index%" - 1)
        PATCH_IF ("%meminfo_off%" >= "%known_off%") BEGIN
          SET "meminfo_off" = ("%meminfo_off%" - 0x0C)
        END
        PATCH_IF ("%mem_off%" >= "%known_off%") BEGIN
          SET "mem_off" = ("%mem_off%" - 0x0C)
        END
        PATCH_IF ("%slot_off%" >= "%known_off%") BEGIN
          SET "slot_off" = ("%slot_off%" - 0x0C)
        END
        PATCH_IF ("%item_off%" >= "%known_off%") BEGIN
          SET "item_off" = ("%item_off%" - 0x0C)
        END
        PATCH_IF ("%fx_off%" >= "%known_off%") BEGIN
          SET "fx_off" = ("%fx_off%" - 0x0C)
        END
      END
    END
    WRITE_LONG 0x2a4 "%known_num%"
    WRITE_LONG 0x2a8 "%meminfo_off%"
    WRITE_LONG 0x2b0 "%mem_off%"
    WRITE_LONG 0x2b8 "%slot_off%"
    WRITE_LONG 0x2bc "%item_off%"
    WRITE_LONG 0x2c4 "%fx_off%"
    ADD_KNOWN_SPELL ~sppr317~ #2 ~priest~ //cure disease
  END
  BUT_ONLY_IF_IT_CHANGES
END

COPY_EXISTING ~BGT/Modify/CRE/KAGAIN.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KAGAIN2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KAGAIN4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KAGAIN6.CRE~ ~BG1CRE~
  SAY 0xA4 @3541
  SAY 0xA8 @3542
  SAY 0xAC @5264
  SAY 0xB0 @3544
  SAY 0xB4 @3545
  SAY 0xB8 @3546
  SAY 0xBC @3547
  SAY 0xC0 @3548
  SAY 0xC4 @3549
  SAY 0xC8 @3543
  SAY 0xEC @5268
  SAY 0xF0 @5269
  SAY 0xF4 @3550
  SAY 0xF8 @3551
  SAY 0xFC @5265
  SAY 0x100 @3552
  SAY 0x104 @5266
  SAY 0x108 @5267
  SAY 0x10C @3553
  SAY 0x110 @3554
  SAY 0x114 @3555
  SAY 0x124 @3556
  SAY 0x128 @3557
  SAY 0x12C @3558
  SAY 0x130 @3559
  SAY 0x134 @3560
  SAY 0x138 @3561
  SAY 0x13C @3562
  SAY 0x140 @3563
  SAY 0x144 @3564
  SAY 0x148 @3565
  SAY 0x14C @3566
  SAY 0x150 @3567
  SAY 0x154 @3571
  SAY 0x158 @3573
  SAY 0x16C @3572
  SAY 0x178 @3574
  SAY 0x17C @3575
  SAY 0x18C @3568
  SAY 0x190 @3569
  SAY 0x194 @3570
  SAY 0x1CC @10214

COPY_EXISTING ~BGT/Modify/CRE/KHALID.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KHALID2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KHALID4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KHALID6.CRE~ ~BG1CRE~
  SAY 0xA4 @4045
  SAY 0xA8 @4046
  SAY 0xAC @4048
  SAY 0xB0 @4049
  SAY 0xB4 @4050
  SAY 0xB8 @4051
  SAY 0xBC @4052
  SAY 0xC0 @4053
  SAY 0xC4 @4054
  SAY 0xC8 @4047
  SAY 0xEC @5355
  SAY 0xF0 @5356
  SAY 0xF4 @4055
  SAY 0xF8 @4056
  SAY 0xFC @4057
  SAY 0x100 @4058
  SAY 0x104 @4059
  SAY 0x108 @4060
  SAY 0x10C @4061
  SAY 0x110 @4062
  SAY 0x114 @4063
  SAY 0x124 @4064
  SAY 0x128 @4065
  SAY 0x12C @4066
  SAY 0x130 @4067
  SAY 0x134 @4068
  SAY 0x138 @4069
  SAY 0x13C @4070
  SAY 0x140 @4071
  SAY 0x144 @4072
  SAY 0x148 @4073
  SAY 0x14C @4074
  SAY 0x150 @4075
  SAY 0x154 @4079
  SAY 0x160 @4081
  SAY 0x16C @4080
  SAY 0x178 @4082
  SAY 0x17C @4083
  SAY 0x180 @4078
  SAY 0x18C @4076
  SAY 0x190 @4077
  SAY 0x1CC @10198

COPY_EXISTING ~BGT/Modify/CRE/KIVAN.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KIVAN4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/KIVAN6.CRE~ ~BG1CRE~
  SAY 0xA4 @3464
  SAY 0xA8 @3465
  SAY 0xAC @3466
  SAY 0xB0 @3467
  SAY 0xB4 @3468
  SAY 0xB8 @3469
  SAY 0xBC @3470
  SAY 0xC0 @3471
  SAY 0xC4 @3472
  SAY 0xC8 @5248
  SAY 0xEC @5255
  SAY 0xF0 @5256
  SAY 0xF4 @3473
  SAY 0xF8 @5249
  SAY 0xFC @3474
  SAY 0x100 @3475
  SAY 0x104 @5250
  SAY 0x108 @5252
  SAY 0x10C @3476
  SAY 0x110 @3477
  SAY 0x114 @3478
  SAY 0x124 @5253
  SAY 0x128 @3479
  SAY 0x12C @3480
  SAY 0x130 @3481
  SAY 0x134 @3482
  SAY 0x138 @3484
  SAY 0x13C @3486
  SAY 0x140 @3488
  SAY 0x144 @3489
  SAY 0x148 @3490
  SAY 0x14C @3492
  SAY 0x150 @3493
  SAY 0x154 @3499
  SAY 0x160 @3497
  SAY 0x164 @3498
  SAY 0x16C @1185
  SAY 0x178 @3500
  SAY 0x17C @3501
  SAY 0x180 @3496
  SAY 0x18C @3494
  SAY 0x190 @3495
  SAY 0x1CC @10181

COPY_EXISTING ~BGT/Modify/CRE/MINSC.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MINSC2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MINSC4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MINSC6.CRE~ ~BG1CRE~
  SAY 0xA4 @4084
  SAY 0xA8 @4085
  SAY 0xAC @4087
  SAY 0xB0 @4088
  SAY 0xB4 @4089
  SAY 0xB8 @4090
  SAY 0xBC @4091
  SAY 0xC0 @4092
  SAY 0xC4 @4093
  SAY 0xC8 @4086
  SAY 0xEC @5359
  SAY 0xF0 @5360
  SAY 0xF4 @4094
  SAY 0xF8 @4095
  SAY 0xFC @5357
  SAY 0x100 @4096
  SAY 0x104 @5358
  SAY 0x108 @4097
  SAY 0x10C @4098
  SAY 0x110 @4099
  SAY 0x114 @4100
  SAY 0x124 @4101
  SAY 0x128 @4102
  SAY 0x12C @4103
  SAY 0x130 @4104
  SAY 0x134 @4105
  SAY 0x138 @4106
  SAY 0x13C @4107
  SAY 0x140 @4108
  SAY 0x144 @4109
  SAY 0x148 @4110
  SAY 0x14C @4111
  SAY 0x150 @4112
  SAY 0x154 @4116
  SAY 0x158 @4117
  SAY 0x160 @4118
  SAY 0x178 @4119
  SAY 0x17C @4120
  SAY 0x18C @4115
  SAY 0x190 @4113
  SAY 0x194 @4114
  SAY 0x1CC @10185

  //Compatibility with NeJ: Minsc's Familiar
  PATCH_IF FILE_EXISTS_IN_GAME ~BOO.ITM~ BEGIN
    READ_LONG 0x2bc "it_off"
    READ_LONG 0x2c0 "it_cnt"
    FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
      READ_ASCII ("%it_off%"+0x14*cnt) "name"
      PATCH_IF (("%name%" STRING_COMPARE_CASE "MISC84")=0) BEGIN
        WRITE_ASCII ("%it_off%"+0x14*cnt) "BOO" #8
      END
    END
  END

COPY_EXISTING ~BGT/Modify/CRE/MONTAR.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MONTAR2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MONTAR4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/MONTAR6.CRE~ ~BG1CRE~
  SAY 0xA4 @4121
  SAY 0xA8 @4122
  SAY 0xAC @4124
  SAY 0xB0 @4125
  SAY 0xB4 @4126
  SAY 0xB8 @4127
  SAY 0xBC @4128
  SAY 0xC0 @4129
  SAY 0xC4 @4130
  SAY 0xC8 @4123
  SAY 0xEC @5363
  SAY 0xF0 @5364
  SAY 0xF4 @4131
  SAY 0xF8 @4132
  SAY 0xFC @5361
  SAY 0x100 @4133
  SAY 0x104 @4134
  SAY 0x108 @5362
  SAY 0x10C @4135
  SAY 0x110 @4136
  SAY 0x114 @4137
  SAY 0x124 @4138
  SAY 0x128 @4139
  SAY 0x12C @4140
  SAY 0x130 @4141
  SAY 0x134 @4142
  SAY 0x138 @4143
  SAY 0x13C @4144
  SAY 0x140 @4145
  SAY 0x144 @4146
  SAY 0x148 @4147
  SAY 0x14C @4148
  SAY 0x150 @4149
  SAY 0x154 @4153
  SAY 0x158 @4154
  SAY 0x15C @4155
  SAY 0x178 @4156
  SAY 0x17C @4157
  SAY 0x180 @4151
  SAY 0x18C @4150
  SAY 0x190 @4152
  SAY 0x1CC @10171

COPY_EXISTING ~BGT/Modify/CRE/BGQUAYLE.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/QUAYLE4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/QUAYLE6.CRE~ ~BG1CRE~
  SAY 0xA4 @4158
  SAY 0xA8 @4159
  SAY 0xAC @4160
  SAY 0xB0 @4161
  SAY 0xB4 @4162
  SAY 0xB8 @4163
  SAY 0xBC @4164
  SAY 0xC0 @4165
  SAY 0xC4 @4166
  SAY 0xC8 @5365
  SAY 0xEC @5368
  SAY 0xF0 @5369
  SAY 0xF4 @4167
  SAY 0xF8 @4168
  SAY 0xFC @5366
  SAY 0x100 @4169
  SAY 0x104 @5367
  SAY 0x108 @4170
  SAY 0x10C @4171
  SAY 0x110 @4172
  SAY 0x114 @4173
  SAY 0x120 @1185
  SAY 0x124 @4174
  SAY 0x128 @4175
  SAY 0x12C @4176
  SAY 0x130 @4177
  SAY 0x134 @4178
  SAY 0x138 @4179
  SAY 0x13C @4180
  SAY 0x140 @4181
  SAY 0x144 @4182
  SAY 0x148 @4183
  SAY 0x14C @4184
  SAY 0x150 @4185
  SAY 0x154 @4192
  SAY 0x158 @4190
  SAY 0x160 @4191
  SAY 0x178 @4194
  SAY 0x17C @4195
  SAY 0x18C @4187
  SAY 0x190 @4186
  SAY 0x194 @4189
  SAY 0x19C @13592
  SAY 0x1CC @10204

COPY_EXISTING ~BGT/Modify/CRE/SAFANA.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/SAFANA4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/SAFANA6.CRE~ ~BG1CRE~
  SAY 0xA4 @3696
  SAY 0xA8 @3697
  SAY 0xAC @3699
  SAY 0xB0 @3700
  SAY 0xB4 @3701
  SAY 0xB8 @3702
  SAY 0xBC @3703
  SAY 0xC0 @3704
  SAY 0xC4 @3705
  SAY 0xC8 @5291
  SAY 0xEC @5298
  SAY 0xF0 @5299
  SAY 0xF4 @3706
  SAY 0xF8 @5294
  SAY 0xFC @3707
  SAY 0x100 @5295
  SAY 0x104 @5296
  SAY 0x108 @5297
  SAY 0x10C @3708
  SAY 0x110 @3709
  SAY 0x114 @3710
  SAY 0x120 @1185
  SAY 0x124 @3711
  SAY 0x128 @3712
  SAY 0x12C @3714
  SAY 0x130 @3715
  SAY 0x134 @3717
  SAY 0x138 @3718
  SAY 0x13C @3719
  SAY 0x140 @3721
  SAY 0x144 @3723
  SAY 0x148 @3724
  SAY 0x14C @3726
  SAY 0x150 @3727
  SAY 0x154 @3734
  SAY 0x160 @3731
  SAY 0x164 @3732
  SAY 0x178 @3735
  SAY 0x17C @3736
  SAY 0x180 @3730
  SAY 0x18C @3728
  SAY 0x190 @3729
  SAY 0x1CC @10201

COPY_EXISTING ~BGT/Modify/CRE/SHARTE.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/SHARTE4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/SHARTE6.CRE~ ~BG1CRE~
  SAY 0xA4 @3576
  SAY 0xA8 @3577
  SAY 0xAC @3579
  SAY 0xB0 @3580
  SAY 0xB4 @3581
  SAY 0xB8 @3582
  SAY 0xBC @3583
  SAY 0xC0 @3584
  SAY 0xC4 @3585
  SAY 0xC8 @3578
  SAY 0xEC @5276
  SAY 0xF0 @5280
  SAY 0xF4 @3588
  SAY 0xF8 @5270
  SAY 0xFC @5272
  SAY 0x100 @5273
  SAY 0x104 @5274
  SAY 0x108 @5275
  SAY 0x10C @3589
  SAY 0x110 @3590
  SAY 0x114 @3591
  SAY 0x124 @3592
  SAY 0x128 @3593
  SAY 0x12C @3594
  SAY 0x130 @3595
  SAY 0x134 @3596
  SAY 0x138 @3597
  SAY 0x13C @3598
  SAY 0x140 @3599
  SAY 0x144 @3600
  SAY 0x148 @3601
  SAY 0x14C @3602
  SAY 0x150 @3603
  SAY 0x154 @3607
  SAY 0x158 @3608
  SAY 0x160 @3609
  SAY 0x178 @3610
  SAY 0x17C @3611
  SAY 0x180 @3604
  SAY 0x18C @3605
  SAY 0x190 @3606
  SAY 0x1CC @10215

COPY_EXISTING ~BGT/Modify/CRE/SKIE.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/SKIE6.CRE~ ~BG1CRE~
  SAY 0xA8 @3891
  SAY 0xAC @3924
  SAY 0xB0 @3893
  SAY 0xB4 @3894
  SAY 0xB8 @3896
  SAY 0xBC @3897
  SAY 0xC0 @3898
  SAY 0xC4 @3900
  SAY 0xC8 @5329
  SAY 0xEC @5335
  SAY 0xF0 @5336
  SAY 0xF4 @3901
  SAY 0xF8 @5330
  SAY 0xFC @5331
  SAY 0x100 @5332
  SAY 0x104 @5333
  SAY 0x108 @5334
  SAY 0x10C @3902
  SAY 0x110 @3903
  SAY 0x114 @3904
  SAY 0x120 @1185
  SAY 0x124 @3905
  SAY 0x128 @3906
  SAY 0x12C @3907
  SAY 0x130 @3908
  SAY 0x134 @3909
  SAY 0x138 @3910
  SAY 0x13C @3911
  SAY 0x140 @3912
  SAY 0x144 @3913
  SAY 0x148 @3914
  SAY 0x14C @3916
  SAY 0x150 @3917
  SAY 0x160 @3921
  SAY 0x164 @3922
  SAY 0x168 @3923
  SAY 0x178 @3924
  SAY 0x17C @3926
  SAY 0x180 @3920
  SAY 0x18C @3918
  SAY 0x190 @3919
  SAY 0x1CC @10207

COPY_EXISTING ~BGT/Modify/CRE/TIAX.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/TIAX4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/TIAX6.CRE~ ~BG1CRE~
  SAY 0xA4 @4196
  SAY 0xA8 @4197
  SAY 0xAC @4199
  SAY 0xB0 @4202
  SAY 0xB4 @4203
  SAY 0xB8 @4204
  SAY 0xBC @4205
  SAY 0xC0 @4206
  SAY 0xC4 @4208
  SAY 0xC8 @4198
  SAY 0xEC @5370
  SAY 0xF0 @5371
  SAY 0xF4 @4209
  SAY 0xF8 @4210
  SAY 0xFC @4211
  SAY 0x100 @4213
  SAY 0x104 @4214
  SAY 0x108 @4215
  SAY 0x10C @4216
  SAY 0x110 @4217
  SAY 0x114 @4218
  SAY 0x124 @4219
  SAY 0x128 @4221
  SAY 0x12C @4222
  SAY 0x130 @4223
  SAY 0x134 @4224
  SAY 0x138 @4225
  SAY 0x13C @4226
  SAY 0x140 @4227
  SAY 0x144 @4228
  SAY 0x148 @4229
  SAY 0x14C @4230
  SAY 0x150 @4231
  SAY 0x154 @4235
  SAY 0x16C @4236
  SAY 0x170 @4237
  SAY 0x178 @4238
  SAY 0x17C @4239
  SAY 0x18C @4232
  SAY 0x190 @4233
  SAY 0x194 @4234
  SAY 0x1CC @10213

COPY_EXISTING ~BGT/Modify/CRE/VICONI.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/VICONI4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/VICONI61.CRE~ ~BG1CRE~
  SAY 0xA4 @3612
  SAY 0xA8 @3613
  SAY 0xAC @3615
  SAY 0xB0 @3616
  SAY 0xB4 @3617
  SAY 0xB8 @3618
  SAY 0xBC @3619
  SAY 0xC0 @3620
  SAY 0xC4 @3621
  SAY 0xC8 @3614
  SAY 0xEC @5284
  SAY 0xF0 @5285
  SAY 0xF4 @3622
  SAY 0xF8 @3623
  SAY 0xFC @5281
  SAY 0x100 @5283
  SAY 0x104 @3624
  SAY 0x108 @3625
  SAY 0x10C @3626
  SAY 0x110 @3627
  SAY 0x114 @3628
  SAY 0x124 @3630
  SAY 0x128 @3631
  SAY 0x12C @3632
  SAY 0x130 @3633
  SAY 0x134 @3634
  SAY 0x138 @3635
  SAY 0x13C @3636
  SAY 0x140 @3637
  SAY 0x144 @3638
  SAY 0x148 @3639
  SAY 0x14C @3640
  SAY 0x150 @3641
  SAY 0x154 @3647
  SAY 0x160 @3646
  SAY 0x16C @3648
  SAY 0x178 @3649
  SAY 0x17C @3650
  SAY 0x180 @3643
  SAY 0x18C @3642
  SAY 0x190 @3645
  SAY 0x19C @13675
  SAY 0x1CC @10217

  //Compatibility with BG2 Fixpack
  //Adds Flame Blade to known spells
  PATCH_IF (FILE_EXISTS_IN_GAME ~cdbehbla.pro~) AND
           ("%SOURCE_RES%" STRING_COMPARE_CASE "VICONI4" = 0) BEGIN
    ADD_KNOWN_SPELL ~sppr206~ #1 ~priest~ // flame blade
  END ELSE


  //Compatibility with BG2 Fixpack
  //Deletes Holy Smite from known and memorized spells
  //Adds Flame Blade to known spells
  PATCH_IF (FILE_EXISTS_IN_GAME ~cdbehbla.pro~) AND
           ("%SOURCE_RES%" STRING_COMPARE_CASE "VICONI61" = 0) BEGIN
    READ_LONG 0x2a0 "known_off"
    READ_LONG 0x2a4 "known_num"
    READ_LONG 0x2a8 "meminfo_off"
    READ_LONG 0x2b0 "mem_off"
    READ_LONG 0x2b4 "mem_num"
    READ_LONG 0x2b8 "slot_off"
    READ_LONG 0x2bc "item_off"
    READ_LONG 0x2c4 "fx_off"
    FOR (index = known_num ; index > 0 ; index = index - 1) BEGIN // spellbook adjustments
      READ_ASCII ("%known_off%" + (("%index%" - 1) * 0x0C)) "spell"
      PATCH_IF ("SPPR313" STRING_COMPARE_CASE "%spell%" = 0) BEGIN
        DELETE_BYTES ("%known_off%" + (("%index%" - 1) * 0x0C)) 0x0C
        SET "known_num" = ("%known_num%" - 1)
        PATCH_IF ("%meminfo_off%" >= "%known_off%") BEGIN
          SET "meminfo_off" = ("%meminfo_off%" - 0x0C)
        END
        PATCH_IF ("%mem_off%" >= "%known_off%") BEGIN
          SET "mem_off" = ("%mem_off%" - 0x0C)
        END
        PATCH_IF ("%slot_off%" >= "%known_off%") BEGIN
          SET "slot_off" = ("%slot_off%" - 0x0C)
        END
        PATCH_IF ("%item_off%" >= "%known_off%") BEGIN
          SET "item_off" = ("%item_off%" - 0x0C)
        END
        PATCH_IF ("%fx_off%" >= "%known_off%") BEGIN
          SET "fx_off" = ("%fx_off%" - 0x0C)
        END
      END
    END
    FOR (index = mem_num ; index > 0 ; index = index - 1) BEGIN // spellbook adjustments
      READ_ASCII ("%mem_off%" + (("%index%" - 1) * 0x0C)) "spell"
      PATCH_IF ("SPPR313" STRING_COMPARE_CASE "%spell%" = 0) BEGIN
        WRITE_ASCII ("%mem_off%" + (("%index%" - 1) * 0x0C)) ~sppr314~ #8
      END
    END
    WRITE_LONG 0x2a0 "%known_off%"
    WRITE_LONG 0x2a4 "%known_num%"
    WRITE_LONG 0x2a8 "%meminfo_off%"
    WRITE_LONG 0x2b0 "%mem_off%"
    WRITE_LONG 0x2b8 "%slot_off%"
    WRITE_LONG 0x2bc "%item_off%"
    WRITE_LONG 0x2c4 "%fx_off%"
    ADD_KNOWN_SPELL ~sppr206~ #1 ~priest~ // flame blade
  END

COPY_EXISTING ~BGT/Modify/CRE/BGXAN.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/XAN4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/XAN6.CRE~ ~BG1CRE~
  SAY 0xA4 @3420
  SAY 0xA8 @3426
  SAY 0xAC @3428
  SAY 0xB0 @3429
  SAY 0xB4 @3430
  SAY 0xB8 @3431
  SAY 0xBC @3432
  SAY 0xC0 @3433
  SAY 0xC4 @3434
  SAY 0xC8 @3427
  SAY 0xEC @5246
  SAY 0xF0 @5247
  SAY 0xF4 @3435
  SAY 0xF8 @3436
  SAY 0xFC @3437
  SAY 0x100 @5244
  SAY 0x104 @3438
  SAY 0x108 @5245
  SAY 0x10C @3439
  SAY 0x110 @3440
  SAY 0x114 @3441
  SAY 0x124 @3442
  SAY 0x128 @3443
  SAY 0x12C @3444
  SAY 0x130 @3445
  SAY 0x134 @3446
  SAY 0x138 @3447
  SAY 0x13C @3448
  SAY 0x140 @3449
  SAY 0x144 @3450
  SAY 0x148 @3451
  SAY 0x14C @3452
  SAY 0x150 @3453
  SAY 0x154 @3459
  SAY 0x158 @3460
  SAY 0x160 @3461
  SAY 0x178 @3462
  SAY 0x17C @3463
  SAY 0x18C @3454
  SAY 0x190 @3456
  SAY 0x194 @3455
  SAY 0x1CC @10206

COPY_EXISTING ~BGT/Modify/CRE/BGXZAR.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/XZAR2.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/XZAR4.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/XZAR6.CRE~ ~BG1CRE~
  SAY 0xA4 @4240
  SAY 0xA8 @4241
  SAY 0xAC @4243
  SAY 0xB0 @4244
  SAY 0xB4 @4245
  SAY 0xB8 @4246
  SAY 0xBC @4247
  SAY 0xC0 @4248
  SAY 0xC4 @4249
  SAY 0xC8 @4242
  SAY 0xEC @5372
  SAY 0xF0 @5387
  SAY 0xF4 @4250
  SAY 0xF8 @4251
  SAY 0xFC @4252
  SAY 0x100 @4253
  SAY 0x104 @4254
  SAY 0x108 @4255
  SAY 0x10C @4256
  SAY 0x110 @4257
  SAY 0x114 @4258
  SAY 0x124 @4259
  SAY 0x128 @4260
  SAY 0x12C @4261
  SAY 0x130 @4263
  SAY 0x134 @4264
  SAY 0x138 @4265
  SAY 0x13C @4266
  SAY 0x140 @4267
  SAY 0x144 @4268
  SAY 0x148 @4269
  SAY 0x14C @4270
  SAY 0x150 @4271
  SAY 0x16C @4275
  SAY 0x170 @4276
  SAY 0x174 @4277
  SAY 0x178 @4278
  SAY 0x17C @4279
  SAY 0x180 @4274
  SAY 0x18C @4272
  SAY 0x190 @4273
  SAY 0x1CC @10172

COPY_EXISTING ~BGT/Modify/CRE/YESLIC.CRE~ ~BG1CRE~
              ~BGT/Modify/CRE/YESLIC5.CRE~ ~BG1CRE~
  SAY 0xA4 @4280
  SAY 0xA8 @4281
  SAY 0xAC @4283
  SAY 0xB0 @4284
  SAY 0xB4 @4285
  SAY 0xB8 @4286
  SAY 0xBC @4287
  SAY 0xC0 @4288
  SAY 0xC4 @4289
  SAY 0xC8 @4282
  SAY 0xEC @5392
  SAY 0xF0 @5393
  SAY 0xF4 @4290
  SAY 0xF8 @5389
  SAY 0xFC @5390
  SAY 0x100 @4291
  SAY 0x104 @4293
  SAY 0x108 @5391
  SAY 0x10C @4295
  SAY 0x110 @4296
  SAY 0x114 @4298
  SAY 0x124 @4302
  SAY 0x128 @4303
  SAY 0x12C @4304
  SAY 0x130 @4305
  SAY 0x134 @4307
  SAY 0x138 @4309
  SAY 0x140 @4312
  SAY 0x144 @4313
  SAY 0x148 @4314
  SAY 0x14C @4315
  SAY 0x150 @4316
  SAY 0x154 @4325
  SAY 0x160 @4321
  SAY 0x16C @4320
  SAY 0x178 @4326
  SAY 0x17C @4327
  SAY 0x180 @4319
  SAY 0x18C @4317
  SAY 0x190 @4318
  SAY 0x1CC @10195

////////////////////////////////////////
// Random Treasure Patching of Creatures
////////////////////////////////////////

ACTION_IF FILE_EXISTS ~data/CTB-RULE.BIF~ THEN BEGIN
 COPY_EXISTING + ~RNDWEP.2DA~ ~override~
  SET next_idx_weapon = 0
  SPRINT dest_scr1 ""
  SPRINT dest_scr2 ""
  SPRINT dest_scr3 ""
  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_weapon = rows_prev+1

  FOR(i=1; i<=3; i+=1) BEGIN //determine new row numbers for RNDWEP.2DA lines
   PATCH_IF (next_idx_weapon < 10) BEGIN
     PATCH_IF(i=1) BEGIN
      SPRINT dest_scr1 "RNDWEP0%next_idx_weapon%"
     END
     PATCH_IF(i=2) BEGIN
      SPRINT dest_scr2 "RNDWEP0%next_idx_weapon%"
     END
     PATCH_IF(i=3) BEGIN
      SPRINT dest_scr3 "RNDWEP0%next_idx_weapon%"
     END
   END
   SET next_idx_weapon += 1
  END

 COPY_EXISTING + ~RNDMAGIC.2DA~ ~override~
  SET next_idx_magic = 0
  SPRINT dest_scr4 ""
  SPRINT dest_mag1 ""
  SPRINT dest_mag2 ""
  SPRINT dest_tre1 ""

  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_magic = rows_prev+1

  FOR(i=1; i<=4; i+=1) BEGIN //determine new row numbers for RNDMAGIC.2DA lines
   PATCH_IF (next_idx_magic < 10) BEGIN
     PATCH_IF(i=1) BEGIN
      SPRINT dest_scr4 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(i=2) BEGIN
      SPRINT dest_mag1 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(i=3) BEGIN
      SPRINT dest_mag2 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(i=4) BEGIN
      SPRINT dest_tre1 "RNDMAG0%next_idx_magic%"
     END
   END
   SET next_idx_magic += 1
  END

 COPY_EXISTING + ~RNDEQUIP.2DA~ ~override~
  SET next_idx_equip = 0
  SPRINT dest_mag3 ""
  SPRINT dest_tre2 ""
  SPRINT dest_tre3 ""
  SPRINT dest_tre4 ""
  SPRINT dest_tre5 ""

  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_equip = rows_prev+1

  FOR(i=1; i<=5; i+=1) BEGIN //determine new row numbers for RNDEQUIP.2DA lines
   PATCH_IF (next_idx_equip < 10) BEGIN
     PATCH_IF(i=1) BEGIN
      SPRINT dest_mag3 "RNDEQU0%next_idx_equip%"
     END
     PATCH_IF(i=2) BEGIN
      SPRINT dest_tre2 "RNDEQU0%next_idx_equip%"
     END
     PATCH_IF(i=3) BEGIN
      SPRINT dest_tre3 "RNDEQU0%next_idx_equip%"
     END
     PATCH_IF(i=4) BEGIN
      SPRINT dest_tre4 "RNDEQU0%next_idx_equip%"
     END
     PATCH_IF(i=5) BEGIN
      SPRINT dest_tre5 "RNDEQU0%next_idx_equip%"
     END
   END
   SET next_idx_equip += 1
  END

 APPEND ~RNDWEP.2DA~ //three SCROL lines
~1stBG SCRL84 SCRL70 SCRL70 SCRL66 SCRL66 SCRL67 SCRL68 SCRL69 SCRL71 SCRL72 SCRL73 SCRL75 SCRL76 SCRL77 SCRL78 SCRL79 SCRL80 SCRL81 SCRL82 SCRL83
2ndBG SCRL85 SCRL85 SCRL86 SCRL86 SCRL87 SCRL88 SCRL89 SCRL90 SCRL91 SCRL92 SCRL93 SCRL94 SCRL95 SCRL96 SCRL97 SCRL98 SCRL99 SCRL1B SCRL1C SCRL2I
3rdBG SCRL1D SCRL1E SCRL1F SCRL1G SCRL1H SCRL1I SCRL1J SCRL1K SCRL1L SCRL1M SCRL1N SCRL1O SCRL1P SCRL1Q SCRL1S SCRL1S SCRL1T SCRL1E SCRL1M SCRL1I~

 APPEND ~RNDMAGIC.2DA~ //one SCROL line, two MAGIC lines, one TREAS line
~4thBG SCRL5A SCRL5B SCRL5C SCRL5D SCRL5G SCRL5H SCRL5I SCRL5J SCRL5K SCRL5M SCRL5M SCRL1Z SCRL2A SCRL1U SCRL1T SCRL56 SCRL58 SCRL59 SCRL5J
LOWBG  AROW07   BOLT05   BULL03*3 POTN31 %dest_scr2% %dest_scr1% SCRL06 SCRL04  POTN08   POTN43   POTN44   POTN37   POTN19   POTN28   BULL02*5 AROW02*5 BOLT02*5  AROW11*3  BOLT06*3
HIGHBG POTN09   POTN05   POTN03   SCRL08 SCRL09   %dest_scr3% SCRL16 POTN17  POTN08   POTN10   AROW04   AROW09   BOLT04   BOLT03   AROW06   AROW08   WAND03*10 WAND05*10 WAND06*10
POOR_BG1 MISC19   004      002      001      %dest_scr1% 001      001      *        *        *        001      001      001      001      002      002      003      003      MISC16~

 APPEND ~RNDEQUIP.2DA~ //one MAGIC line, four TREAS lines
~POOPBG *      POTN08 POTN13 POTN08 POTN36 POTN08 %dest_scr3% POTN08 SCRL91 POTN08 POTN18 POTN08 BOLT04*4 POTN08 AROW09*2 POTN08 WAND07*4 %dest_scr4%  POTN08  SW1H22
AVRG_BG1 *      %dest_mag1% MISC23   AMUL05   MISC17   015      012    010      008     006      003      *        001      007      009      %dest_scr1% MISC18   MISC22   AMUL06   RING12
WELL_BG1 *      %dest_mag1% MISC31   AMUL08   MISC20   034      AMUL09 %dest_scr1% 008     009      RING11   023      %dest_scr1% RING14   MISC26   MISC25   057      MISC27   MISC28   AMUL04
WEAL_BG1 *      %dest_mag1% RING18   MISC37   MISC35   RING16   AMUL07 %dest_scr2% 047     038      029      AMUL09   RING10   RING15   %dest_scr2% RING13   RING17   MISC34   MISC36   %dest_mag2%
RICH_BG1 *      %dest_mag2% %dest_mag1% MISC43   AMUL11   AMUL12   AMUL13 AMUL10   MISC29  MISC21   073      MISC24   %dest_scr3% MISC34   MISC38   %dest_scr3% MISC40   MISC42   %dest_mag1% %dest_mag2%~

END
ELSE BEGIN
 COPY_EXISTING + ~RNDSCROL.2DA~ ~override~
  SET next_idx_scroll = 0
  SPRINT dest_scr1 ""
  SPRINT dest_scr2 ""
  SPRINT dest_scr3 ""
  SPRINT dest_scr4 ""
 
  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_scroll = rows_prev+1

  FOR(i=1; i<=4; i+=1) BEGIN //determine new row numbers for RNDSCROL.2DA lines
   PATCH_IF (next_idx_scroll < 10) BEGIN
     PATCH_IF(i=1) BEGIN
      SPRINT dest_scr1 "RNDSCR0%next_idx_scroll%"
     END
     PATCH_IF(i=2) BEGIN
      SPRINT dest_scr2 "RNDSCR0%next_idx_scroll%"
     END
     PATCH_IF(i=3) BEGIN
      SPRINT dest_scr3 "RNDSCR0%next_idx_scroll%"
     END
     PATCH_IF(i=4) BEGIN
      SPRINT dest_scr4 "RNDSCR0%next_idx_scroll%"
     END
   END
   SET next_idx_scroll += 1
  END

 COPY_EXISTING + ~RNDMAGIC.2DA~ ~override~
  SET next_idx_magic = 0
  SPRINT dest_tre1 ""
  SPRINT dest_mag1 ""
  SPRINT dest_mag2 ""
  SPRINT dest_mag3 ""

  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_magic = rows_prev+1

  FOR(j=1; j<=4; j+=1) BEGIN //determine new row numbers for RNDMAGIC.2DA lines
   PATCH_IF (next_idx_magic < 10) BEGIN
     PATCH_IF(j=1) BEGIN
      SPRINT dest_mag1 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(j=2) BEGIN
      SPRINT dest_mag2 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(j=3) BEGIN
      SPRINT dest_mag3 "RNDMAG0%next_idx_magic%"
     END
     PATCH_IF(j=4) BEGIN
      SPRINT dest_tre1 "RNDMAG0%next_idx_magic%"
     END
   END
   SET next_idx_magic += 1
  END

 COPY_EXISTING + ~RNDTREAS.2DA~ ~override~
  SET next_idx_treas = 0
  SPRINT dest_tre2 ""
  SPRINT dest_tre3 ""
  SPRINT dest_tre4 ""
  SPRINT dest_tre5 ""

  SET rows=2
  SET rows_prev=0
  SET col_cnt=0
  WHILE "%rows%">1 BEGIN
   col_cnt += 1
   rows_prev = rows
   COUNT_2DA_ROWS col_cnt rows
  END
  col_cnt = col_cnt - 1
  SET next_idx_treas = rows_prev+1

  FOR(l=1; l<=4; l+=1) BEGIN //determine new row numbers for RNDTREAS.2DA lines
   PATCH_IF (next_idx_treas < 10) BEGIN
     PATCH_IF(l=1) BEGIN
      SPRINT dest_tre2 "RNDTRE0%next_idx_treas%"
     END
     PATCH_IF(l=2) BEGIN
      SPRINT dest_tre3 "RNDTRE0%next_idx_treas%"
     END
     PATCH_IF(l=3) BEGIN
      SPRINT dest_tre4 "RNDTRE0%next_idx_treas%"
     END
     PATCH_IF(l=4) BEGIN
      SPRINT dest_tre5 "RNDTRE0%next_idx_treas%"
     END
   END
   SET next_idx_treas += 1
  END

 APPEND ~RNDSCROL.2DA~ //four SCROL lines
~1stBG SCRL84 SCRL70 SCRL70 SCRL66 SCRL66 SCRL67 SCRL68 SCRL69 SCRL71 SCRL72 SCRL73 SCRL75 SCRL76 SCRL77 SCRL78 SCRL79 SCRL80 SCRL81 SCRL82 SCRL83
2ndBG SCRL85 SCRL85 SCRL86 SCRL86 SCRL87 SCRL88 SCRL89 SCRL90 SCRL91 SCRL92 SCRL93 SCRL94 SCRL95 SCRL96 SCRL97 SCRL98 SCRL99 SCRL1B SCRL1C SCRL2I
3rdBG SCRL1D SCRL1E SCRL1F SCRL1G SCRL1H SCRL1I SCRL1J SCRL1K SCRL1L SCRL1M SCRL1N SCRL1O SCRL1P SCRL1Q SCRL1S SCRL1S SCRL1T SCRL1E SCRL1M SCRL1I
4thBG SCRL5A SCRL5B SCRL5C SCRL5D SCRL5G SCRL5H SCRL5I SCRL5J SCRL5K SCRL5M SCRL5M SCRL1Z SCRL2A SCRL1U SCRL1T SCRL5M SCRL56 SCRL58 SCRL59 SCRL5J~

 APPEND ~RNDMAGIC.2DA~ //three MAGIC lines, one TREAS line
~LOWBG  AROW07   BOLT05   BULL03*3 POTN31 %dest_scr2% %dest_scr1% SCRL06 SCRL04  POTN08   POTN43   POTN44   POTN37   POTN19   POTN28   BULL02*5 AROW02*5 BOLT02*5  AROW11*3  BOLT06*3
HIGHBG POTN09   POTN05   POTN03   SCRL08 SCRL09   %dest_scr3% SCRL16 POTN17  POTN08   POTN10   AROW04   AROW09   BOLT04   BOLT03   AROW06   AROW08   WAND03*10 WAND05*10 WAND06*10
POOPBG POTN08   POTN13   POTN08   POTN36 POTN08   %dest_scr3% POTN08 SCRL91  POTN08   POTN18   POTN08   BOLT04*4 POTN08   AROW09*2 POTN08   WAND07*4 %dest_scr4%  POTN08    SW1H22
POOR_BG1 MISC19 004      002      001    RNDSCR04 001      001    *       *        *        001      001      001      001      002      002      003       003       MISC16~

 APPEND ~RNDTREAS.2DA~ //four TREAS lines
~AVRG_BG1   %dest_mag1% MISC23   AMUL05   MISC17   015      012    010      008     006      003      *        001      007      009      %dest_scr1% MISC18   MISC22   AMUL06   RING12
WELL_BG1   %dest_mag1% MISC31   AMUL08   MISC20   034      AMUL09 %dest_scr1% 008     009      RING11   023      %dest_scr1% RING14   MISC26   MISC25   057      MISC27   MISC28   AMUL04
WEAL_BG1   %dest_mag1% RING18   MISC37   MISC35   RING16   AMUL07 %dest_scr2% 047     038      029      AMUL09   RING10   RING15   %dest_scr2% RING13   RING17   MISC34   MISC36   %dest_mag2%
RICH_BG1   %dest_mag2% %dest_mag1% MISC43   AMUL11   AMUL12   AMUL13 AMUL10   MISC29  MISC21   073      MISC24   %dest_scr3% MISC34   MISC38   %dest_scr3% MISC40   MISC42   %dest_mag1% %dest_mag2%~

END

COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_tre1%.ITM~
COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_tre2%.ITM~
COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_tre3%.ITM~
COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_tre4%.ITM~
COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_tre5%.ITM~
COPY ~BGT/Modify/ITM/Treasure/RNDTRE.ITM~ ~override/%dest_mag3%.ITM~

COPY + ~BG1CRE~ ~BG1CRE~ 
 REPLACE_TEXTUALLY "RNDTRE01" "%dest_tre1%"
 REPLACE_TEXTUALLY "RNDTRE02" "%dest_tre2%"
 REPLACE_TEXTUALLY "RNDTRE03" "%dest_tre3%"
 REPLACE_TEXTUALLY "RNDTRE04" "%dest_tre4%"
 REPLACE_TEXTUALLY "RNDTRE05" "%dest_tre5%"
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING + ~SKELDED.CRE~ ~BG1CRE~
 REPLACE_TEXTUALLY "RNDMAG03" "%dest_mag3%"

//////////////////////////
//Copy creature files over
//////////////////////////

COPY ~BG1CRE~ ~override~

///////////////////////////////////////////////////////
// 2DA files
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100012

COPY ~BGT/Base/2DA~ ~override~

//BGT Credits
COPY ~BGT/Modify/2DA/BGTCRED.2DA~ ~override~
  REPLACE ~999~ @700037
  REPLACE ~888~ @700038

COPY ~BGT/Modify/2DA/CHPTXT-0.2DA~ ~override~
  REPLACE ~16202~ @700000

COPY ~BGT/Modify/2DA/CHPTXT-1.2DA~ ~override~
  REPLACE ~16203~ @700005

COPY ~BGT/Modify/2DA/CHPTXT-2.2DA~ ~override~
  REPLACE ~16204~ @700009

COPY ~BGT/Modify/2DA/CHPTXT-3.2DA~ ~override~
  REPLACE ~16205~ @700011

COPY ~BGT/Modify/2DA/CHPTXT-4.2DA~ ~override~
  REPLACE ~16206~ @700013

COPY ~BGT/Modify/2DA/CHPTXT-5.2DA~ ~override~
  REPLACE ~16207~ @700015

COPY ~BGT/Modify/2DA/CHPTXT-6.2DA~ ~override~
  REPLACE ~16208~ @700017

COPY ~BGT/Modify/2DA/CHPTXT-7.2DA~ ~override~
  REPLACE ~16209~ @700019

COPY_EXISTING ~IMPORT01.2DA~ ~override~
              ~IMPORT03.2DA~ ~override~
  SET_2DA_ENTRY 1 0 1 ~*~
BUT_ONLY_IF_IT_CHANGES

COPY ~BGT/Modify/2DA/ISLOFF.2DA~ ~override~
  REPLACE ~23356~ @23356

COPY ~BGT/Modify/2DA/ISLON.2DA~ ~override~
  REPLACE ~23355~ @23355

///////////////////////////////////////////////////////
// Miscellaneous files -- worldmap v6 support included
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100014

COPY ~BGT/Base/MISC~ ~override~
COPY ~BGT/Base/MUS~  ~music~

ACTION_IF FILE_EXISTS ~Worldmap/map_mods_areas.tbl~ THEN BEGIN
  COPY ~Worldmap/map_mods_areas.tbl~  ~Worldmap~
   APPEND_FILE ~BGT/Worldmap/areas.tbl~
  COPY ~Worldmap/map_mods_links.tbl~  ~Worldmap~
   APPEND_FILE ~BGT/Worldmap/links.tbl~
   
  //preliminary step - making LANGUAGE temporary file until the new WeiDU
  COPY - ~BGT/Worldmap/%LANGUAGE%/worldmap.tra~  ~tmp_worldmap.tra~
  COPY ~Worldmap/map_mods_trans.tra~  ~Worldmap~
   APPEND_FILE ~tmp_worldmap.tra~
END
ELSE BEGIN
  MKDIR ~Worldmap~
  COPY ~BGT/Worldmap/areas.tbl~ ~Worldmap/map_mods_areas.tbl~
  COPY ~BGT/Worldmap/links.tbl~ ~Worldmap/map_mods_links.tbl~
  COPY ~BGT/Worldmap/%LANGUAGE%/worldmap.tra~ ~Worldmap/map_mods_trans.tra~
  COPY ~BGT/Base/Map~ ~override~
END

///////////////////////////////////////////////////////
// XP Patcher
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100016

COPY ~BGMain.exe~ ~BGMain.exe~
  SET i = 1
  WHILE (i>0) BEGIN
    SET i += 4
    READ_LONG (0x6b0000 + "%i%" - 1) long_value //start at offset 0x6b0000
    READ_LONG (0x6b0000 + "%i%" - 5) long_before_value
    READ_LONG (0x6b0000 + "%i%" + 3) long_after_value
    PATCH_IF ("%long_before_value%" = 0)
         AND ("%long_after_value%" = 161000)
       /*AND ("%long_value%" = 89000)*/
    THEN BEGIN //look only for a long value bounded by a previous value of 0, and a next value of 161000
      WRITE_LONG (0x6b0000 + "%i%" - 1) 1 //setting to zero causes thieving skills to isolate from proficiencies and screws up skill types
    END
    PATCH_IF ("%i%" = 0x10001) BEGIN //span a region of 0x10000 bytes
      SET i = 0
    END
  END
////////////////////////////////////////////////////////
//Movie fix
////////////////////////////////////////////////////////
    REPLACE_TEXTUALLY ~DAYNITE~ "" (8)
    REPLACE_TEXTUALLY ~NITEDAY~ "" (8)
BUT_ONLY_IF_IT_CHANGES

//BG1
EXTEND_BOTTOM ~ar7200.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar7300.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar7400.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar7600.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar7700.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar7800.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar8000.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar8100.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~
EXTEND_BOTTOM ~ar8200.bcs~ ~BGT/Modify/BAF/aBG1MOV.baf~

//BG2
EXTEND_BOTTOM ~AR0020.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0041.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0045.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0046.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0300.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0400.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0500.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0700.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR0900.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR1000.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR1400.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR2000.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~
EXTEND_BOTTOM ~AR2800.bcs~ ~BGT/Modify/BAF/aBG2MOV.baf~

////////////////////////////////////////////////////////
//Fixpack
////////////////////////////////////////////////////////

PRINT ~~
PRINT @100022

////////////////////////////////////////////////////////
//Creatures
////////////////////////////////////////////////////////

COPY + ~override/AASIM.CRE~    ~override~
       ~override/ALAI.CRE~     ~override~
       ~override/ANDRIS.CRE~   ~override~
       ~override/BASILMUT.CRE~ ~override~
       ~override/BEYN.CRE~     ~override~
       ~override/BGGORF.CRE~   ~override~
       ~override/BOR.CRE~      ~override~
       ~override/CARSTO.CRE~   ~override~
       ~override/CUCHOL.CRE~   ~override~
       ~override/CULT3.CRE~    ~override~
       ~override/DEZKIE.CRE~   ~override~
       ~override/DIYAB.CRE~    ~override~
       ~override/DRAKAR.CRE~   ~override~
       ~override/DRASUS.CRE~   ~override~
       ~override/DROTH.CRE~    ~override~
       ~override/GARAN.CRE~    ~override~
       ~override/GARDUS.CRE~   ~override~
       ~override/GENTHO.CRE~   ~override~
       ~override/HALACA.CRE~   ~override~
       ~override/HASEO.CRE~    ~override~
       ~override/KNIGHTSK.CRE~ ~override~
       ~override/KYSUS.CRE~    ~override~
       ~override/LAMALH.CRE~   ~override~
       ~override/MANEIR.CRE~   ~override~
       ~override/MARCEL.CRE~   ~override~
       ~override/MOLKAR.CRE~   ~override~
       ~override/MORVIN.CRE~   ~override~
       ~override/NAAMAN.CRE~   ~override~
       ~override/OGREMA02.CRE~ ~override~
       ~override/PRAT.CRE~     ~override~
       ~override/RAHVIN.CRE~   ~override~
       ~override/REZDAN.CRE~   ~override~
       ~override/SAKUL.CRE~    ~override~
       ~override/SAREVO.CRE~   ~override~
       ~override/SHALDR.CRE~   ~override~
       ~override/SIRINE.CRE~   ~override~
       ~override/TAM.CRE~      ~override~
       ~override/TAZOK2.CRE~   ~override~
       ~override/TELKA.CRE~    ~override~
       ~override/TELLAN.CRE~   ~override~
       ~override/WUDEI.CRE~    ~override~
       ~override/ZEELA.CRE~    ~override~
       ~override/ZHALIM.CRE~   ~override~
  WRITE_BYTE 0x270 128        //switch from ENEMY to NEUTRAL - script enemy activation by Enemy()

COPY + ~override/ARGHAI.CRE~   ~override~
       ~override/BANDCAP.CRE~  ~override~
       ~override/BANDCR.CRE~   ~override~
       ~override/BANDIC.CRE~   ~override~
       ~override/BANDIT.CRE~   ~override~
       ~override/BANDIT2.CRE~  ~override~ //previously unused file made used
       ~override/BANDITA.CRE~  ~override~
       ~override/BANDITC.CRE~  ~override~
       ~override/BANDITCY.CRE~ ~override~
       ~override/BILLY.CRE~    ~override~
       ~override/CANTO.CRE~    ~override~
       ~override/DRIBBE.CRE~   ~override~
       ~override/HOBGOBC.CRE~  ~override~
       ~override/JEMBY.CRE~    ~override~
       ~override/KNOTT.CRE~    ~override~
       ~override/NEVILL.CRE~   ~override~
       ~override/RAEMON.CRE~   ~override~
       ~override/TEYNGA.CRE~   ~override~
       ~override/ZEKAR.CRE~    ~override~
 READ_LONG 0x2b8 "slots_off"
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 SET index=0
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "MISC86")=0) BEGIN
     SET index=cnt                             //find scalp index in items list
   END
 END
 FOR( cnt=0; cnt<38; cnt=cnt+1 ) BEGIN
   READ_SHORT ("%slots_off%"+2*cnt) nnn
   PATCH_IF (nnn=index) BEGIN
     WRITE_SHORT ("%slots_off%"+2*cnt) 0xffff //remove scalp from any slot
   END
 END
 WRITE_SHORT ("%slots_off%"+2*3) index        //put scalp to Gloves slot to avoid pickpocketing
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/ADDY.CRE~ ~override~
       ~override/BRENNA.CRE~ ~override~
       ~override/CAEDMO.CRE~ ~override~
       ~override/ELMIN3.CRE~ ~override~
       ~override/IVANNE.CRE~ ~override~
       ~override/JONAVI.CRE~ ~override~
       ~override/KAELLA.CRE~ ~override~
       ~override/KARAN1.CRE~ ~override~
       ~override/LAMALH.CRE~ ~override~
       ~override/PARDA1.CRE~ ~override~
       ~override/SLAVFREE.CRE~ ~override~
       ~override/SORREL.CRE~ ~override~
       ~override/SUGAR.CRE~ ~override~
  WRITE_EVALUATED_ASCII 0x280 ~%SOURCE_RES%~ #18 //script name

COPY + ~override/AASIM.CRE~ ~override~
       ~override/ALAI.CRE~ ~override~
       ~override/BART6.CRE~ ~override~
       ~override/DESTUS.CRE~ ~override~
       ~override/DIYAB.CRE~ ~override~
       ~override/DRATAN.CRE~ ~override~
       ~override/GARDUS.CRE~ ~override~
       ~override/IRONM2.CRE~ ~override~
       ~override/IRONM3.CRE~ ~override~
       ~override/IRONM4.CRE~ ~override~
       ~override/IRONME.CRE~ ~override~
       ~override/NAAMAN.CRE~ ~override~
       ~override/NORTUA.CRE~ ~override~
       ~override/THALDO.CRE~ ~override~
       ~override/TRIADO.CRE~ ~override~
       ~override/ZHALIM.CRE~ ~override~
  WRITE_ASCII 0x260 ~LEAVECH7~ #8 //general script

COPY + ~override/AASIM.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "SHIELD04")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "SHLD04"
     WRITE_BYTE ("%it_off%"+0x14*cnt+6) 0
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/AMARAN.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "MAGE2")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "MAGE02"
     WRITE_BYTE ("%it_off%"+0x14*cnt+6) 0
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/AVARICEM.CRE~ ~override~
       ~override/FEARM.CRE~ ~override~
       ~override/PRIDEM.CRE~ ~override~
  WRITE_EVALUATED_ASCII 0x280 "%SOURCE_RES%" #8
  WRITE_BYTE 0x27b 35 //Alignment

COPY + ~override/BASSIL.CRE~ ~override~
  WRITE_BYTE 0x27b 51 //Alignment

COPY + ~override/FLAMANG.CRE~  ~override~
       ~override/FLAMPUN.CRE~  ~override~
       ~override/FLAMPUN2.CRE~ ~override~
       ~override/FLAMSCO.CRE~  ~override~
       ~override/FLAMWIZ.CRE~  ~override~
       ~override/KENT.CRE~     ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "SW1HO4")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "SW1H04"
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/BHOBGOB.CRE~ ~override~
       ~override/HOBELITE.CRE~ ~override~
       ~override/HOBGOA_A.CRE~ ~override~
       ~override/HOBGOA_B.CRE~ ~override~
       ~override/HOBGOA_C.CRE~ ~override~
       ~override/HOBGOA_D.CRE~ ~override~
       ~override/HOBGOA_E.CRE~ ~override~
       ~override/HOBGOB.CRE~ ~override~
       ~override/HOBGOB_A.CRE~ ~override~
       ~override/HOBGOB_B.CRE~ ~override~
       ~override/HOBGOB_C.CRE~ ~override~
       ~override/HOBGOB_D.CRE~ ~override~
       ~override/HOBGOB_E.CRE~ ~override~
       ~override/HOBGOBA.CRE~ ~override~
       ~override/HOBGO5.CRE~ ~override~
       ~override/HOBGZHUR.CRE~ ~override~
       ~override/HOBJOIA.CRE~ ~override~
  WRITE_BYTE 0x27b 19 //Alignment

COPY + ~override/CANDER.CRE~ ~override~
  ADD_KNOWN_SPELL ~SPPR110~ #0 ~priest~
  WRITE_BYTE 0x54 10
  WRITE_BYTE 0x55 14
  WRITE_BYTE 0x56 13
  WRITE_BYTE 0x57 16
  WRITE_BYTE 0x58 15

COPY + ~override/CLAIRD.CRE~ ~override~
  WRITE_BYTE 0x237 2 //Sex
  WRITE_ASCII 0x268 "WTARSGT" #8 //default script
  WRITE_BYTE 0x275 2 //Gender
  ADD_CRE_ITEM ~BOW04~ #0 #0 #0 ~NONE~ ~WEAPON1~
  ADD_CRE_ITEM ~AROW02~ #20 #0 #0 ~NONE~ ~QUIVER1~
  REMOVE_CRE_ITEM ~SW1H05~
  ADD_CRE_ITEM ~SW1H05~ #0 #0 #0 ~NONE~ ~WEAPON2~

COPY + ~override/CULT3.CRE~ ~override~
 WRITE_ASCII 0x250 "CULTSHT" #8        //change class script
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/DAESE.CRE~ ~override~
       ~override/DAESEWLF.CRE~ ~override~
  WRITE_BYTE 0x237 2 //Sex
  WRITE_BYTE 0x275 2 //Gender

COPY + ~override/DAESE.CRE~ ~override~
  WRITE_LONG 0x14 1700 //XP value

COPY + ~override/DAESEWLF.CRE~ ~override~
  SAY 0x8 #22778
  SAY 0xc #22778

COPY + ~override/DEAD2.CRE~ ~override~
       ~override/DEADFUCK.CRE~ ~override~
       ~override/JAMIE.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "SWIH04")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "SW1H04"
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/FAHRIN.CRE~ ~override~
  WRITE_SHORT 0x24 16 //current HP
  WRITE_SHORT 0x26 16 //max HP
  WRITE_BYTE 0x234 3 //Level (class 1)
  WRITE_BYTE 0x27b 17 //Alignment

COPY + ~override/FARM.CRE~ ~override~
//       ~override/FARM2.CRE~ ~override~
       ~override/FARM3.CRE~ ~override~
       ~override/FARM4.CRE~ ~override~
//       ~override/FARMBE.CRE~ ~override~
       ~override/FARMER.CRE~ ~override~
//       ~override/FARMWE.CRE~ ~override~
 SAY 0x8 @500000
 SAY 0xc @500000

COPY + ~override/FARMBR.CRE~ ~override~
       ~override/GERDE.CRE~  ~override~
  WRITE_ASCII 0x248 "" #8 //override script

COPY + ~override/FLAM.CRE~ ~override~
  WRITE_BYTE 0x270 0xff

COPY + ~override/FLAM2.CRE~ ~override~
  WRITE_BYTE 0x52 14 //THAC0
  WRITE_BYTE 0x235 5 //Level (class 2)
  WRITE_BYTE 0x27b 33 //Alignment
  WRITE_BYTE 0x54 6
  WRITE_BYTE 0x55 10
  WRITE_BYTE 0x56 9
  WRITE_BYTE 0x57 12
  WRITE_BYTE 0x58 11

COPY + ~override/FORTHE.CRE~ ~override~
  WRITE_LONG 0x1c 200 //Gold

COPY + ~override/GELLAN.CRE~ ~override~
  WRITE_BYTE 0x52 16 //THAC0
  WRITE_BYTE 0x234 10 //Level (class 1)
  WRITE_BYTE 0x273 8 //Class
  WRITE_BYTE 0x27b 18 //Alignment
  WRITE_BYTE 0x54 9
  WRITE_BYTE 0x55 13
  WRITE_BYTE 0x56 12
  WRITE_BYTE 0x57 15
  WRITE_BYTE 0x58 14

COPY + ~override/GOLEMF.CRE~ ~override~
       ~override/GOLEMF2.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "B2-16")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "GOLFLE"
   END
 END
BUT_ONLY_IF_IT_CHANGES

COPY + ~override/GORION.CRE~ ~override~
  WRITE_BYTE 0x273 1 //change Class to Mage

COPY + ~override/GORION3.CRE~ ~override~
  READ_LONG 0x10 flags
  WRITE_LONG 0x10 (flags & 0b00000100)

COPY + ~override/HAREIS.CRE~ ~override~
  WRITE_BYTE 0x27b 19 //Alignment

COPY + ~override/HOUSEN.CRE~ ~override~
  WRITE_ASCII 0x248 ~GUARDS~  #8 // override script
  WRITE_ASCII 0x260 ~INITINV~ #8 // general script

COPY + ~override/HUNTER.CRE~ ~override~
  SAY NAME1 @500001
  SAY NAME2 @500001

COPY + ~override/IRON13.CRE~ ~override~
       ~override/IRON14.CRE~ ~override~
  WRITE_ASCII 0x248 "" #8 //override script

COPY + ~override/JALANT.CRE~ ~override~
 READ_LONG 0x2b8 "slots_off"
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 SET index=0
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "MISC54")=0) BEGIN
     SET index=cnt                             //find Child's Body index in items list
   END
 END
 FOR( cnt=0; cnt<38; cnt=cnt+1 ) BEGIN
   READ_SHORT ("%slots_off%"+2*cnt) nnn
   PATCH_IF (nnn=index) BEGIN
     WRITE_SHORT ("%slots_off%"+2*cnt) 0xffff //remove Child's Body from any slot
   END
 END
 WRITE_SHORT ("%slots_off%"+2*3) index       //put Child's Body to Gloves slot to avoid pickpocketing
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/ISLSIR.CRE~ ~override~
  WRITE_BYTE 0x275 2 //general parameter

COPY + ~override/JEBADO.CRE~ ~override~
       ~override/SONNER.CRE~ ~override~
       ~override/TELMEN.CRE~ ~override~
  WRITE_ASCII 0x250 "" #8 //class script

COPY + ~override/KAISH2.CRE~ ~override~
  WRITE_ASCII 0x250 "" #8    //kaisha.bcs to None

COPY + ~override/KAISHWLF.CRE~ ~override~
  WRITE_BYTE 0x237 2 //Sex
  WRITE_BYTE 0x275 2 //Gender 

COPY + ~override/KARAN1.CRE~ ~override~
  WRITE_BYTE 0x27b 18 //Alignment

COPY + ~override/KELDDA.CRE~ ~override~
  WRITE_BYTE 0x52 10 //THAC0
  WRITE_BYTE 0x234 16 //Level (class 1)
  WRITE_BYTE 0x54 4
  WRITE_BYTE 0x55 8
  WRITE_BYTE 0x56 7
  WRITE_BYTE 0x57 10
  WRITE_BYTE 0x58 9

COPY + ~override/LEAGGU2.CRE~ ~override~
       ~override/LEAGGU3.CRE~ ~override~
       ~override/LEAGGU4.CRE~ ~override~
  SAY 0xa4 #4964
  SAY 0x10c #4964

COPY + ~override/LOTHAN.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "B00T01")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BOOT01"
   END
 END
BUT_ONLY_IF_IT_CHANGES

COPY + ~override/NATASH.CRE~ ~override~
  WRITE_BYTE 0x27b 19 //Alignment

COPY + ~override/NOBL9.CRE~ ~override~
  WRITE_LONG 0x1c 2 //Gold

COPY + ~override/OGRMBA.CRE~ ~override~
  WRITE_BYTE 0x27b 19 //Alignment

COPY + ~override/RAMAZI.CRE~ ~override~
 READ_LONG 0x2b8 "slots_off"
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 SET index=0
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "RING07")=0) BEGIN
     SET index=cnt                             //find Ring of Prot+2 index in items list
   END
 END
 FOR( cnt=0; cnt<38; cnt=cnt+1 ) BEGIN
   READ_SHORT ("%slots_off%"+2*cnt) nnn
   PATCH_IF (nnn=index) BEGIN
     WRITE_SHORT ("%slots_off%"+2*cnt) 0xffff //remove ring from any slot
   END
 END
 WRITE_SHORT ("%slots_off%"+2*3) index       //put ring to Gloves slot to avoid pickpocketing
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/SILENC.CRE~ ~override~
  WRITE_SHORT 0x28 25360 //Animation ID
  WRITE_BYTE 0x237 2 //Sex
  WRITE_BYTE 0x275 2 //Gender 

COPY + ~override/SILKE.CRE~ ~override~
  WRITE_ASCII 0x248 "" #8 //override script

COPY + ~override/SKELETS.CRE~ ~override~
  ADD_CRE_ITEM ~RING99~ #0 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~LRING~

COPY + ~override/TAEROM.CRE~ ~override~
  WRITE_BYTE 0x52 16 //THAC0
  WRITE_BYTE 0x234 5 //Level (class 1)
  WRITE_BYTE 0x54 11
  WRITE_BYTE 0x55 13
  WRITE_BYTE 0x56 12
  WRITE_BYTE 0x57 13
  WRITE_BYTE 0x58 14

COPY + ~override/TAMAH.CRE~ ~override~
  WRITE_BYTE 0x237 2 //Sex
  WRITE_BYTE 0x275 2 //Gender 
COPY + ~override/MUTAMI.CRE~ ~override~
  WRITE_ASCII 0x248 ~~ #8 //override script

COPY + ~override/TETHTO.CRE~ ~override~
//       ~override/TETHTO2.CRE~ ~override~ //not imported (PreSetup.bat)
  WRITE_BYTE 0x234 18 //Level (class 1)

COPY + ~override/THALAN.CRE~ ~override~
  WRITE_BYTE 0x52 15 //THAC0
  WRITE_BYTE 0x234 17 //Level (class 1)
  WRITE_LONG 0x244 128 //Kit
  WRITE_BYTE 0x54 19
  WRITE_BYTE 0x55 5
  WRITE_BYTE 0x56 7
  WRITE_BYTE 0x57 9
  WRITE_BYTE 0x58 6

COPY + ~override/ULRAUN.CRE~ ~override~
  WRITE_BYTE 0x27b 18 //Alignment

COPY + ~override/VOLO.CRE~ ~override~
  WRITE_BYTE 0x27b 49 //Alignment

COPY + ~override/VOLTIN.CRE~ ~override~
  WRITE_BYTE 0x234 9 //Level (class 1)
  WRITE_BYTE 0x27b 34 //Alignment

COPY + ~override/VAYYA.CRE~ ~override~
  WRITE_BYTE 0x275 0x02 //Gender flag

COPY + ~override/XVART.CRE~ ~override~
       ~override/XVART2.CRE~ override
       ~override/XVART_A.CRE~ override
       ~override/XVART_B.CRE~ override
       ~override/XVART_C.CRE~ override
       ~override/XVARTH.CRE~ override
  WRITE_BYTE 0x27b 35 //Alignment

COPY + ~override/ZOMBIE.CRE~ ~override~
       ~override/ZOMBIE_A.CRE~ ~override~
       ~override/ZOMBIEB.CRE~ ~override~
  SAY 0xec #18085 //damage sound
  SAY 0xf0 #18086 //dying sound

COPY + ~override/BGCARBOS.CRE~ ~override~
  WRITE_ASCII 0x280 ~CARBOS~ #18 //script name

COPY + ~override/BGSHANK.CRE~ ~override~
  WRITE_ASCII 0x280 ~SHANK~ #18 //script name

STRING_SET ~12874~ @12874 //"Oberan" -> "Oberon"
STRING_SET ~12850~ @12850 //"Oberan" -> "Oberon"

//////////////////////////////////////////////////////////////////
//Dialogue
//////////////////////////////////////////////////////////////////
//hardcoded

//////////////////////////////////////////////////////////////////
//Items
//////////////////////////////////////////////////////////////////

COPY_EXISTING ~AROW05.ITM~ ~override~
              ~AROW12.ITM~ ~override~
              ~AROW14.ITM~ ~override~
 WRITE_BYTE 0x98  0     //not allow STR bonus to damage
 BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~BOOK07.ITM~ ~override~
              ~BOOK08.ITM~ ~override~
 WRITE_SHORT 0x1c 0x0000
 BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~BRAC06.ITM~ ~override~
 READ_LONG  0x1e "unus"
 WRITE_LONG 0x1e ("%unus%" BAND 0xffffffbf)  //resetting unusable flag for bards
 BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~DAGG09.ITM~ ~override~
              ~SW1H18.ITM~ ~override~
 READ_BYTE 0x18 "flag1"
 WRITE_BYTE 0x18 ("%flag1%" - 1) //removing unsellable flag
 BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~ISHLD02.ITM~ ~override~
 WRITE_SHORT 0x42 0 //Lore to identify

COPY_EXISTING ~MISC1B.ITM~ ~override~
 WRITE_ASCII 0x58 ~CMISC1B~ #8 // Carried icon

COPY_EXISTING ~MISC70.ITM~ ~override~
 SAY 0x8 @200000
 SAY 0xc @200000

COPY_EXISTING ~SCRLAUTO.ITM~ ~override~
              ~SCRLJALA.ITM~ ~override~
 WRITE_SHORT 0x38 1 //change stack size

COPY_EXISTING ~SW1H20.ITM~ ~override~
              ~SW1H22.ITM~ ~override~
              ~SW1H23.ITM~ ~override~
 WRITE_BYTE 0x2b 0x02   //setting unusable flag for beastmaster
 BUT_ONLY_IF_IT_CHANGES

//////////////////////////////////////////////////////////////////
//Scripts
//////////////////////////////////////////////////////////////////

COMPILE ~BGT/Fixpack/ACT01.BAF~
        ~BGT/Fixpack/ACT02.BAF~
        ~BGT/Fixpack/ACT03.BAF~
        ~BGT/Fixpack/ACT04.BAF~
        ~BGT/Fixpack/ACT05.BAF~
        ~BGT/Fixpack/ACT06.BAF~
        ~BGT/Fixpack/ACT08.BAF~
        ~BGT/Fixpack/ACT10.BAF~
        ~BGT/Fixpack/ACT11.BAF~
        ~BGT/Fixpack/ACT12.BAF~

COPY_EXISTING ~ALORA.BCS~ ~override~
 DECOMPILE_BCS_TO_BAF
 REPLACE_TEXTUALLY
~IF
  TimeOfDay(DAY)
THEN
  RESPONSE #100
    Activate(Myself)
END

IF
  TimeOfDay(DAY)
THEN
  RESPONSE #100
    Deactivate(Myself)
END~ ~~
 COMPILE_BAF_TO_BCS

COPY_EXISTING ~AMNISNA.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ReputationLT(LastSeenBy(Myself),5)~ ~ReputationLT(Player1,5)~
  COMPILE_BAF_TO_BCS

<<<<<<<<BGT/CH6END.BAF
>>>>>>>>
COMPILE ~BGT/CH6END.BAF~

COPY_EXISTING ~BANCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ActionOverride("Raiken",DestroySelf())~ ~ActionOverride("Raiken",Shout(2))
  ActionxOverride("Raiken",DestroySelf())~
  REPLACE_TEXTUALLY ~ActionxOverride("Raiken",DestroySelf())~ ~ActionOverride("Raiken",DestroySelf())~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~BANCUT02.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ActionOverride("Teven",DestroySelf())~ ~ActionOverride("Teven",Shout(2))
  ActionxOverride("Teven",DestroySelf())~
  REPLACE_TEXTUALLY ~ActionxOverride("Teven",DestroySelf())~ ~ActionOverride("Teven",DestroySelf())~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~BANDIT2.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~banditcr~ ~Teven~ //this is the change for the Combination fix
  REPLACE_TEXTUALLY ~IF
  Heard("Raiken",2)~ ~IF
  OR(2)
  Heard("Raiken",2)
  Heard("Teven",2)~
  COMPILE_BAF_TO_BCS

EXTEND_BOTTOM ~BHOSTILE.BCS~ ~BGT/Fixpack/aBHOSTILE.BAF~

COPY_EXISTING ~CH1CUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~"AR2700"~ ~"AR6600"~
  REPLACE_TEXTUALLY ~TRGORION~ ~~
  REPLACE_TEXTUALLY ~ClearAllActions()
    DayNight(MIDNIGHT)~ ~ClearAllActions()
    FadeToColor([0.0],0)
    DayNight(MIDNIGHT)~
  REPLACE_TEXTUALLY ~VerbalConstant(Myself,61)~ ~DisplayStringHead(Myself,4445)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~CH1CUT02.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~CutSceneId("Gorion")
    VerbalConstant(Myself,62)
    MoveToPoint(\[3103\.1410\])
    VerbalConstant(Myself,BATTLE_CRY)~
~CutSceneId("Gorion")
    MoveViewPoint([2400.1471],INSTANT)
    FadeFromColor([10.0],0)
    VerbalConstant(Myself,62)
    Wait(5)
    MoveToPoint([3103.1410])
    Wait(3)
    VerbalConstant(Myself,BATTLE_CRY)
    Wait(3)
    CreateCreature("M05PCspy",[3150.1440],1)~
  REPLACE_TEXTUALLY
~MoveViewObject(Player1,INSTANT)
    MoveViewPoint(\[3204\.1353\],VERY_FAST)~
~MoveViewObject(Player1,INSTANT)
    Wait(5)
    MoveViewPoint([3204.1353],VERY_FAST)~
  REPLACE_TEXTUALLY ~"None"~ ~""~
  REPLACE_TEXTUALLY ~VerbalConstant(Myself,62)~ ~DisplayStringHead(Myself,4446)~
  REPLACE_TEXTUALLY ~VerbalConstant(Myself,BATTLE_CRY)~ ~DisplayStringHead(Myself,4440)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~CH1CUT04.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ForceSpell("Tamoko",WIZARD_SLEEP)~ ~ForceSpellRES("BGCH1CUT","Tamoko")~
  REPLACE_TEXTUALLY ~3089\.1650~ ~3171.1887~
  REPLACE_TEXTUALLY
~IncrementChapter("Chptxt1")
    AddJournalEntry(16190,USER)~
~ActionOverride("M05PCspy",DestroySelf())
    RevealAreaOnMap("AR6526")
    HideAreaOnMap("AR0015")
    SetGlobal("Chapter","GLOBAL",0)
    IncrementChapter("Chptxt-1")
    SetGlobal("Chapter","GLOBAL",2)
    AddJournalEntry(16190,INFO)~
  REPLACE_TEXTUALLY ~VerbalConstant(Myself,UNHAPPY_BREAKING_POINT)~ ~DisplayStringHead(Myself,4439)~
  COMPILE_BAF_TO_BCS

  DECOMPILE_BCS_TO_BAF
  REPLACE ~16190~ @310733
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~DIGGER.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~IF
  Heard("Charleston",1)
THEN
  RESPONSE #100
    DestroySelf()
END~
~IF
  Heard("Charleston",1)
THEN
  RESPONSE #100
    MoveToPointNoInterrupt([3077.1261])
    Wait(3)
    DestroySelf()
END~
  COMPILE_BAF_TO_BCS
  
EXTEND_TOP ~DOPKIE.BCS~ ~BGT/Fixpack/aDOPKIE.BAF~

COPY_EXISTING ~DRIZZT.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY
~See(\[0\.0\.GNOLL\])
THEN~
~See([0.0.GNOLL])
  Global("DrizztFight","GLOBAL",1)
  !NumTimesTalkedTo(0)
THEN~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~FGOLEM.BCS~ ~override~
  REPLACE_BCS_BLOCK ~BGT/Fixpack/rFGOLEM.BAF~ ~BGT/Fixpack/xFGOLEM.BAF~

COPY_EXISTING ~GTWEREWO.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~END~ ~Wait(300)
END~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~KAGAIN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~GlobalTimerExpired("Kagain","GLOBAL")~ ~InParty(Myself)
GloxbalTimerExpired("Kagain","GLOBAL")~
  REPLACE_TEXTUALLY ~GloxbalTimerExpired("Kagain","GLOBAL")~ ~GlobalTimerExpired("Kagain","GLOBAL")~
  COMPILE_BAF_TO_BCS

EXTEND_TOP ~LARYS.BCS~ ~BGT/Fixpack/aLARYS.BAF~

EXTEND_BOTTOM ~MELICAMP.BCS~ ~BGT/Fixpack/aMELICAMP.BAF~

COPY_EXISTING ~NARLEN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("NarlenMove","GLOBAL",7)
  Global("ResarAttack","GLOBAL",1)~ ~Global("NarlenMove","GLOBAL",7)
  !Dead("Resar")
  Global("ResarAttack","GLOBAL",1)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~PHEOARCH.BCS~ ~override~
              ~PHEOGURD.BCS~ ~override~
              ~PHOENIX.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ReallyForceSpell(Myself~ ~ReallyForceSpellDead(Myself~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~RUFCUT01.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~ForceSpellPoint(\[4732\.3747\],WIZARD_DIMENSION_DOOR)
    EndCutSceneMode()
    Wait(1)
    SetInterrupt(TRUE)
    DestroySelf()~ ~EndCutSceneMode()~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SEMAJ.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("SemajBehavior","GLOBAL",0)~ ~Gloxbal("SemajBehavior","GLOBAL",0)
Allegiance(Myself,ENEMY)~
  REPLACE_TEXTUALLY ~Gloxbal("SemajBehavior","GLOBAL",0)~ ~Global("SemajBehavior","GLOBAL",0)~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SHIP.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~RESPONSE #100[^!]*ActionOverride(Player1,~ ~RESPONSE #100
ClearAllActions()
ActionOverride(Player1,~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~SHOAL.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF[^!]*HitBy~ ~IF
!Dead("Droth")
HitBy~
  COMPILE_BAF_TO_BCS

COPY_EXISTING ~THALANTR.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~SetGlobal("AttackThalantyr","GLOBAL",1)~
~SetGloxbal("AttackThalantyr","GLOBAL",1)
    ActionOverride("FGOLEM",Enemy())~
  REPLACE_TEXTUALLY ~SetGloxbal("AttackThalantyr","GLOBAL",1)~ ~SetGlobal("AttackThalantyr","GLOBAL",1)~

  REPLACE_TEXTUALLY ~EndCutSceneMode()~
~Wait(1)
Dialogue([PC])
EndCutSceneMoxde()~
  REPLACE_TEXTUALLY ~EndCutSceneMoxde()~ ~EndCutSceneMode()~
  
  COMPILE_BAF_TO_BCS

COMPILE ~BGT/Fixpack/TRAPDIS.BAF~

//////////////////////////////////////////////////////////////////
//Ruleset
//////////////////////////////////////////////////////////////////

COPY_EXISTING ~ALIGNMNT.2DA~ ~override~
 FOR( cnt=0; cnt<50; cnt=cnt+1 ) BEGIN        //standard SoA 51 rows
   READ_2DA_ENTRY cnt 0 10 "row_name"
   PATCH_IF( (("%row_name%" STRING_COMPARE_CASE "FIGHTER_THIEF")=0)      OR
             (("%row_name%" STRING_COMPARE_CASE "FIGHTER_MAGE_THIEF")=0) OR
             (("%row_name%" STRING_COMPARE_CASE "MAGE_THIEF")=0)         OR
             (("%row_name%" STRING_COMPARE_CASE "CLERIC_THIEF")=0)) BEGIN
     SET_2DA_ENTRY cnt 2 10 ~1~
     SET_2DA_ENTRY cnt 3 10 ~1~
   END
 END
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~LOREBON.2DA~ ~override~
  SET_2DA_ENTRY 14 1 2 ~3~ // Wisdom 15 correction
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~SKILLRAC.2DA~ ~override~
  SET_2DA_ENTRY 2 4 8 ~15~ // Elf Move Silently correction
  SET_2DA_ENTRY 4 4 8 ~10~ // Half-Elf Move Silently correction
  SET_2DA_ENTRY 5 4 8 ~20~ // Halfling Move Silently correction
  SET_2DA_ENTRY 6 3 8 ~10~ // Half-Orc Find Traps correction
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~SKILLRNG.2DA~ ~override~
  SET_2DA_ENTRY 1 1 2 ~21~
BUT_ONLY_IF_IT_CHANGES

//////////////////////////////////////////////////////////////////
//Spells
//////////////////////////////////////////////////////////////////

COPY_EXISTING ~SPWI003.SPL~ ~override~
              ~SPWI112.SPL~ ~override~
 READ_LONG  0x64 "ability_offset"
 READ_SHORT 0x68 "abil_cnt"
 READ_LONG  0x6a "eff_offset"
 FOR( cnt=0; cnt<"%abil_cnt%"; cnt=cnt+1 ) BEGIN
   READ_BYTE ("%ability_offset%"+cnt*0x28)  "type"
   PATCH_IF("%type%"=2) BEGIN        //found Ranged ability
     READ_SHORT ("%ability_offset%"+0x28*cnt+0x1e)  eff_number
     READ_SHORT ("%ability_offset%"+0x28*cnt+0x20)  eff_idx
     FOR( cnt2=0; cnt2<eff_number; cnt2=cnt2+1 ) BEGIN
       READ_SHORT ("%eff_offset%"+0x30*(cnt2+eff_idx))  "eff_type"
       PATCH_IF( "%eff_type%" = 12 ) BEGIN  //Damage ability effect
         WRITE_LONG ("%eff_offset%"+0x30*(cnt2+eff_idx)+0x1c) 1   //#dice/Max level
         WRITE_LONG ("%eff_offset%"+0x30*(cnt2+eff_idx)+0x1c+4) 4   //dice size/Min level
         //1D4 + 1 damage
       END
     END
   END
 END
 BUT_ONLY_IF_IT_CHANGES

//Detect Evil description fix
<<<<<<<<BGT/string.txt
1234
>>>>>>>>
COPY - ~BGT/string.txt~ ~BGT/string.txt~
  SAY 0 #12160
  READ_STRREF 0 DetectEvil

<<<<<<<<BGT/String.tra
@99999999 = "1111"
>>>>>>>>
COPY - ~BGT/String.tra~ ~BGT/String.tra~
  REPLACE_TEXTUALLY ~1111~ ~%DetectEvil%~
  REPLACE_TEXTUALLY ~1~ ~2~
LOAD_TRA ~BGT/String.tra~
COPY_EXISTING ~SPWI202.SPL~ ~override~
  SAY 0x50 @99999999

//////////////////////////////////////////////////////////////////
//Stores
//////////////////////////////////////////////////////////////////

COPY_EXISTING ~STOSILEN.STO~ ~override~
  SAY 0xc #20639

COPY_EXISTING ~TAV0721.STO~ ~override~
  SAY 0xc #57205

COPY_EXISTING ~TEM0002.STO~ ~override~
  SAY 0xc #11703

//////////////////////////////////////////////////////////////////
//Combination
//////////////////////////////////////////////////////////////////

COPY_EXISTING ~AJANTIS.BCS~  ~override~
              ~AR6801.BCS~   ~override~
              ~AR9600.BCS~   ~override~
              ~BANDIT.BCS~   ~override~
              ~BANDIT2.BCS~  ~override~
              ~BANDIT3.BCS~  ~override~
              ~CAPCUT02.BCS~ ~override~
              ~DRUID3.BCS~   ~override~
              //~GNOLL5.BCS~   ~override~ /*a hard-coded combination change is made below*/
              ~GNOLL5A.BCS~  ~override~
              ~GREYWOLF.BCS~ ~override~
              ~GUARD1.BCS~   ~override~
              ~GUARD2.BCS~   ~override~
              ~HOBGOBC.BCS~  ~override~
              ~KESCAPE.BCS~  ~override~
              ~SARRUN.BCS~   ~override~
              ~SHADOW.BCS~   ~override~
              ~THIEF.BCS~    ~override~
              ~WATCHEN2.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~EscapeArea()~ ~EscapeAreaDestroy(90)~
  COMPILE_BAF_TO_BCS
COMPILE ~BGT/Fixpack/Escape.D~

//SHARTE.D hardcoded
EXTEND_TOP ~SHARTEL2.BCS~ ~BGT/Fixpack/aSHARTEL2.BAF~
COPY ~BGT/Fixpack/SHARTHP1.ITM~ ~override~

COMPILE ~BGT/Fixpack/rGORPEL.D~

COMPILE ~BGT/Fixpack/rFABER.D~
COPY ~BGT/Fixpack/IRON15.CRE~ ~override~

COPY_EXISTING ~MISC86.ITM~ ~override~
 WRITE_BYTE 0x1c 0x0d //changes Bandit Scalp itemtype to Food(13)
COPY + ~override/STOVAI.STO~ ~override~
 WRITE_BYTE 0x9c 0x0d //changes Vai store to buy only itemtypes of Food(13)

COPY + ~override/THIEFG.CRE~ ~override~
 WRITE_ASCII 0x248 ~THIEFG~ #8 //override script
COMPILE ~BGT/Fixpack/THIEFG.BAF~

COPY + ~override/FLAMVAI.CRE~ ~override~
 WRITE_ASCII 0x258 ~FLAMVAI~ #8 //race script
COMPILE ~BGT/Fixpack/FLAMVAI.BAF~

COPY + ~override/JALANT.CRE~ ~override~
 WRITE_ASCII 0x260 ~JALANT~ #8 //general script
COMPILE ~BGT/Fixpack/JALANT.BAF~

COPY_EXISTING ~BELT.BCS~ ~override~
              ~LIIA.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~See(\[ENEMY\])~ ~Seex([ENEMY])
Global("SarevokBehavior","GLOBAL",0)
Global("NobleDopple","GLOBAL",1)~
  REPLACE_TEXTUALLY ~Seex(\[ENEMY\])~ ~See([ENEMY])~

  //BELT.BCS only
  REPLACE_TEXTUALLY ~Range(\[PC\],15)
  NumTimesTalkedTo(0)~ ~  Range([PC],15)
  !Allegiance(Myself,ENEMY)
  NumTimesTalkedTo(0)~
  COMPILE_BAF_TO_BCS

COPY + ~override/OOPAH.CRE~ ~override~
 WRITE_ASCII 0x280 ~Oopah~ #32 //script name

COPY + ~override/ARKION.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "AMUL13")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGAMUL13"
   END
 END
 BUT_ONLY_IF_IT_CHANGES
COPY + ~override/NEMPHR.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "RING12")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGRING12"
   END
 END
 BUT_ONLY_IF_IT_CHANGES
COPY_EXISTING ~AMUL13.ITM~ ~override/BGAMUL13.ITM~
COPY_EXISTING ~RING12.ITM~ ~override/BGRING12.ITM~

COPY_EXISTING ~RING16.ITM~ ~override/BGRING16.ITM~
COPY + ~override/CATP.CRE~ ~override~
  WRITE_ASCII 0x248 ~CATP~ #8 //override script
COMPILE ~BGT/Fixpack/CATP.BAF~
COPY + ~override/ARA005.ARE~ ~override~
 READ_LONG 0x78 "it_off"
 READ_SHORT 0x76 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "RING16")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGRING16"
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~MISC45.ITM~ ~override/BGMISC45.ITM~
COPY + ~override/AR8213.ARE~ ~override~
 READ_LONG 0x78 "it_off"
 READ_SHORT 0x76 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "MISC45")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGMISC45"
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/TERSUS.CRE~ ~override~
 WRITE_ASCII 0x258 ~TERSUS~ #8
COMPILE ~BGT/Fixpack/TERSUS.BAF~
COPY ~BGT/Fixpack/BGTERSUS.SPL~ ~override~

COPY_EXISTING ~FFHUNT.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~Global("Captured","GLOBAL",0)~ ~!AreaCheck("AR7228")
Gloxbal("Captured","GLOBAL",0)~
  REPLACE_TEXTUALLY ~Gloxbal("Captured","GLOBAL",0)~ ~Global("Captured","GLOBAL",0)~
  COMPILE_BAF_TO_BCS
COPY ~BGT/Fixpack/FLAMAL.CRE~ ~override~
COMPILE ~BGT/Fixpack/FLAMAL.BAF~

COPY + ~override/LOUPGAR.CRE~ ~override~
 WRITE_ASCII 0x248 ~LOUPGAR2~ #8 //override script
COMPILE ~BGT/Fixpack/LOUPGAR2.BAF~

EXTEND_TOP ~XVARTH.BCS~ ~BGT/Fixpack/aXVARTH.BAF~
COPY + ~override/HULRIK.CRE~ ~override~
 WRITE_ASCII 0x280 ~Hulrik~ #32 //script name

COMPILE ~BGT/Fixpack/GNOLL5.BAF~
COPY_EXISTING ~GNOLL5A.BCS~ ~override~
  REPLACE_BCS_BLOCK ~BGT/Fixpack/rGNOLL5A.BAF~ ~BGT/Fixpack/xGNOLL5A.BAF~

COPY + ~override/SAREVO.CRE~ ~override~
       ~override/SAREVO2.CRE~ ~override~
  ADD_CRE_ITEM ~BGMINHP1~ #0 #0 #0 ~UNSTEALABLE&UNDROPPABLE~ ~AMULET~
COPY ~BGT/Fixpack/BGMINHP1.ITM~ ~override~

COPY + ~override/TEM4802.STO~ ~override/TEM4003.STO~
  SAY 0xc @550000

COPY ~BGT/Fixpack/BGSLEEPP.SPL~ ~override~

COPY + ~override/GNOLLD.CRE~ ~override~
  WRITE_ASCII 0x280 ~GnollD~ #32 //script name
COPY_EXISTING ~GNOLLDR.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF
  Die()
THEN
  RESPONSE #100
    IncrementGlobal("DrizztGnolls","GLOBAL",1)
END~ ~~
  COMPILE_BAF_TO_BCS

COPY + ~override/RAT2.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
  WRITE_ASCII 0x280 ~Rat2~ #32 //script name

COPY_EXISTING ~EMITAR.CRE~ ~override~
  WRITE_ASCII 0x280 ~EmiTar~ #32 //script name

COPY ~BGT/Fixpack/BGGHAST.CRE~ ~override~
COPY_EXISTING ~BGIN996.SPL~ ~override~ //renamed from SPIN996
  READ_LONG 0x6a fx_off
  READ_SHORT 0x70 fx_num_global
  READ_LONG 0x64 abil_off
  READ_SHORT 0x68 abil_num

  SET fx_num_total = fx_num_global

  FOR (i = 0; i < %abil_num%; i += 1) BEGIN
    READ_SHORT (%abil_off% + %i% * 0x28 + 0x1e) abil_fx_num
    SET fx_num_total += abil_fx_num
  END

  FOR (i = 0; i < %fx_num_total%; i += 1) BEGIN
    READ_SHORT (%fx_off% + %i% * 0x30) fx_type
    PATCH_IF (%fx_type% = 151) BEGIN //Type: Replace self
      WRITE_ASCII (%fx_off% +%i% * 0x30 + 0x14) ~BGGHAST~ #8
    END
  END

//compatibility with BG1NPC
COPY + ~override/WYVERN.CRE~ ~override/X#CORWYV.CRE~
  WRITE_ASCII 0x280 ~X#CoranWyvern~ #32 //script name

COPY_EXISTING ~AR8501.ARE~ ~override~
  READ_LONG 0x54 actors_off
  READ_SHORT 0x58 actors_num
  FOR (i = 0; i < %actors_num%; i += 1) BEGIN
    READ_ASCII (%actors_off% + %i% * 0x110 + 0x80) actor_resref
    PATCH_IF !("%actor_resref%" STRING_COMPARE_CASE "WYVERN") BEGIN
      WRITE_ASCII (%actors_off% + %i% * 0x110 + 0x80) X#CORWYV (8)
    END
  END
BUT_ONLY_IF_IT_CHANGES

COPY_EXISTING ~CORAN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~!Dead("wyvern")~ ~!Dead("X#CoranWyvern")~
  COMPILE_BAF_TO_BCS
BUT_ONLY_IF_IT_CHANGES


COPY + ~override/SHANDAL2.CRE~ ~override~
 READ_LONG 0x2b8 "slots_off"
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 SET index=0
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
  READ_ASCII ("%it_off%"+0x14*cnt) "name"
  PATCH_IF (("%name%" STRING_COMPARE_CASE "MISC2H")=0) BEGIN
   SET index=cnt //find wardstone index in items list
  END
 END
 FOR( cnt=0; cnt<38; cnt=cnt+1 ) BEGIN
  READ_SHORT ("%slots_off%"+2*cnt) nnn
  PATCH_IF (nnn=index) BEGIN
   WRITE_SHORT ("%slots_off%"+2*cnt) 0xffff //remove wardstone from any slot
  END
 END
 WRITE_SHORT ("%slots_off%"+2*3) index //put wardstone to Gloves slot to avoid pickpocketing
BUT_ONLY_IF_IT_CHANGES

COPY + ~override/FIREB1.CRE~ ~override~
       ~override/FIREBE.CRE~ ~override~
  WRITE_BYTE 0x6f 2 //Small sword proficiency
  WRITE_EVALUATED_ASCII 0x280 ~%SOURCE_RES%~ #32
EXTEND_BOTTOM ~GG300.BCS~ ~BGT/Fixpack/aGG300.BAF~

COPY_EXISTING ~POTN14.ITM~ ~override/BGPOTN14.ITM~
COPY + ~override/DEDER.CRE~ ~override~
 READ_LONG 0x2bc "it_off"
 READ_LONG 0x2c0 "it_cnt"
 FOR( cnt=0; cnt<"%it_cnt%"; cnt=cnt+1 ) BEGIN
   READ_ASCII ("%it_off%"+0x14*cnt) "name"
   PATCH_IF (("%name%" STRING_COMPARE_CASE "POTN14")=0) BEGIN
     WRITE_ASCII ("%it_off%"+0x14*cnt) "BGPOTN14"
   END
 END
 BUT_ONLY_IF_IT_CHANGES

COPY + ~override/ZOMBIEW.CRE~ ~override~
  WRITE_ASCII 0x258 ~~ #8 //race script
  WRITE_ASCII 0x280 ~ZombieW~ #32 //script name

COPY + ~override/XVARTH.CRE~ ~override~
  WRITE_ASCII 0x280 ~XvartH~ #32 //script name
COPY_EXISTING ~XVARTH.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF
  Die()
THEN
  RESPONSE #100
    IncrementGlobal("XvartsDead","GLOBAL",1)
END~ ~~
  COMPILE_BAF_TO_BCS

COPY + ~override/OGREBJOR.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
  WRITE_ASCII 0x280 ~OgreBjor~ #32 //script name

COPY + ~override/OGRES.CRE~ ~override~
  WRITE_ASCII 0x248 ~~ #8 //coverride script
  WRITE_ASCII 0x280 ~OgreS~ #32 //script name

COPY + ~override/CULT1.CRE~ ~override~
  WRITE_ASCII 0x280 "CultGuard1" #32
COPY + ~override/CULT2.CRE~ ~override~
  WRITE_ASCII 0x280 "CultWizard1" #32
COPY + ~override/CULT3.CRE~ ~override~
  WRITE_ASCII 0x280 "CultWizard2" #32
COPY + ~override/CULTT1.CRE~ ~override~
  WRITE_ASCII 0x280 "CultWizard" #32
COPY + ~override/CULTT2.CRE~ ~override~
  WRITE_ASCII 0x280 "CultGuard" #32
COPY + ~override/CULTT3.CRE~ ~override~
  WRITE_ASCII 0x280 "CultAssassin" #32
COPY + ~override/CULTT4.CRE~ ~override~
  WRITE_ASCII 0x280 "CultArcher" #32

COPY ~override/FLAM6.CRE~ ~override/BGFLAM6.CRE~
  WRITE_ASCII 0x248 ~GUARDS~ #8
  WRITE_ASCII 0x250 ~SHOUT~ #8
  WRITE_ASCII 0x258 ~FLAM6~ #8
  WRITE_ASCII 0x260 ~INITINV~ #8
  WRITE_ASCII 0x268 ~WDASIGHT~ #8
  WRITE_ASCII 0x2CC ~FLAMEN~ #8
COPY ~override/FLAM6.CRE~ ~override/BGFLAM62.CRE~
  WRITE_ASCII 0x248 ~GUARDS~ #8
  WRITE_ASCII 0x250 ~SHOUT~ #8
  WRITE_ASCII 0x258 ~FLAM6~ #8
  WRITE_ASCII 0x260 ~~ #8
  WRITE_ASCII 0x268 ~WDASIGHT~ #8
  WRITE_ASCII 0x2CC ~FLAMEN~ #8
COMPILE ~BGT/Fixpack/BGACT06.BAF~

COPY ~BGT/Fixpack/TAZOKHP1.ITM~ ~override~
COPY_EXISTING ~TEVEN.BCS~ ~override~
              ~RAIKEN.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~DestroySelf()~ ~EscapeAreaDestroy(90)~
  COMPILE_BAF_TO_BCS

COPY + ~override/DOPPSS.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
  WRITE_ASCII 0x280 ~DoppSS~ #32 //script name
COPY_EXISTING ~DOPPSS.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF
  Die()
THEN
  RESPONSE #100
    IncrementGlobal("KilledDopple","GLOBAL",1)
END~ ~~
  COMPILE_BAF_TO_BCS

COPY + ~override/DOPZORL.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
  WRITE_ASCII 0x280 ~DopZorl~ #32 //script name

COPY_EXISTING ~DRUID3.BCS~ ~override~
              ~SENIYAD.BCS~ ~override~
  DECOMPILE_BCS_TO_BAF
  REPLACE_TEXTUALLY ~IF
  Die()
THEN
  RESPONSE #100
    IncrementGlobal("KilledDruids","GLOBAL",1)
END~ ~~
  COMPILE_BAF_TO_BCS

COPY + ~override/ANKHEGG.CRE~ ~override~
  WRITE_ASCII 0x250 ~~ #8 //class script
  WRITE_ASCII 0x280 ~AnkhegG~ #32 //script name

COPY + ~override/WORGAR.CRE~ ~override~
  WRITE_ASCII 0x248 ~~ #8 //override script
  WRITE_ASCII 0x280 ~WorgAr~ #32 //script name
  
COPY ~override/WOLFWEGR.CRE~ ~override/BGWOWEGR.CRE~
  REMOVE_CRE_ITEM ~MISC96~ //Peladan
COPY_EXISTING ~SPWI946.SPL~ ~override~
  REPLACE_TEXTUALLY ~WOLFWEGR~ ~BGWOWEGR~

///////////////////////////////////////////////////////
// GUI Switcher v2.0
///////////////////////////////////////////////////////
PRINT ~~
PRINT @100004

<<<<<<<<BGT/new_gui_switcher.tp2
BACKUP ~GUI_Mods/Backup~
AUTHOR ~King Diamond~

LANGUAGE ~English~
         ~English~
         ~BGT/Language/English/prompts.tra~
LANGUAGE ~Castellano (Castilian/Spanish)~
         ~Castilian~
         ~BGT/Language/Castilian/prompts.tra~
LANGUAGE ~Francais (French)~
         ~French~
         ~BGT/Language/French/prompts.tra~
LANGUAGE ~Deutsch (German)~
         ~German~
         ~BGT/Language/German/prompts.tra~
LANGUAGE ~Italiano (Italian)~
         ~Italian~
         ~BGT/Language/Italian/prompts.tra~
LANGUAGE ~«—±πæÓ (Korean)~
         ~Korean~
         ~BGT/Language/Korean/prompts.tra~
LANGUAGE ~Polski (Polish)~
         ~Polish~
         ~BGT/Language/Polish/prompts.tra~
LANGUAGE ~ê„··™®© (Russian)~
         ~Russian~
         ~BGT/Language/Russian/prompts.tra~
LANGUAGE ~ºÚÃÂ÷–Œƒ (Chinese - Simplified)~
         ~SChinese~
         ~BGT/Language/SChinese/prompts.tra~
LANGUAGE %¡c≈È§§§Â (Chinese - Traditional)%
         ~TChinese~
         ~BGT/Language/TChinese/prompts.tra~

>>>>>>>>

<<<<<<<<BGT/GUI_Mods.2DA
NEXT_AVAILABLE_MOD_SLOT      1
CURRENT_ACTIVE_MOD_GUI       0
RESERVED2                    -1
RESERVED3                    -1
RESERVED4                    -1
RESERVED5                    -1
RESERVED6                    -1
RESERVED7                    -1
RESERVED8                    -1
RESERVED9                    -1
>>>>>>>>

<<<<<<<<BGT/orig_gui.tp2
// ***********************************************************************************
BEGIN @100025
SUBCOMPONENT @100024

COPY_EXISTING ~GUI_Mods/GUI_Mods.2DA~ ~GUI_Mods~
SET_2DA_ENTRY  1 1 2    0   //CURRENT_ACTIVE_MOD_GUI
AT_EXIT ~Setup-GUI.exe --uninstall~

>>>>>>>>

<<<<<<<<BGT/mod_gui1.tp2
// ***********************************************************************************
BEGIN @100026
SUBCOMPONENT @100024

COPY_EXISTING ~GUI_Mods/GUI_Mods.2DA~ ~GUI_Mods~
SET_2DA_ENTRY  1 1 2   "%gui_slot_name%"  //CURRENT_ACTIVE_MOD_GUI
COPY ~GUI_Mods/%gui_slot_name%~  ~override~

>>>>>>>>

<<<<<<<<BGT/mod_gui2.tp2
// ***********************************************************************************
BEGIN @100027
SUBCOMPONENT @100024

COPY_EXISTING ~GUI_Mods/GUI_Mods.2DA~ ~GUI_Mods~
SET_2DA_ENTRY  1 1 2   "%gui_slot_name%"  //CURRENT_ACTIVE_MOD_GUI
COPY ~GUI_Mods/%gui_slot_name%~  ~override~
>>>>>>>>


ACTION_IF NOT FILE_EXISTS ~Setup-GUI.tp2~
THEN BEGIN
  MKDIR ~GUI_Mods~
  COPY ~Setup-BGT.exe~ ~Setup-GUI.exe~

  COPY ~BGT/GUI_Mods.2DA~ ~GUI_Mods/GUI_Mods.2DA~

  COPY ~BGT/new_gui_switcher.tp2~ ~Setup-GUI.tp2~
   APPEND_FILE ~BGT/orig_gui.tp2~
END
ELSE BEGIN
  OUTER_SET active_gui=0
  COPY_EXISTING - ~GUI_Mods/GUI_Mods.2DA~ ~GUI_Mods~
   READ_2DA_ENTRY 1 1 2 "active_gui"   //CURRENT_ACTIVE_MOD_GUI

  ACTION_IF ("%active_gui%">0) THEN BEGIN
   UNINSTALL ~Setup-GUI.tp2~ ~%active_gui%~  
  END
END

COPY_EXISTING ~GUI_Mods/GUI_Mods.2DA~ ~GUI_Mods~
READ_2DA_ENTRY 0 1 2 gui_slot_name
SET_2DA_ENTRY  0 1 2 gui_slot_name+2  //NEXT_AVAILABLE_MOD_SLOT

MKDIR ~GUI_Mods/%gui_slot_name%~

COPY_EXISTING ~Setup-GUI.tp2~ ~Setup-GUI.tp2~
APPEND_FILE_EVALUATE ~BGT/mod_gui1.tp2~
COPY ~BGT/BGT_Menu/Common~       ~GUI_Mods/%gui_slot_name%~
COPY ~BGT/BGT_Menu/startold.mos~ ~GUI_Mods/%gui_slot_name%~

OUTER_SET gui_slot_name = gui_slot_name + 1

MKDIR ~GUI_Mods/%gui_slot_name%~

COPY_EXISTING ~Setup-GUI.tp2~ ~Setup-GUI.tp2~
APPEND_FILE_EVALUATE ~BGT/mod_gui2.tp2~
COPY ~BGT/BGT_Menu/Common~       ~GUI_Mods/%gui_slot_name%~
COPY ~BGT/BGT_Menu/startold_alternate.mos~ ~GUI_Mods/%gui_slot_name%/startold.mos~

///////////////////////////////////////////////////////
// Music, Sounds, Movies, and Tilesets
///////////////////////////////////////////////////////

PRINT ~~
PRINT @100017

COPY_EXISTING ~INTRO15F.2DA~ ~override/SOAINTRO.2DA~

COPY ~Setup-BGT.exe~ ~Setup-BGTMusic.exe~
COPY ~BGT/Songlist/Music.tp2~ ~Setup-BGTMusic.tp2~

////////////////////////////////////////////////////////////
// Detect auto-install flag to suppress Post-Install display
////////////////////////////////////////////////////////////

ACTION_IF (~%argv[0]%~ STRING_CONTAINS_REGEXP ~[Ss]~) = 0 THEN BEGIN
  COPY ~BGT/Place.txt~ ~BGT/Autoinst.txt~
END

AT_EXIT ~BGT/Install/EndInit.bat~
AT_UNINSTALL ~BGT/Install/Uninstall.bat~